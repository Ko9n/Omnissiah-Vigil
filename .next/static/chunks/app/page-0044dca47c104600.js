(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1144:function(e,t,s){Promise.resolve().then(s.bind(s,5180))},5180:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ek}});var l=s(681),a=s(5852),i=s(9165),r=s(6729);let n=(0,r.Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var o=s(687);let c=(0,r.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var d=s(3598),x=s(9006),m=s(7715);let h=(0,r.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var u=s(4e3),p=s(221),g=s(2279);let b=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var v=s(1074),j=s(171),f=s(6731),N=s(9317);let y=(0,r.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),w=(0,r.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),k=(0,r.Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),C=(0,r.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var Z=s(8025);let M=(0,r.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),E=(0,r.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),D={Network:x.Z,Server:u.Z,Monitor:o.Z,Printer:j.Z,Smartphone:f.Z,Globe:N.Z,Database:y,Building:w,Folder:k,Shield:v.Z};function L(e){let{folders:t,devices:s,selectedFolderId:a,rootFolderExpanded:i,othersExpanded:r,onFolderSelect:d,onFolderToggle:m,onAddFolder:h,onEditFolder:p,onDeleteFolder:g,onAddDeviceToFolder:b}=e,y=e=>"root"===e?s.length:s.filter(t=>t.folderId===e).length,w=e=>"root"===e?s.filter(e=>"online"===e.status).length:s.filter(t=>t.folderId===e&&"online"===t.status).length,L=e=>{let t=e.children&&e.children.length>0,l=s.filter(t=>t.folderId===e.id).length>0,i=t||l;a===e.id?i&&m(e.id):(d(e.id),i&&!e.expanded&&m(e.id))},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,l.jsx)("div",{className:"select-none",draggable:!0,onDragStart:t=>{t.dataTransfer.setData("text/plain",e.id),t.dataTransfer.setData("device-id",e.id)},children:(0,l.jsxs)("div",{className:"group flex cursor-pointer items-center justify-between rounded-lg p-2 transition-all duration-200 ".concat(a===e.id?"border border-green-500/30 bg-green-500/20":"hover:bg-slate-700/50"),style:{paddingLeft:"".concat(20*t+28,"px")},onClick:()=>{console.log("Device clicked:",e.id,e.name),d(e.id)},children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,l.jsx)("div",{className:"rounded-lg border p-1.5",style:{backgroundColor:"online"===e.status?"#10B98120":"warning"===e.status?"#F59E0B20":"#EF444420",borderColor:"online"===e.status?"#10B98140":"warning"===e.status?"#F59E0B40":"#EF444440",color:"online"===e.status?"#10B981":"warning"===e.status?"#F59E0B":"#EF4444"},children:(()=>{let t={router:x.Z,switch:x.Z,server:u.Z,workstation:o.Z,printer:j.Z,mobile:f.Z,firewall:v.Z,access_point:N.Z}[e.type]||o.Z;return(0,l.jsx)(t,{className:"h-4 w-4"})})()}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-white",children:e.name}),(0,l.jsx)("div",{className:"flex items-center space-x-1 text-xs",children:(0,l.jsx)("span",{className:"online"===e.status?"text-green-400":"warning"===e.status?"text-yellow-400":"text-red-400",children:e.status})})]}),(0,l.jsx)("p",{className:"truncate text-xs text-slate-500",children:e.ip})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),console.log("Edit device:",e.id)},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-white",title:"Редактировать устройство",children:(0,l.jsx)(C,{className:"h-3 w-3"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),console.log("Delete device:",e.id)},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-red-400",title:"Удалить устройство",children:(0,l.jsx)(Z.Z,{className:"h-3 w-3"})})]})]})},e.id)},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=D[e.icon]||k,r=y(e.id),d=w(e.id),x=e.children&&e.children.length>0,u=s.filter(t=>t.folderId===e.id),v=u.length>0,j=x||v;return(0,l.jsxs)("div",{className:"select-none",children:[(0,l.jsxs)("div",{className:"group flex cursor-pointer items-center justify-between rounded-lg p-2 transition-all duration-200 ".concat(a===e.id?"border border-blue-500/30 bg-blue-500/20":"hover:bg-slate-700/50"),style:{paddingLeft:"".concat(20*t+8,"px")},onClick:()=>{console.log("Folder clicked:",e.id,e.name),L(e)},onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("bg-blue-500/10")},onDragLeave:e=>{e.currentTarget.classList.remove("bg-blue-500/10")},onDrop:t=>{t.preventDefault(),t.currentTarget.classList.remove("bg-blue-500/10");let s=t.dataTransfer.getData("device-id");s&&console.log("Moving device",s,"to folder",e.id)},children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[j&&(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),console.log("Toggle folder:",e.id,"current expanded:",e.expanded),m(e.id)},className:"rounded p-1 hover:bg-slate-600/50",children:e.expanded?(0,l.jsx)(M,{className:"h-4 w-4 text-slate-400"}):(0,l.jsx)(E,{className:"h-4 w-4 text-slate-400"})}),(0,l.jsx)("div",{className:"rounded-lg border p-1.5",style:{backgroundColor:"".concat(e.color,"20"),borderColor:"".concat(e.color,"40"),color:e.color},children:e.expanded&&j?(0,l.jsx)(n,{className:"h-4 w-4"}):(0,l.jsx)(i,{className:"h-4 w-4"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-white",children:e.name}),r>0&&(0,l.jsxs)("div",{className:"flex items-center space-x-1 text-xs",children:[(0,l.jsx)("span",{className:"text-green-400",children:d}),(0,l.jsx)("span",{className:"text-slate-500",children:"/"}),(0,l.jsx)("span",{className:"text-slate-400",children:r})]})]}),e.description&&(0,l.jsx)("p",{className:"truncate text-xs text-slate-500",children:e.description})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),b(e.id)},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-green-400",title:"Добавить устройство в эту папку",children:(0,l.jsx)(o.Z,{className:"h-3 w-3"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e.id)},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-blue-400",title:"Добавить подпапку",children:(0,l.jsx)(c,{className:"h-3 w-3"})}),"root"!==e.id&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),p(e.id)},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-white",title:"Редактировать папку",children:(0,l.jsx)(C,{className:"h-3 w-3"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e.id)},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-red-400",title:"Удалить папку",children:(0,l.jsx)(Z.Z,{className:"h-3 w-3"})})]})]})]}),e.expanded&&(0,l.jsxs)("div",{className:"mt-1",children:[x&&e.children.map(e=>S(e,t+1)),v&&u.map(e=>F(e,t+1))]})]},e.id)},I={id:"root",name:"Все устройства",description:"Все устройства сети",parentId:void 0,color:"#3B82F6",icon:"Network",expanded:i,children:t},T=s.length,B=s.filter(e=>"online"===e.status).length;return(0,l.jsx)("div",{className:"space-y-1",children:(0,l.jsxs)("div",{className:"select-none",children:[(0,l.jsxs)("div",{className:"group flex cursor-pointer items-center justify-between rounded-lg p-2 transition-all duration-200 ".concat("root"!==a&&a?"hover:bg-slate-700/50":"border border-blue-500/30 bg-blue-500/20"),onClick:()=>{console.log("Root folder clicked"),L(I)},children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),m("root")},className:"rounded p-1 hover:bg-slate-600/50",children:I.expanded?(0,l.jsx)(M,{className:"h-4 w-4 text-slate-400"}):(0,l.jsx)(E,{className:"h-4 w-4 text-slate-400"})}),(0,l.jsx)("div",{className:"rounded-lg border p-1.5",style:{backgroundColor:"#3B82F620",borderColor:"#3B82F640",color:"#3B82F6"},children:I.expanded?(0,l.jsx)(n,{className:"h-4 w-4"}):(0,l.jsx)(x.Z,{className:"h-4 w-4"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-white",children:"Все устройства"}),(0,l.jsxs)("div",{className:"flex items-center space-x-1 text-xs",children:[(0,l.jsx)("span",{className:"text-green-400",children:B}),(0,l.jsx)("span",{className:"text-slate-500",children:"/"}),(0,l.jsx)("span",{className:"text-slate-400",children:T})]})]}),(0,l.jsx)("p",{className:"truncate text-xs text-slate-500",children:"Все устройства сети"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),b("root")},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-green-400",title:"Добавить устройство в корень",children:(0,l.jsx)(o.Z,{className:"h-3 w-3"})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),h("root")},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-blue-400",title:"Добавить папку",children:(0,l.jsx)(c,{className:"h-3 w-3"})})]})]}),I.expanded&&(0,l.jsxs)("div",{className:"mt-1",children:[t.map(e=>S(e,1)),(()=>{let e=s.filter(e=>!e.folderId||"root"===e.folderId);if(0===e.length)return null;let t={expanded:r};return(0,l.jsxs)("div",{className:"select-none",children:[(0,l.jsxs)("div",{className:"group flex cursor-pointer items-center justify-between rounded-lg p-2 transition-all duration-200 ".concat("others"===a?"border border-blue-500/30 bg-blue-500/20":"hover:bg-slate-700/50"),style:{paddingLeft:"28px"},onClick:()=>{console.log("Others folder clicked"),d("others"),t.expanded||m("others")},onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("bg-blue-500/10")},onDragLeave:e=>{e.currentTarget.classList.remove("bg-blue-500/10")},onDrop:e=>{e.preventDefault(),e.currentTarget.classList.remove("bg-blue-500/10");let t=e.dataTransfer.getData("device-id");t&&console.log("Moving device",t,"to others folder")},children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),m("others")},className:"rounded p-1 hover:bg-slate-600/50",children:t.expanded?(0,l.jsx)(M,{className:"h-4 w-4 text-slate-400"}):(0,l.jsx)(E,{className:"h-4 w-4 text-slate-400"})}),(0,l.jsx)("div",{className:"rounded-lg border p-1.5",style:{backgroundColor:"#6B728020",borderColor:"#6B728040",color:"#6B7280"},children:t.expanded?(0,l.jsx)(n,{className:"h-4 w-4"}):(0,l.jsx)(k,{className:"h-4 w-4"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-white",children:"Иные"}),(0,l.jsxs)("div",{className:"flex items-center space-x-1 text-xs",children:[(0,l.jsx)("span",{className:"text-green-400",children:e.filter(e=>"online"===e.status).length}),(0,l.jsx)("span",{className:"text-slate-500",children:"/"}),(0,l.jsx)("span",{className:"text-slate-400",children:e.length})]})]}),(0,l.jsx)("p",{className:"truncate text-xs text-slate-500",children:"Устройства без категории"})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-1 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),b("others")},className:"rounded p-1 text-slate-400 hover:bg-slate-600/50 hover:text-green-400",title:"Добавить устройство в эту папку",children:(0,l.jsx)(o.Z,{className:"h-3 w-3"})})})]}),t.expanded&&(0,l.jsx)("div",{className:"mt-1",children:e.map(e=>F(e,2))})]},"others")})()]})]})})}var F=s(7549),S=s(5467);let I={blue:"text-blue-400 bg-blue-500/10",green:"text-green-400 bg-green-500/10",yellow:"text-yellow-400 bg-yellow-500/10",red:"text-red-400 bg-red-500/10",purple:"text-purple-400 bg-purple-500/10",indigo:"text-indigo-400 bg-indigo-500/10"},T=a.memo(e=>{let{title:t,value:s,icon:a,color:i,trend:r,loading:n=!1}=e;return(0,l.jsx)(F.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,l.jsx)(S.Zb,{className:"border-slate-700 bg-slate-800/50 transition-all duration-200 hover:bg-slate-800/70",children:(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"rounded-lg p-2 ".concat(I[i]),children:(0,l.jsx)(a,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-slate-400",children:t}),(0,l.jsxs)("div",{className:"flex items-baseline space-x-2",children:[n?(0,l.jsx)("div",{className:"h-6 w-16 animate-pulse rounded bg-slate-700"}):(0,l.jsx)(F.E.p,{className:"text-2xl font-bold text-white",initial:{scale:1.1},animate:{scale:1},transition:{duration:.2},children:s},s),r&&!n&&(0,l.jsxs)(F.E.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-xs font-medium ".concat(r.isPositive?"text-green-400":"text-red-400"),children:[r.isPositive?"+":"",r.value,"%"]})]})]})]})})})})})});function B(e){let{data:t}=e,{bandwidthHistory:s}=(0,i.v)(),[r,n]=(0,a.useState)(null),o=t||s,c=Math.max(...o.map(e=>Math.max(e.upload,e.download,e.total)),1),d=e=>{let t=e.map((t,s)=>{let l=s/Math.max(e.length-1,1)*100;return"".concat(l,",").concat(200-t/c*200)});return 0===t.length?"":1===t.length?"M".concat(t[0]," L").concat(t[0]):"M".concat(t.join(" L"))},x=d(o.map(e=>e.upload)),m=d(o.map(e=>e.download)),h=d(o.map(e=>e.total)),u=e=>e>=1e3?"".concat((e/1e3).toFixed(1)," Gbps"):"".concat(e.toFixed(1)," Mbps"),p=o[o.length-1]||{upload:0,download:0,total:0,timestamp:new Date};return(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-xl border border-slate-700/50 bg-slate-800/50 p-6 backdrop-blur-sm",children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Использование полосы пропускания"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),(0,l.jsx)("span",{className:"text-slate-400",children:"Отправка"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full bg-green-500"}),(0,l.jsx)("span",{className:"text-slate-400",children:"Загрузка"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full bg-purple-500"}),(0,l.jsx)("span",{className:"text-slate-400",children:"Общий"})]})]})]}),(0,l.jsxs)("div",{className:"relative mb-6",style:{height:200},children:[(0,l.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 ".concat(100," ").concat(200),className:"overflow-visible",preserveAspectRatio:"none",children:[[0,.25,.5,.75,1].map(e=>(0,l.jsxs)("g",{children:[(0,l.jsx)("line",{x1:"0",y1:200*e,x2:100,y2:200*e,stroke:"#475569",strokeWidth:"0.5",opacity:"0.3"}),(0,l.jsx)("text",{x:"-5",y:200*e+3,fill:"#64748b",fontSize:"10",textAnchor:"end",children:u(c*(1-e))})]},e)),o.length>1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F.E.path,{d:x,fill:"none",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1,ease:"easeInOut"},className:"opacity-80"}),(0,l.jsx)(F.E.path,{d:m,fill:"none",stroke:"#10B981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1,delay:.2,ease:"easeInOut"},className:"opacity-80"}),(0,l.jsx)(F.E.path,{d:h,fill:"none",stroke:"#8B5CF6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1,delay:.4,ease:"easeInOut"},className:"opacity-80"})]}),o.map((e,t)=>{let s=t/Math.max(o.length-1,1)*100,a=200-e.upload/c*200,i=200-e.download/c*200,d=200-e.total/c*200;return(0,l.jsxs)("g",{children:[(0,l.jsx)(F.E.circle,{cx:s,cy:a,r:r===t?"4":"3",fill:"#3B82F6",className:"cursor-pointer opacity-80",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.05*t},onMouseEnter:()=>n(t),onMouseLeave:()=>n(null)}),(0,l.jsx)(F.E.circle,{cx:s,cy:i,r:r===t?"4":"3",fill:"#10B981",className:"cursor-pointer opacity-80",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.05*t+.1},onMouseEnter:()=>n(t),onMouseLeave:()=>n(null)}),(0,l.jsx)(F.E.circle,{cx:s,cy:d,r:r===t?"4":"3",fill:"#8B5CF6",className:"cursor-pointer opacity-80",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.05*t+.2},onMouseEnter:()=>n(t),onMouseLeave:()=>n(null)})]},t)})]}),null!==r&&o[r]&&(0,l.jsx)(F.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"pointer-events-none absolute z-10 rounded-lg border border-slate-600 bg-slate-900/90 p-3 text-sm backdrop-blur-sm",style:{left:"".concat(r/Math.max(o.length-1,1)*100,"%"),top:"10px",transform:"translateX(-50%)"},children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),(0,l.jsxs)("span",{className:"text-blue-400",children:["Отправка: ",u(o[r].upload)]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,l.jsxs)("span",{className:"text-green-400",children:["Загрузка: ",u(o[r].download)]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full bg-purple-500"}),(0,l.jsxs)("span",{className:"text-purple-400",children:["Общий: ",u(o[r].total)]})]}),(0,l.jsx)("div",{className:"mt-1 border-t border-slate-600 pt-1 text-xs text-slate-400",children:new Date(o[r].timestamp).toLocaleTimeString()})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-lg bg-slate-700/30 p-3 text-center",children:[(0,l.jsx)("p",{className:"mb-1 text-slate-400",children:"Текущая отправка"}),(0,l.jsx)("p",{className:"text-lg font-medium text-blue-400",children:u(p.upload)}),(0,l.jsxs)("div",{className:"mt-1 text-xs text-slate-500",children:["↑ ",(p.upload/Math.max(c,1)*100).toFixed(1),"% от пика"]})]}),(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"rounded-lg bg-slate-700/30 p-3 text-center",children:[(0,l.jsx)("p",{className:"mb-1 text-slate-400",children:"Текущая загрузка"}),(0,l.jsx)("p",{className:"text-lg font-medium text-green-400",children:u(p.download)}),(0,l.jsxs)("div",{className:"mt-1 text-xs text-slate-500",children:["↓"," ",(p.download/Math.max(c,1)*100).toFixed(1),"% от пика"]})]}),(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"rounded-lg bg-slate-700/30 p-3 text-center",children:[(0,l.jsx)("p",{className:"mb-1 text-slate-400",children:"Общее использование"}),(0,l.jsx)("p",{className:"text-lg font-medium text-purple-400",children:u(p.total)}),(0,l.jsxs)("div",{className:"mt-1 text-xs text-slate-500",children:["⚡ ",(p.total/Math.max(c,1)*100).toFixed(1),"% от пика"]})]})]}),0===o.length&&(0,l.jsxs)("div",{className:"py-8 text-center text-slate-400",children:[(0,l.jsx)("div",{className:"mb-2 text-4xl",children:"\uD83D\uDCCA"}),(0,l.jsx)("p",{children:"Нет данных о полосе пропускания"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:"Данные появятся после начала мониторинга"})]})]})}T.displayName="MetricsCard";var z=s(1590),P=s(4056);let q=(0,r.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),H=(0,r.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),A=(0,r.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),V=(0,r.Z)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),R=(0,r.Z)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);var O=s(1390),U=s(798),W=s(1804);let _=(0,U.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function G(e){let{className:t,variant:s,...a}=e;return(0,l.jsx)("div",{className:(0,W.cn)(_({variant:s}),t),...a})}let X={router:z.Z,switch:x.Z,server:u.Z,workstation:o.Z,printer:j.Z,mobile:f.Z,firewall:v.Z,access_point:P.Z},$={online:"bg-green-500/20 text-green-400 border-green-500/20",offline:"bg-red-500/20 text-red-400 border-red-500/20",warning:"bg-yellow-500/20 text-yellow-400 border-yellow-500/20"},J=a.memo(e=>{let{device:t,onEdit:s,onDelete:i}=e,r=(0,a.useMemo)(()=>X[t.type]||x.Z,[t.type]);return(0,l.jsx)(F.E.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:(0,l.jsx)(S.Zb,{className:"group cursor-pointer border-slate-700 bg-slate-800/50 transition-all duration-200 hover:bg-slate-800/70",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"mb-3 flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"rounded-lg bg-slate-700/50 p-2",children:(0,l.jsx)(r,{className:"h-5 w-5 text-blue-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"truncate font-medium text-white",children:t.name}),(0,l.jsx)("p",{className:"text-sm text-slate-400",children:t.ip})]})]}),(0,l.jsx)(G,{className:$[t.status],children:t.status})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-slate-400",children:"Время отклика"}),(0,l.jsxs)("span",{className:"text-white",children:[t.responseTime,"ms"]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-slate-400",children:"Время работы"}),(0,l.jsxs)("span",{className:"text-white",children:[t.uptime,"%"]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-slate-400",children:"Производитель"}),(0,l.jsx)("span",{className:"text-white",children:t.vendor||"N/A"})]}),t.location&&(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-slate-400",children:"Локация"}),(0,l.jsx)("span",{className:"truncate text-white",children:t.location})]})]}),(0,l.jsxs)("div",{className:"mt-4 flex justify-end space-x-2 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,l.jsx)(O.z,{size:"sm",variant:"ghost",onClick:()=>s(t.id),className:"text-blue-400 hover:bg-blue-500/10 hover:text-blue-300",children:"Изменить"}),(0,l.jsx)(O.z,{size:"sm",variant:"ghost",onClick:()=>i(t.id),className:"text-red-400 hover:bg-red-500/10 hover:text-red-300",children:"Удалить"})]})]})})})});J.displayName="DeviceCard";let K=a.memo(e=>{let{device:t,onEdit:s,onDelete:i}=e,r=(0,a.useMemo)(()=>X[t.type]||x.Z,[t.type]);return(0,l.jsx)(F.E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,l.jsx)(S.Zb,{className:"group border-slate-700 bg-slate-800/50 transition-all duration-200 hover:bg-slate-800/70",children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-6 items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"rounded-lg bg-slate-700/50 p-2",children:(0,l.jsx)(r,{className:"h-4 w-4 text-blue-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"truncate font-medium text-white",children:t.name}),(0,l.jsx)("p",{className:"text-sm text-slate-400",children:t.type})]})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("p",{className:"text-white",children:t.ip}),(0,l.jsx)("p",{className:"text-slate-400",children:t.location||"N/A"})]}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(G,{className:$[t.status],children:t.status})}),(0,l.jsxs)("div",{className:"text-center text-sm",children:[(0,l.jsxs)("p",{className:"text-white",children:[t.responseTime,"ms"]}),(0,l.jsx)("p",{className:"text-slate-400",children:"отклик"})]}),(0,l.jsxs)("div",{className:"text-center text-sm",children:[(0,l.jsxs)("p",{className:"text-white",children:[t.uptime,"%"]}),(0,l.jsx)("p",{className:"text-slate-400",children:"время работы"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,l.jsx)(O.z,{size:"sm",variant:"ghost",onClick:()=>s(t.id),className:"text-blue-400 hover:bg-blue-500/10 hover:text-blue-300",children:"Изменить"}),(0,l.jsx)(O.z,{size:"sm",variant:"ghost",onClick:()=>i(t.id),className:"text-red-400 hover:bg-red-500/10 hover:text-red-300",children:"Удалить"})]})]})})})})});function Q(){let{onAddDevice:e,onEditDevice:t,onDeleteDevice:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{devices:r,selectedFolderId:n,deleteDevice:o,folders:d}=(0,i.v)(),[x,m]=(0,a.useState)(""),[h,u]=(0,a.useState)("all"),[p,g]=(0,a.useState)("all"),[b,v]=(0,a.useState)("name"),[j,f]=(0,a.useState)("asc"),[N,y]=(0,a.useState)("grid"),w=r.filter(e=>{let t=e.name.toLowerCase().includes(x.toLowerCase())||e.ip.includes(x)||e.location&&e.location.toLowerCase().includes(x.toLowerCase()),s="all"===h||e.status===h,l="all"===p||e.type===p,a=!0;return a=!n||"root"===n||(r.some(e=>e.id===n)?e.id===n:"others"===n?!e.folderId||"root"===e.folderId:e.folderId===n),t&&s&&l&&a}),k=[...w].sort((e,t)=>{let s=e[b],l=t[b];return("lastSeen"===b&&(s=new Date(s).getTime(),l=new Date(l).getTime()),"string"==typeof s&&(s=s.toLowerCase(),l=l.toLowerCase()),s<l)?"asc"===j?-1:1:s>l?"asc"===j?1:-1:0}),C=Array.from(new Set(r.map(e=>e.type))),Z=w.filter(e=>"online"===e.status).length,M=w.filter(e=>"offline"===e.status).length,E=w.filter(e=>"warning"===e.status).length,D=e=>{if(t)t(e);else{let t=r.find(t=>t.id===e);t&&alert("Редактирование устройства: ".concat(t.name,"\nIP: ").concat(t.ip,"\nСтатус: ").concat(t.status))}},L=e=>{if(s)s(e);else{let t=r.find(t=>t.id===e);t&&confirm('Вы уверены, что хотите удалить устройство "'.concat(t.name,'"?'))&&(o(e),alert("Устройство успешно удалено"))}};return(0,l.jsx)(S.Zb,{className:"border-slate-700 bg-slate-800/50",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Сетевые устройства"}),(0,l.jsxs)("p",{className:"mb-2 text-sm text-blue-400",children:[(e=>{if(!e||"root"===e)return"Все устройства";if("others"===e)return"Иные";let t=r.find(t=>t.id===e);if(t)return"Устройство: ".concat(t.name);let s=t=>{for(let l of t){if(l.id===e)return l;if(l.children){let e=s(l.children);if(e)return e}}return null},l=s(d);return l?l.name:"Неизвестная папка"})(n)," • ",w.length," из"," ",r.length," устройств"]}),(0,l.jsxs)("div",{className:"mt-1 flex items-center space-x-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full bg-green-500"}),(0,l.jsxs)("span",{className:"text-slate-400",children:["Онлайн: ",Z]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full bg-red-500"}),(0,l.jsxs)("span",{className:"text-slate-400",children:["Офлайн: ",M]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),(0,l.jsxs)("span",{className:"text-slate-400",children:["Предупреждения: ",E]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(O.z,{variant:"ghost",size:"icon",onClick:()=>y("grid"===N?"list":"grid"),className:"text-slate-400 hover:bg-slate-700/50 hover:text-white",children:"grid"===N?(0,l.jsx)(q,{className:"h-5 w-5"}):(0,l.jsx)(H,{className:"h-5 w-5"})}),(0,l.jsxs)(O.z,{onClick:()=>{e?e():alert("Функция добавления устройства будет реализована в следующей версии")},className:"bg-blue-600 hover:bg-blue-700",children:[(0,l.jsx)(c,{className:"mr-2 h-4 w-4"}),"Добавить устройство"]})]})]}),(0,l.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-slate-400"}),(0,l.jsx)("input",{type:"text",placeholder:"Поиск устройств...",value:x,onChange:e=>m(e.target.value),className:"w-full rounded-lg border border-slate-600/50 bg-slate-700/50 py-2 pl-10 pr-4 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),(0,l.jsxs)("select",{value:h,onChange:e=>u(e.target.value),className:"rounded-lg border border-slate-600/50 bg-slate-700/50 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[(0,l.jsx)("option",{value:"all",children:"Все статусы"}),(0,l.jsx)("option",{value:"online",children:"Онлайн"}),(0,l.jsx)("option",{value:"offline",children:"Офлайн"}),(0,l.jsx)("option",{value:"warning",children:"Предупреждения"})]}),(0,l.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"rounded-lg border border-slate-600/50 bg-slate-700/50 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[(0,l.jsx)("option",{value:"all",children:"Все типы"}),C.map(e=>(0,l.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"flex-1 rounded-lg border border-slate-600/50 bg-slate-700/50 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:[(0,l.jsx)("option",{value:"name",children:"Имя"}),(0,l.jsx)("option",{value:"ip",children:"IP адрес"}),(0,l.jsx)("option",{value:"status",children:"Статус"}),(0,l.jsx)("option",{value:"responseTime",children:"Время отклика"}),(0,l.jsx)("option",{value:"uptime",children:"Время работы"}),(0,l.jsx)("option",{value:"lastSeen",children:"Последний раз онлайн"})]}),(0,l.jsx)(O.z,{variant:"ghost",size:"icon",onClick:()=>f("asc"===j?"desc":"asc"),className:"text-slate-400 hover:bg-slate-700/50 hover:text-white",children:"asc"===j?(0,l.jsx)(V,{className:"h-4 w-4"}):(0,l.jsx)(R,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:["grid"===N?(0,l.jsx)(F.E.div,{layout:!0,className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4",children:k.map(e=>(0,l.jsx)(J,{device:e,onEdit:D,onDelete:L},e.id))}):(0,l.jsx)(F.E.div,{layout:!0,className:"space-y-2",children:k.map(e=>(0,l.jsx)(K,{device:e,onEdit:D,onDelete:L},e.id))}),0===k.length&&(0,l.jsxs)("div",{className:"py-12 text-center",children:[(0,l.jsx)("div",{className:"mb-2 text-lg text-slate-400",children:"Устройства не найдены"}),(0,l.jsx)("div",{className:"text-slate-500",children:"Попробуйте изменить фильтры поиска"})]})]})]})})}K.displayName="DeviceListRow";var Y=s(7976);let ee=(0,r.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var et=s(3673);let es=(0,r.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var el=s(4788);let ea=(0,r.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ei={critical:ee,warning:g.Z,info:et.Z,error:ee},er={critical:"text-red-400 bg-red-500/10 border-red-500/20",warning:"text-yellow-400 bg-yellow-500/10 border-yellow-500/20",info:"text-blue-400 bg-blue-500/10 border-blue-500/20",error:"text-red-400 bg-red-500/10 border-red-500/20"},en={critical:"border-l-red-500",warning:"border-l-yellow-500",info:"border-l-blue-500",error:"border-l-red-500"};function eo(){let{alerts:e,markAlertResolved:t,clearAlerts:s}=(0,i.v)(),a=e.slice(0,10),r=e.filter(e=>!e.resolved).length,n=e.filter(e=>"critical"===e.type&&!e.resolved).length,o=e.length,c=e=>{t(e)},d=e=>{let t=new Date,s="string"==typeof e?new Date(e):e;if(isNaN(s.getTime()))return"неизвестно";let l=Math.floor((t.getTime()-s.getTime())/6e4);return l<1?"только что":l<60?"".concat(l," мин назад"):l<1440?"".concat(Math.floor(l/60)," ч назад"):s.toLocaleDateString()},x=e=>e.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl",children:[(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-slate-700/50 rounded-lg",children:(0,l.jsx)(es,{className:"h-5 w-5 text-blue-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Уведомления"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,l.jsx)("span",{className:"text-xs text-slate-400",children:"Live"})]}),r>0&&(0,l.jsx)("div",{className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 border border-red-500/20 rounded-full",children:(0,l.jsxs)("span",{className:"text-xs text-red-400 font-medium",children:[r," активных"]})})]})]})]}),e.length>0&&(0,l.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-700/50 rounded-lg transition-colors",children:[(0,l.jsx)(Z.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"text-sm",children:"Очистить"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,l.jsxs)(F.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1},className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:o}),(0,l.jsx)("div",{className:"text-xs text-slate-400",children:"Всего"})]}),(0,l.jsxs)(F.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-400",children:n}),(0,l.jsx)("div",{className:"text-xs text-slate-400",children:"Критические"})]}),(0,l.jsxs)(F.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:o-r}),(0,l.jsx)("div",{className:"text-xs text-slate-400",children:"Решены"})]})]}),(0,l.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto custom-scrollbar",children:(0,l.jsx)(Y.M,{children:a.map((e,t)=>{let s=ei[e.type];return(0,l.jsxs)(F.E.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:.05*t},className:"group relative bg-slate-700/30 backdrop-blur-sm border-l-4 ".concat(en[e.type]," rounded-lg p-4 hover:bg-slate-700/50 transition-all duration-300"),children:[(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"p-2 rounded-lg border ".concat(er[e.type]," flex-shrink-0"),children:(0,l.jsx)(s,{className:"h-4 w-4"})}),(0,l.jsx)("div",{className:"flex-1 min-w-0",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium ".concat(e.resolved?"text-slate-400 line-through":"text-white"," leading-relaxed"),children:e.message}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(b,{className:"h-3 w-3 text-slate-400"}),(0,l.jsx)("span",{className:"text-xs text-slate-400",title:x(e.timestamp),children:d(e.timestamp)})]}),e.deviceId&&(0,l.jsxs)("div",{className:"text-xs text-slate-500",children:["Устройство: ",e.deviceId]}),(0,l.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(er[e.type]),children:"critical"===e.type?"Критическое":"warning"===e.type?"Предупреждение":"Информация"})]})]}),e.resolved?(0,l.jsxs)("div",{className:"flex items-center space-x-1 text-green-400 ml-3",children:[(0,l.jsx)(el.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"text-xs",children:"Решено"})]}):(0,l.jsx)("button",{onClick:()=>c(e.id),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-600/50 rounded text-slate-400 hover:text-green-400 transition-all ml-3",title:"Отметить как решенное",children:(0,l.jsx)(ea,{className:"h-4 w-4"})})]})})]}),(0,l.jsx)("div",{className:"absolute top-2 right-2",children:"critical"===e.type&&(0,l.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})})]},e.id)})})}),0===e.length&&(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[(0,l.jsx)(el.Z,{className:"h-12 w-12 text-green-400 mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-slate-300 font-medium",children:"Нет уведомлений"}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Все системы работают штатно"})]}),e.length>10&&(0,l.jsx)("div",{className:"mt-4 text-center",children:(0,l.jsxs)("button",{className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:["Показать все уведомления (",e.length,")"]})})]}),r>0&&(0,l.jsxs)("div",{className:"absolute -top-1 -right-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-ping"}),(0,l.jsx)("div",{className:"absolute top-0 w-3 h-3 bg-red-500 rounded-full"})]})]})}let ec=(0,r.Z)("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),ed=(0,r.Z)("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]),ex=(0,r.Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),em=(0,r.Z)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),eh=(0,r.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function eu(e){let{value:t,color:s,label:a,icon:i,unit:r="%"}=e,n="temperature"===a.toLowerCase()?t>70?"bg-red-500 text-red-400":t>50?"bg-yellow-500 text-yellow-400":"bg-green-500 text-green-400":t>90?"bg-red-500 text-red-400":t>75?"bg-yellow-500 text-yellow-400":"bg-green-500 text-green-400",o=n.includes("red")?"bg-red-500/20":n.includes("yellow")?"bg-yellow-500/20":"bg-green-500/20";return(0,l.jsxs)(F.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(i,{className:"h-4 w-4 ".concat(n.split(" ")[1])}),(0,l.jsx)("span",{className:"text-sm font-medium text-slate-300",children:a})]}),(0,l.jsxs)("span",{className:"text-sm font-bold ".concat(n.split(" ")[1]),children:[t,r]})]}),(0,l.jsxs)("div",{className:"relative h-2 rounded-full ".concat(o),children:[(0,l.jsx)(F.E.div,{initial:{width:0},animate:{width:"".concat(Math.min(t,100),"%")},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full ".concat(n.split(" ")[0])}),(0,l.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-white/10"})]})]})}function ep(){let{systemHealth:e}=(0,i.v)(),t=(()=>{let t=Math.max(e.cpu,e.memory,e.disk,e.network);return t>90?{status:"critical",color:"text-red-400",bg:"bg-red-500/10"}:t>75?{status:"warning",color:"text-yellow-400",bg:"bg-yellow-500/10"}:{status:"healthy",color:"text-green-400",bg:"bg-green-500/10"}})();return(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-xl border border-slate-700/50 bg-slate-800/50 p-6 backdrop-blur-sm",children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Состояние системы"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 rounded-full px-3 py-1 ".concat(t.bg),children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full ".concat(t.color.replace("text-","bg-")," animate-pulse")}),(0,l.jsx)("span",{className:"text-xs font-medium ".concat(t.color),children:"critical"===t.status?"Критическое":"warning"===t.status?"Предупреждение":"Норма"})]})]}),(0,l.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,l.jsx)(eu,{value:e.cpu,color:"blue",label:"Процессор",icon:ec}),(0,l.jsx)(eu,{value:e.memory,color:"purple",label:"Память",icon:ed}),(0,l.jsx)(eu,{value:e.disk,color:"orange",label:"Диск",icon:ex}),(0,l.jsx)(eu,{value:e.network,color:"green",label:"Сеть",icon:p.Z}),e.temperature&&(0,l.jsx)(eu,{value:e.temperature,color:"red",label:"Температура",icon:em,unit:"\xb0C"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 border-t border-slate-700/50 pt-4",children:[e.uptime&&(0,l.jsxs)(F.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"rounded-lg bg-slate-700/30 p-3 text-center",children:[(0,l.jsxs)("div",{className:"mb-2 flex items-center justify-center",children:[(0,l.jsx)(b,{className:"mr-2 h-4 w-4 text-blue-400"}),(0,l.jsx)("span",{className:"text-xs text-slate-400",children:"Время работы"})]}),(0,l.jsx)("div",{className:"text-sm font-bold text-blue-400",children:(e=>{let t=Math.floor(e/86400),s=Math.floor(e%86400/3600),l=Math.floor(e%3600/60);return t>0?"".concat(t,"д ").concat(s,"ч"):s>0?"".concat(s,"ч ").concat(l,"м"):"".concat(l,"м")})(e.uptime)})]}),e.processes&&(0,l.jsxs)(F.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"rounded-lg bg-slate-700/30 p-3 text-center",children:[(0,l.jsxs)("div",{className:"mb-2 flex items-center justify-center",children:[(0,l.jsx)(eh,{className:"mr-2 h-4 w-4 text-purple-400"}),(0,l.jsx)("span",{className:"text-xs text-slate-400",children:"Процессы"})]}),(0,l.jsx)("div",{className:"text-sm font-bold text-purple-400",children:e.processes})]})]}),e.lastUpdate&&(0,l.jsx)("div",{className:"mt-4 text-center",children:(0,l.jsxs)("div",{className:"text-xs text-slate-500",children:["Обновлено: ",new Date(e.lastUpdate).toLocaleTimeString()]})}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"mb-2 flex items-center justify-between text-xs text-slate-400",children:[(0,l.jsx)("span",{children:"Общая производительность"}),(0,l.jsxs)("span",{children:[100-Math.max(e.cpu,e.memory,e.disk),"%"]})]}),(0,l.jsx)("div",{className:"h-1 rounded-full bg-slate-700/50",children:(0,l.jsx)(F.E.div,{initial:{width:0},animate:{width:"".concat(100-Math.max(e.cpu,e.memory,e.disk),"%")},transition:{duration:1.5,ease:"easeOut"},className:"h-full rounded-full ".concat(100-Math.max(e.cpu,e.memory,e.disk)>75?"bg-green-500":100-Math.max(e.cpu,e.memory,e.disk)>50?"bg-yellow-500":"bg-red-500")})})]})]})}var eg=s(8273),eb=s(5800);let ev=[{value:"router",label:"Роутер",icon:z.Z},{value:"switch",label:"Коммутатор",icon:x.Z},{value:"server",label:"Сервер",icon:u.Z},{value:"workstation",label:"Рабочая станция",icon:o.Z},{value:"printer",label:"Принтер",icon:j.Z},{value:"mobile",label:"Мобильное устройство",icon:f.Z},{value:"firewall",label:"Firewall",icon:v.Z},{value:"access_point",label:"Точка доступа",icon:P.Z}];function ej(e){let{isOpen:t,onClose:s,onSave:i,device:r,folders:n,defaultFolderId:o}=e,[c,d]=(0,a.useState)({name:"",ip:"",mac:"",type:"workstation",location:"",folderId:"root",vendor:"",model:"",osVersion:"",monitoring:{ping:!0,snmp:!1,http:!1,ssh:!1}});(0,a.useEffect)(()=>{r?d({name:r.name,ip:r.ip,mac:r.mac,type:r.type,location:r.location,folderId:r.folderId||"root",vendor:r.vendor,model:r.model,osVersion:r.osVersion,monitoring:r.monitoring||{ping:!0,snmp:!1,http:!1,ssh:!1}}):d({name:"",ip:"",mac:"",type:"workstation",location:"",folderId:o||"root",vendor:"",model:"",osVersion:"",monitoring:{ping:!0,snmp:!1,http:!1,ssh:!1}})},[r,t,o]);let x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=[];return e.forEach(e=>{s.push({id:e.id,name:t+e.name}),e.children&&e.children.length>0&&(s=s.concat(x(e.children,t+e.name+" / ")))}),s};if(!t)return null;let m=x(n);return(0,l.jsx)(Y.M,{children:(0,l.jsx)(F.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:s,children:(0,l.jsxs)(F.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3},className:"bg-slate-800 border border-slate-700 rounded-xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto mx-4",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white",children:r?"Редактировать устройство":"Добавить новое устройство"}),(0,l.jsx)("button",{onClick:s,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,l.jsx)(eb.Z,{className:"h-5 w-5"})})]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({name:c.name,ip:c.ip,mac:c.mac||"",type:c.type,responseTime:(null==r?void 0:r.responseTime)||0,uptime:(null==r?void 0:r.uptime)||0,location:c.location||"",folderId:c.folderId||"root",vendor:c.vendor||"",model:c.model||"",osVersion:c.osVersion||"",monitoring:c.monitoring,position:null==r?void 0:r.position}),s()},className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Основная информация"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Название устройства *"}),(0,l.jsx)("input",{type:"text",required:!0,value:c.name,onChange:e=>d(t=>({...t,name:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите название устройства"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"IP адрес *"}),(0,l.jsx)("input",{type:"text",required:!0,value:c.ip,onChange:e=>d(t=>({...t,ip:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"192.168.1.100"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"MAC адрес"}),(0,l.jsx)("input",{type:"text",value:c.mac||"",onChange:e=>d(t=>({...t,mac:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"00:1B:44:11:3A:B7"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Расположение"}),(0,l.jsx)("input",{type:"text",value:c.location||"",onChange:e=>d(t=>({...t,location:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Серверная, 1 этаж"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Папка *"}),(0,l.jsxs)("select",{required:!0,value:c.folderId,onChange:e=>d(t=>({...t,folderId:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"root",children:"Корневая папка"}),m.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Тип устройства *"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:ev.map(e=>{let t=e.icon,s=c.type===e.value;return(0,l.jsxs)(F.E.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(t=>({...t,type:e.value})),className:"p-4 rounded-lg border-2 transition-all ".concat(s?"border-blue-500 bg-blue-500/20 text-blue-400":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"),children:[(0,l.jsx)(t,{className:"h-8 w-8 mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-sm font-medium",children:e.label}),s&&(0,l.jsx)("div",{className:"absolute top-2 right-2",children:(0,l.jsx)(ea,{className:"h-4 w-4 text-blue-400"})})]},e.value)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Дополнительные сведения"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Производитель"}),(0,l.jsx)("input",{type:"text",value:c.vendor||"",onChange:e=>d(t=>({...t,vendor:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Cisco, HP, Dell"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Модель"}),(0,l.jsx)("input",{type:"text",value:c.model||"",onChange:e=>d(t=>({...t,model:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Номер модели"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Версия ОС"}),(0,l.jsx)("input",{type:"text",value:c.osVersion||"",onChange:e=>d(t=>({...t,osVersion:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Windows 11, Ubuntu 22.04"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Настройки мониторинга"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"ping",label:"PING",description:"Проверка доступности"},{key:"snmp",label:"SNMP",description:"Мониторинг через SNMP"},{key:"http",label:"HTTP",description:"Веб-сервисы"},{key:"ssh",label:"SSH",description:"Удаленный доступ"}].map(e=>(0,l.jsx)(F.E.div,{whileHover:{scale:1.02},className:"p-4 rounded-lg border-2 cursor-pointer transition-all ".concat(c.monitoring[e.key]?"border-green-500 bg-green-500/20 text-green-400":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"),onClick:()=>d(t=>({...t,monitoring:{...t.monitoring,[e.key]:!t.monitoring[e.key]}})),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"font-semibold mb-1",children:e.label}),(0,l.jsx)("div",{className:"text-xs opacity-75",children:e.description}),c.monitoring[e.key]&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(ea,{className:"h-4 w-4 mx-auto text-green-400"})})]})},e.key))})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-slate-700",children:[(0,l.jsx)("button",{type:"button",onClick:s,className:"px-6 py-3 text-slate-300 hover:text-white transition-colors",children:"Отмена"}),(0,l.jsx)(F.E.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:r?"Сохранить изменения":"Добавить устройство"})]})]})]})})})}let ef=[{value:"Network",label:"Сеть",icon:x.Z},{value:"Server",label:"Сервер",icon:u.Z},{value:"Monitor",label:"Монитор",icon:o.Z},{value:"Printer",label:"Принтер",icon:j.Z},{value:"Smartphone",label:"Мобильные",icon:f.Z},{value:"Globe",label:"Интернет",icon:N.Z},{value:"Database",label:"База данных",icon:y},{value:"Building",label:"Здание",icon:w},{value:"Shield",label:"Безопасность",icon:v.Z},{value:"Wifi",label:"WiFi",icon:P.Z},{value:"Folder",label:"Папка",icon:k}],eN=[{value:"#3B82F6",label:"Синий"},{value:"#10B981",label:"Зеленый"},{value:"#EF4444",label:"Красный"},{value:"#F59E0B",label:"Желтый"},{value:"#8B5CF6",label:"Фиолетовый"},{value:"#06B6D4",label:"Голубой"},{value:"#F97316",label:"Оранжевый"},{value:"#EC4899",label:"Розовый"},{value:"#84CC16",label:"Лайм"},{value:"#6B7280",label:"Серый"}];function ey(e){var t;let{isOpen:s,onClose:i,onSave:r,folder:n,parentId:o,folders:c}=e,[d,x]=(0,a.useState)({name:"",description:"",color:"#3B82F6",icon:"Folder",parentId:o||"root"});(0,a.useEffect)(()=>{n?x({name:n.name,description:n.description||"",color:n.color,icon:n.icon,parentId:n.parentId||"root"}):x({name:"",description:"",color:"#3B82F6",icon:"Folder",parentId:o||"root"})},[n,o,s]);let m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0,l=[];return e.forEach(e=>{e.id!==s&&(l.push({id:e.id,name:t+e.name}),e.children&&e.children.length>0&&(l=l.concat(m(e.children,t+e.name+" / ",s))))}),l};if(!s)return null;let h=m(c,"",null==n?void 0:n.id);return(0,l.jsx)(Y.M,{children:(0,l.jsx)(F.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:i,children:(0,l.jsxs)(F.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3},className:"bg-slate-800 border border-slate-700 rounded-xl p-6 w-full max-w-2xl mx-4",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white",children:n?"Редактировать папку":"Создать новую папку"}),(0,l.jsx)("button",{onClick:i,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,l.jsx)(eb.Z,{className:"h-5 w-5"})})]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r({name:d.name,parentId:"root"===d.parentId?void 0:d.parentId,color:d.color,icon:d.icon,description:d.description||"",expanded:!0}),i()},className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Название папки *"}),(0,l.jsx)("input",{type:"text",required:!0,value:d.name,onChange:e=>x(t=>({...t,name:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите название папки"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Родительская папка"}),(0,l.jsxs)("select",{value:d.parentId,onChange:e=>x(t=>({...t,parentId:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"root",children:"Корневая папка"}),h.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Описание"}),(0,l.jsx)("textarea",{value:d.description,onChange:e=>x(t=>({...t,description:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Необязательное описание",rows:3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Иконка"}),(0,l.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-11 gap-2",children:ef.map(e=>{let t=e.icon,s=d.icon===e.value;return(0,l.jsxs)(F.E.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>x(t=>({...t,icon:e.value})),className:"relative p-3 rounded-lg border-2 transition-all ".concat(s?"border-blue-500 bg-blue-500/20 text-blue-400":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"),title:e.label,children:[(0,l.jsx)(t,{className:"h-6 w-6 mx-auto"}),s&&(0,l.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,l.jsx)(ea,{className:"h-4 w-4 text-blue-400 bg-blue-500 rounded-full p-0.5"})})]},e.value)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Цвет"}),(0,l.jsx)("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-3",children:eN.map(e=>{let t=d.color===e.value;return(0,l.jsx)(F.E.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>x(t=>({...t,color:e.value})),className:"relative w-12 h-12 rounded-lg border-2 transition-all ".concat(t?"border-white":"border-slate-600"),style:{backgroundColor:e.value},title:e.label,children:t&&(0,l.jsx)(ea,{className:"h-5 w-5 text-white mx-auto"})},e.value)})})]}),(0,l.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Предварительный просмотр"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[a.createElement((null===(t=ef.find(e=>e.value===d.icon))||void 0===t?void 0:t.icon)||k,{className:"h-6 w-6",style:{color:d.color}}),(0,l.jsx)("span",{className:"text-white font-medium",children:d.name||"Название папки"})]}),d.description&&(0,l.jsx)("p",{className:"text-slate-400 text-sm mt-2",children:d.description})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-slate-700",children:[(0,l.jsx)("button",{type:"button",onClick:i,className:"px-6 py-3 text-slate-300 hover:text-white transition-colors",children:"Отмена"}),(0,l.jsx)(F.E.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:n?"Сохранить изменения":"Создать папку"})]})]})]})})})}function ew(){let[e,t]=(0,a.useState)(!1),{devices:s,folders:r,metrics:j,bandwidthHistory:f,alerts:N,systemHealth:y,selectedFolderId:w,sidebarCollapsed:k,rootFolderExpanded:C,othersExpanded:Z,setSidebarCollapsed:M,setSelectedFolder:E,addDevice:D,updateDevice:F,deleteDevice:S,addFolder:I,updateFolder:z,deleteFolder:P,refreshData:q,exportData:H,resetToMockData:A}=(0,i.v)(),[V,R]=(0,a.useState)(!1),[O,U]=(0,a.useState)(!1),[W,_]=(0,a.useState)(null),[G,X]=(0,a.useState)(null),[$,J]=(0,a.useState)("root"),[K,Y]=(0,a.useState)("root");if((0,a.useEffect)(()=>{t(!0)},[]),!e)return(0,l.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,l.jsx)("div",{className:"text-white",children:"Загрузка..."})});let ee=()=>{_(null),Y(w||"root"),R(!0)},et=e=>{X(null),J(e),U(!0)};return(0,l.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,l.jsxs)("div",{className:"".concat(k?"w-16":"w-80"," flex flex-col border-r border-slate-700/50 bg-slate-800/30 backdrop-blur-sm transition-all duration-300"),children:[(0,l.jsx)("div",{className:"border-b border-slate-700/50 p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[!k&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(n,{className:"h-5 w-5 text-blue-400"}),(0,l.jsx)("h2",{className:"font-semibold text-white",children:"Папки устройств"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[!k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:ee,className:"rounded-lg p-1.5 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-green-400",title:"Добавить устройство",children:(0,l.jsx)(o.Z,{className:"h-3.5 w-3.5"})}),(0,l.jsx)("button",{onClick:()=>et("root"),className:"rounded-lg p-1.5 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-blue-400",title:"Добавить папку",children:(0,l.jsx)(c,{className:"h-3.5 w-3.5"})}),(0,l.jsx)("button",{onClick:A,className:"rounded-lg p-1.5 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-yellow-400",title:"Сбросить к исходным данным",children:(0,l.jsx)(d.Z,{className:"h-3.5 w-3.5"})})]}),(0,l.jsx)("button",{onClick:()=>M(!k),className:"rounded-lg p-2 transition-colors ".concat(k?"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30":"text-slate-400 hover:bg-slate-700/50 hover:text-white"),title:k?"Развернуть папки":"Свернуть папки",children:(0,l.jsx)(n,{className:"h-4 w-4"})})]})]})}),!k&&(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,l.jsx)(L,{folders:r,devices:s,selectedFolderId:w,rootFolderExpanded:C,othersExpanded:Z,onFolderSelect:E,onFolderToggle:e=>{if("root"===e)z("root",{expanded:!C});else if("others"===e)z("others",{expanded:!Z});else{let t=s=>{for(let l of s){if(l.id===e)return l;if(l.children&&l.children.length>0){let e=t(l.children);if(e)return e}}return null},s=t(r);s&&z(e,{expanded:!s.expanded})}},onAddFolder:et,onEditFolder:e=>{X(e),U(!0)},onDeleteFolder:e=>{confirm("Вы уверены, что хотите удалить эту папку? Все устройства будут перемещены в корневую папку.")&&P(e)},onAddDeviceToFolder:e=>{_(null),Y(e),R(!0)}})})]}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("header",{className:"sticky top-0 z-50 border-b border-slate-700/50 bg-slate-800/50 backdrop-blur-sm",children:(0,l.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/10 p-2",children:(0,l.jsx)(x.Z,{className:"h-8 w-8 text-blue-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"Network Monitor Pro"}),(0,l.jsx)("p",{className:"text-sm text-slate-400",children:"Панель мониторинга сети в реальном времени"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-slate-400",children:[(0,l.jsx)("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500"}),(0,l.jsx)("span",{children:"Live"})]}),(0,l.jsx)("button",{onClick:()=>{q()},className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-white",children:(0,l.jsx)(d.Z,{className:"h-5 w-5"})}),(0,l.jsx)("button",{className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-white",children:(0,l.jsx)(m.Z,{className:"h-5 w-5"})}),(0,l.jsx)("button",{onClick:()=>{let e=new Blob([H()],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="network-monitor-backup-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-white",title:"Создать резервную копию",children:(0,l.jsx)(h,{className:"h-5 w-5"})})]})]})})}),(0,l.jsxs)("main",{className:"flex-1 overflow-y-auto px-2 py-6 sm:px-4 lg:px-6",children:[(0,l.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:[(0,l.jsx)(T,{title:"Всего устройств",value:j.totalDevices,icon:u.Z,color:"blue"}),(0,l.jsx)(T,{title:"Устройства онлайн",value:j.onlineDevices,icon:p.Z,color:"green"}),(0,l.jsx)(T,{title:"Предупреждения",value:j.warningDevices,icon:g.Z,color:"yellow"}),(0,l.jsx)(T,{title:"Время отклика",value:"".concat(j.averageResponseTime,"ms"),icon:b,color:"purple"}),(0,l.jsx)(T,{title:"Время работы сети",value:"".concat(j.networkUptime,"%"),icon:v.Z,color:"green"})]}),(0,l.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(B,{})}),(0,l.jsx)("div",{children:(0,l.jsx)(ep,{})})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)(eg.$,{})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-4",children:[(0,l.jsx)("div",{className:"xl:col-span-3",children:(0,l.jsx)(Q,{onAddDevice:ee,onEditDevice:e=>{_(e),R(!0)},onDeleteDevice:e=>{confirm("Вы уверены, что хотите удалить это устройство?")&&S(e)}})}),(0,l.jsx)("div",{className:"xl:col-span-1",children:(0,l.jsx)(eo,{})})]})]})]}),(0,l.jsx)(ej,{isOpen:V,onClose:()=>R(!1),onSave:e=>{W?F(W,e):D(e),_(null)},device:W?s.find(e=>e.id===W):void 0,folders:r,defaultFolderId:K}),(0,l.jsx)(ey,{isOpen:O,onClose:()=>U(!1),onSave:e=>{G?z(G,e):I(e),X(null)},folder:(()=>{if(!G)return;let e=t=>{for(let s of t){if(s.id===G)return s;if(s.children){let t=e(s.children);if(t)return t}}};return e(r)})(),parentId:$,folders:r})]})}function ek(){return(0,l.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,l.jsx)(ew,{})})}},1390:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var l=s(681),a=s(5852),i=s(4327),r=s(798),n=s(1804);let o=(0,r.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:r,asChild:c=!1,...d}=e,x=c?i.g7:"button";return(0,l.jsx)(x,{className:(0,n.cn)(o({variant:a,size:r,className:s})),ref:t,...d})});c.displayName="Button"},5467:function(e,t,s){"use strict";s.d(t,{Zb:function(){return r}});var l=s(681),a=s(5852),i=s(1804);let r=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});r.displayName="Card",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...a})}).displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},1804:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var l=s(9477),a=s(4197);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,l.W)(t))}}},function(e){e.O(0,[329,307,273,706,974,744],function(){return e(e.s=1144)}),_N_E=e.O()}]);