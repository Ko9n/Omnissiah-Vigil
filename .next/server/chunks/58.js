exports.id=58,exports.ids=[58],exports.modules={67242:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=67242,e.exports=t},81519:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=81519,e.exports=t},48633:(e,t,s)=>{Promise.resolve().then(s.bind(s,32159))},78823:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,33822,23)),Promise.resolve().then(s.t.bind(s,40893,23)),Promise.resolve().then(s.t.bind(s,15577,23)),Promise.resolve().then(s.t.bind(s,70072,23)),Promise.resolve().then(s.t.bind(s,81198,23)),Promise.resolve().then(s.t.bind(s,31920,23))},32159:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>h});var r=s(25133),i=s(682),o=s(29987),n=s.n(o),a=s(31479),l=s(74711),d=s(10088),c=s(93140),m=s(31626),p=s(70585);function x({error:e,resetError:t}){return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:r.jsx(m.Zb,{className:"mx-auto max-w-md border-slate-700 bg-slate-800/50",children:(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-red-500/10",children:r.jsx(a.Z,{className:"h-8 w-8 text-red-400"})}),r.jsx("h1",{className:"mb-3 text-xl font-semibold text-white",children:"Упс! Что-то пошло не так"}),r.jsx("p",{className:"mb-6 text-sm text-slate-400",children:"Произошла неожиданная ошибка. Мы уже работаем над её исправлением."}),!1,(0,r.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,r.jsxs)(c.z,{onClick:t,className:"flex items-center justify-center gap-2",variant:"default",children:[r.jsx(l.Z,{className:"h-4 w-4"}),"Попробовать снова"]}),(0,r.jsxs)(c.z,{onClick:()=>{window.location.href="/"},variant:"outline",className:"flex items-center justify-center gap-2",children:[r.jsx(d.Z,{className:"h-4 w-4"}),"На главную"]}),r.jsx(c.z,{onClick:()=>{window.location.reload()},variant:"ghost",className:"text-slate-400 hover:text-white",children:"Перезагрузить"})]})]})})})}class u extends n().Component{constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),p.withScope(s=>{s.setTag("errorBoundary",!0),s.setLevel("error"),s.setContext("errorInfo",{componentStack:t.componentStack}),s.setContext("errorBoundary",{fallbackType:this.props.fallback?"custom":"default",hasError:this.state.hasError}),p.captureException(e)})}render(){if(this.state.hasError&&this.state.error){let e=this.props.fallback||x;return r.jsx(e,{error:this.state.error,resetError:this.resetError,errorInfo:this.state.errorInfo||void 0})}return this.props.children}}function h({children:e}){return r.jsx(u,{children:r.jsx(i.f,{attribute:"class",defaultTheme:"dark",enableSystem:!1,storageKey:"network-monitor-theme",children:e})})}},93140:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(25133),i=s(29987),o=s(6155),n=s(62012),a=s(17451);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef(({className:e,variant:t,size:s,asChild:i=!1,...n},d)=>{let c=i?o.g7:"button";return r.jsx(c,{className:(0,a.cn)(l({variant:t,size:s,className:e})),ref:d,...n})});d.displayName="Button"},31626:(e,t,s)=>{"use strict";s.d(t,{Zb:()=>n});var r=s(25133),i=s(29987),o=s(17451);let n=i.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card",i.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",i.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",i.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",i.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("p-6 pt-0",e),...t})).displayName="CardContent",i.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},7795:(e,t,s)=>{"use strict";s.d(t,{$:()=>L});var r=s(25133),i=s(29987),o=s(41440),n=s(74828),a=s(84781),l=s(6320),d=s(20190),c=s(6161),m=s(6238),p=s(4631),x=s(95570),u=s(1605),h=s(66061),f=s(15436),g=s(71185),v=s(35080),y=s(81054),b=s(83354),w=s(3573),j=s(24845),N=s(82634);let k=({device:e,position:t,isVisible:s,onClose:o,onAction:n})=>{let a=(0,i.useRef)(null);if((0,i.useEffect)(()=>{let e=e=>{a.current&&!a.current.contains(e.target)&&o()},t=e=>{"Escape"===e.key&&o()};return s&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[s,o]),!s)return null;let l=[{icon:v.Z,label:"Пинг устройства",action:"ping",color:"text-green-400 hover:text-green-300",disabled:"offline"===e.status},{icon:y.Z,label:"SSH подключение",action:"ssh",color:"text-blue-400 hover:text-blue-300",disabled:"offline"===e.status},{icon:b.Z,label:"Веб-интерфейс",action:"web",color:"text-purple-400 hover:text-purple-300",disabled:"offline"===e.status},{divider:!0},{icon:h.Z,label:"Настройки",action:"settings",color:"text-slate-400 hover:text-white"},{icon:w.Z,label:"Редактировать",action:"edit",color:"text-slate-400 hover:text-white"},{icon:m.Z,label:"Сканировать порты",action:"scan",color:"text-cyan-400 hover:text-cyan-300"},{divider:!0},{icon:j.Z,label:"Просмотр логов",action:"logs",color:"text-yellow-400 hover:text-yellow-300"},{icon:x.Z,label:"Безопасность",action:"security",color:"text-orange-400 hover:text-orange-300"},{divider:!0},{icon:N.Z,label:"Удалить устройство",action:"delete",color:"text-red-400 hover:text-red-300",dangerous:!0}],d={x:Math.min(t.x,1670),y:Math.min(t.y,1080-40*l.length)};return(0,r.jsxs)("div",{ref:a,className:"fixed z-50 min-w-[240px] rounded-lg border border-slate-600/50 bg-slate-800/95 py-2 shadow-xl backdrop-blur-sm",style:{left:d.x,top:d.y},children:[r.jsx("div",{className:"border-b border-slate-600/50 px-4 py-2",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`h-3 w-3 rounded-full ${"online"===e.status?"bg-green-500":"warning"===e.status?"bg-yellow-500":"bg-red-500"}`}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm font-medium text-white",children:e.name}),r.jsx("div",{className:"text-xs text-slate-400",children:e.ip})]})]})}),r.jsx("div",{className:"py-1",children:l.map((t,s)=>{if("divider"in t)return r.jsx("div",{className:"mx-2 my-1 h-px bg-slate-600/30"},s);let i=t.icon;return(0,r.jsxs)("button",{onClick:()=>{n(t.action,e),o()},disabled:t.disabled,className:`flex w-full items-center space-x-3 px-4 py-2 text-sm transition-colors ${t.disabled?"cursor-not-allowed text-slate-500":`${t.color} cursor-pointer hover:bg-slate-700/50`} ${t.dangerous?"hover:bg-red-500/10":""}`,children:[r.jsx(i,{className:"h-4 w-4"}),r.jsx("span",{children:t.label}),t.disabled&&r.jsx("span",{className:"ml-auto text-xs text-slate-500",children:"(офлайн)"})]},s)})}),(0,r.jsxs)("div",{className:"border-t border-slate-600/50 px-4 py-2 text-xs text-slate-400",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:["Тип: ",e.type]}),(0,r.jsxs)("span",{children:["Время отклика: ",e.responseTime,"ms"]})]}),(0,r.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,r.jsxs)("span",{children:["Uptime: ",e.uptime.toFixed(1),"%"]}),(0,r.jsxs)("span",{children:["Последний: ",new Date(e.lastSeen).toLocaleTimeString()]})]})]})]})};var D=s(60364),S=s(36911),C=s(31479),I=s(28186),B=s(38738);let E=({toast:e,onClose:t})=>((0,i.useEffect)(()=>{let s=setTimeout(()=>{t(e.id)},e.duration||5e3);return()=>clearTimeout(s)},[e.id,e.duration,t]),r.jsx(o.E.div,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.95},transition:{duration:.2},className:`border border-slate-600/50 bg-slate-800/95 backdrop-blur-sm ${(()=>{switch(e.type){case"success":return"border-l-green-500";case"error":return"border-l-red-500";case"warning":return"border-l-yellow-500";default:return"border-l-blue-500"}})()} w-full max-w-sm rounded-lg border-l-4 p-4 shadow-xl`,children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:(()=>{switch(e.type){case"success":return r.jsx(S.Z,{className:"h-5 w-5 text-green-400"});case"error":return r.jsx(j.Z,{className:"h-5 w-5 text-red-400"});case"warning":return r.jsx(C.Z,{className:"h-5 w-5 text-yellow-400"});default:return r.jsx(I.Z,{className:"h-5 w-5 text-blue-400"})}})()}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-white",children:e.title}),e.message&&r.jsx("p",{className:"mt-1 text-sm text-slate-300",children:e.message})]}),r.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 text-slate-400 transition-colors hover:text-white",children:r.jsx(B.Z,{className:"h-4 w-4"})})]})})),Z=({toasts:e,onClose:t})=>r.jsx("div",{className:"fixed right-4 top-4 z-[100] space-y-2",children:r.jsx(D.M,{children:e.map(e=>r.jsx(E,{toast:e,onClose:t},e.id))})}),F=()=>{let[e,t]=(0,i.useState)([]),s=e=>{let s=Date.now().toString();t(t=>[...t,{...e,id:s}])};return{toasts:e,addToast:s,removeToast:e=>{t(t=>t.filter(t=>t.id!==e))},success:(e,t,r)=>{s({type:"success",title:e,message:t,duration:r})},error:(e,t,r)=>{s({type:"error",title:e,message:t,duration:r})},warning:(e,t,r)=>{s({type:"warning",title:e,message:t,duration:r})},info:(e,t,r)=>{s({type:"info",title:e,message:t,duration:r})}}},T={router:n.Z,switch:a.Z,computer:l.Z,server:d.Z,mobile:c.Z,wifi:m.Z,workstation:l.Z,printer:p.Z,firewall:x.Z,access_point:m.Z},M={router:"#3B82F6",switch:"#10B981",computer:"#8B5CF6",server:"#F59E0B",mobile:"#EF4444",wifi:"#06B6D4",workstation:"#6B7280",printer:"#F97316",firewall:"#DC2626",access_point:"#10B981"};function L({isFullscreen:e=!1}){let{devices:t,updateDevice:s,selectedFolderId:n}=(0,g.v)(),{toasts:d,removeToast:c,success:m,error:p,warning:x,info:v}=F(),[y,b]=(0,i.useState)(!1),[w,j]=(0,i.useState)([]),[N,D]=(0,i.useState)({isDragging:!1,deviceId:null,offset:{x:0,y:0}}),[S,C]=(0,i.useState)({isConnecting:!1,sourceId:null,tempLine:null}),[I,B]=(0,i.useState)({isVisible:!1,device:null,position:{x:0,y:0}}),[E,L]=(0,i.useState)({}),P=(0,i.useRef)(null),$=(0,i.useCallback)(e=>{let t={};return e.forEach((e,s)=>{t[e.id]={x:100+s%4*200,y:80+150*Math.floor(s/4)}}),t},[]),U=t.map(e=>({...e,position:E[e.id]||{x:100,y:100}})),A=(e,t)=>{if(!y)return;e.preventDefault();let s=P.current?.getBoundingClientRect();if(!s)return;let r=U.find(e=>e.id===t);r?.position&&D({isDragging:!0,deviceId:t,offset:{x:e.clientX-s.left-r.position.x,y:e.clientY-s.top-r.position.y}})},H=()=>{D({isDragging:!1,deviceId:null,offset:{x:0,y:0}})},R=e=>{if(y){if(S.isConnecting){if(S.sourceId===e)C({isConnecting:!1,sourceId:null,tempLine:null}),v("Отменено","Создание соединения отменено");else{let t={id:`${S.sourceId}-${e}`,sourceId:S.sourceId,targetId:e};j(e=>[...e,t]),C({isConnecting:!1,sourceId:null,tempLine:null}),m("Соединение создано","Новое соединение успешно добавлено")}}else{let t=U.find(t=>t.id===e);t?.position&&(C({isConnecting:!0,sourceId:e,tempLine:{x1:t.position.x,y1:t.position.y,x2:t.position.x,y2:t.position.y}}),v("Режим соединения","Кликните на другое устройство для создания соединения"))}}},O=e=>{j(t=>t.filter(t=>t.id!==e)),x("Соединение удалено","Соединение между устройствами удалено")},z=(e,t)=>{e.preventDefault(),B({isVisible:!0,device:t,position:{x:e.clientX,y:e.clientY}})},W=()=>{B({isVisible:!1,device:null,position:{x:0,y:0}})};return(0,r.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-xl border border-slate-700/50 bg-slate-800/50 p-6 backdrop-blur-sm",children:[!e&&(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"rounded-lg bg-slate-700/50 p-2",children:r.jsx(a.Z,{className:"h-5 w-5 text-blue-400"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Сетевая топология"}),r.jsx("p",{className:"text-sm text-slate-400",children:"Интерактивная карта сети"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>b(!y),className:`rounded-lg px-4 py-2 transition-colors ${y?"border border-green-500/30 bg-green-500/20 text-green-400":"bg-slate-700/50 text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:y?"Выйти из редактора":"Режим редактирования"}),y&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:()=>{L($(t)),j([]),localStorage.removeItem("topology-positions"),localStorage.removeItem("topology-connections"),m("Макет сброшен","Расположение устройств и соединения сброшены к настройкам по умолчанию")},className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-white",title:"Сбросить расположение",children:r.jsx(u.Z,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>{localStorage.getItem("topology-positions"),localStorage.getItem("topology-connections")},className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-white",title:"Отладка localStorage",children:"\uD83D\uDC1B"})]}),r.jsx("button",{className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-700/50 hover:text-white",children:r.jsx(h.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("button",{onClick:()=>window.open("/topology-fullscreen","_blank"),className:"flex items-center space-x-2 rounded-lg border border-blue-500/30 bg-blue-500/20 px-4 py-2 text-blue-400 transition-colors hover:bg-blue-500/30",title:"Открыть в полноэкранном режиме",children:[r.jsx(f.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Полный экран"})]})]})]}),y&&r.jsx("div",{className:"mb-4 rounded-lg border border-blue-500/20 bg-blue-500/10 p-3",children:(0,r.jsxs)("p",{className:"text-sm text-blue-400",children:[r.jsx("strong",{children:"Режим редактирования:"})," Перетаскивайте устройства для их перемещения. Кликайте по устройствам для создания соединений.",S.isConnecting&&r.jsx("span",{className:"ml-2 text-yellow-400",children:"Кликните на другое устройство для подключения, или на то же для отмены."})]})}),r.jsx("div",{className:"relative w-full rounded-lg border border-slate-700/30 bg-slate-900/50",style:{height:e?"calc(100vh - 120px)":"700px"},children:(0,r.jsxs)("svg",{ref:P,width:"100%",height:"100%",className:"overflow-visible",onMouseMove:e=>{if(!y)return;let t=P.current?.getBoundingClientRect();if(t){if(N.isDragging&&N.deviceId){let s=e.clientX-t.left-N.offset.x,r=e.clientY-t.top-N.offset.y;L(e=>({...e,[N.deviceId]:{x:s,y:r}}))}S.isConnecting&&S.sourceId&&C(s=>({...s,tempLine:{...s.tempLine,x2:e.clientX-t.left,y2:e.clientY-t.top}}))}},onMouseUp:H,onMouseLeave:H,children:[r.jsx("defs",{children:r.jsx("pattern",{id:"topology-grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#475569",strokeWidth:"0.5",opacity:"0.3"})})}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#topology-grid)"}),w.map(e=>{let t=U.find(t=>t.id===e.sourceId),s=U.find(t=>t.id===e.targetId);return t&&s?(0,r.jsxs)("g",{children:[r.jsx("line",{x1:t.position.x,y1:t.position.y,x2:s.position.x,y2:s.position.y,stroke:"#6B7280",strokeWidth:"2",strokeDasharray:"5,5"}),y&&r.jsx("circle",{cx:(t.position.x+s.position.x)/2,cy:(t.position.y+s.position.y)/2,r:"8",fill:"#EF4444",className:"cursor-pointer hover:fill-red-600",onClick:()=>O(e.id),children:r.jsx("title",{children:"Кликните для удаления соединения"})})]},e.id):null}),S.tempLine&&r.jsx("line",{x1:S.tempLine.x1,y1:S.tempLine.y1,x2:S.tempLine.x2,y2:S.tempLine.y2,stroke:"#3B82F6",strokeWidth:"2",strokeDasharray:"3,3",opacity:"0.7"}),U.map(e=>{let t=T[e.type]||l.Z,s=M[e.type]||"#6B7280",i=S.sourceId===e.id,o=!n||"root"===n||e.folderId===n;return(0,r.jsxs)("g",{transform:`translate(${e.position.x}, ${e.position.y})`,className:"cursor-pointer",style:{opacity:o?1:.3},onMouseDown:t=>A(t,e.id),onClick:()=>R(e.id),onContextMenu:t=>z(t,e),children:[r.jsx("circle",{r:i?"28":"25",fill:"online"===e.status?s:"#6B7280",opacity:"0.2",stroke:i?"#3B82F6":"transparent",strokeWidth:"2"}),r.jsx("circle",{r:"20",fill:"online"===e.status?s:"#6B7280",opacity:"0.3"}),r.jsx("foreignObject",{x:"-12",y:"-12",width:"24",height:"24",children:r.jsx(t,{className:"h-6 w-6 text-white"})}),r.jsx("text",{x:"0",y:"40",textAnchor:"middle",className:"fill-white text-xs font-medium",children:e.name}),r.jsx("circle",{cx:"15",cy:"-15",r:"4",fill:"online"===e.status?"#10B981":"warning"===e.status?"#F59E0B":"#EF4444"}),y&&r.jsx("circle",{r:"25",fill:"transparent",stroke:"#3B82F6",strokeWidth:"1",strokeDasharray:"2,2",opacity:"0.5"})]},e.id)})]})}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 opacity-60"}),r.jsx("span",{className:"text-slate-400",children:"Онлайн"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500 opacity-60"}),r.jsx("span",{className:"text-slate-400",children:"Предупреждение"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500 opacity-60"}),r.jsx("span",{className:"text-slate-400",children:"Офлайн"})]})]}),(0,r.jsxs)("div",{className:"text-sm text-slate-500",children:[U.length," устройств • ",w.length," ","соединений"]})]}),r.jsx(k,{device:I.device,position:I.position,isVisible:I.isVisible,onClose:W,onAction:(e,t)=>{switch(W(),e){case"ping":"online"===t.status?m("Ping успешен",`Устройство ${t.name} отвечает`):p("Ping неудачен",`Устройство ${t.name} не отвечает`);break;case"ssh":"online"===t.status?v("SSH соединение",`Подключение к ${t.name} через SSH...`):p("SSH недоступен",`Устройство ${t.name} офлайн`);break;case"web":"online"===t.status?v("Веб-интерфейс",`Открытие веб-интерфейса ${t.name}...`):p("Веб-интерфейс недоступен",`Устройство ${t.name} офлайн`);break;case"edit":v("Редактирование",`Редактирование настроек ${t.name}...`);break;case"delete":x("Удаление устройства",`Устройство ${t.name} помечено для удаления`);break;default:v(e,`Действие "${e}" для устройства ${t.name}`)}}}),r.jsx(Z,{toasts:d,onClose:c})]})}},17451:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var r=s(45341),i=s(18948);function o(...e){return(0,i.m6)((0,r.W)(e))}},71185:(e,t,s)=>{"use strict";s.d(t,{v:()=>p});var r=s(85680),i=s(30692);let o=[{id:"datacenter",name:"Центр обработки данных",description:"Серверы и сетевое оборудование ЦОД",parentId:"root",color:"#3B82F6",icon:"Building",expanded:!0,children:[{id:"servers",name:"Серверы",description:"Физические и виртуальные серверы",parentId:"datacenter",color:"#10B981",icon:"Server",expanded:!1,children:[]},{id:"storage",name:"Системы хранения",description:"NAS и SAN системы",parentId:"datacenter",color:"#8B5CF6",icon:"Database",expanded:!1,children:[]}]},{id:"core",name:"Ядро сети",description:"Основное сетевое оборудование",parentId:"root",color:"#EF4444",icon:"Network",expanded:!1,children:[]},{id:"access",name:"Уровень доступа",description:"Коммутаторы доступа и точки WiFi",parentId:"root",color:"#F59E0B",icon:"Globe",expanded:!1,children:[]},{id:"security",name:"Безопасность",description:"Системы безопасности и мониторинга",parentId:"root",color:"#DC2626",icon:"Shield",expanded:!1,children:[]}],n=[{id:"server-web-1",name:"Веб сервер 1",ip:"192.168.1.10",mac:"00:1B:44:11:3A:B7",type:"server",status:"online",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:8,uptime:99.2,location:"Стойка A-1",folderId:"servers",vendor:"Dell",model:"PowerEdge R740",monitoring:{ping:!0,snmp:!0,http:!0,ssh:!0},position:{x:100,y:200}},{id:"server-db-1",name:"База данных",ip:"192.168.1.11",mac:"00:1B:44:11:3A:B8",type:"server",status:"online",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:5,uptime:99.8,location:"Стойка A-2",folderId:"servers",vendor:"HP",model:"ProLiant DL380",monitoring:{ping:!0,snmp:!0,http:!1,ssh:!0},position:{x:150,y:200}},{id:"switch-core-1",name:"Основной коммутатор",ip:"192.168.1.1",mac:"00:1B:44:11:01:01",type:"switch",status:"online",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:2,uptime:99.9,location:"Стойка Core-1",folderId:"core",vendor:"Cisco",model:"Catalyst 9300",monitoring:{ping:!0,snmp:!0,http:!0,ssh:!0},position:{x:300,y:150}},{id:"router-main",name:"Основной маршрутизатор",ip:"192.168.1.254",mac:"00:1B:44:11:02:01",type:"router",status:"online",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:3,uptime:99.7,location:"Стойка Core-1",folderId:"core",vendor:"Cisco",model:"ISR 4351",monitoring:{ping:!0,snmp:!0,http:!0,ssh:!0},position:{x:350,y:100}},{id:"switch-office-1",name:"Офисный коммутатор 1",ip:"192.168.1.51",mac:"00:1B:44:11:05:01",type:"switch",status:"online",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:6,uptime:98.5,location:"1 этаж офис",folderId:"access",vendor:"Cisco",model:"Catalyst 2960X",monitoring:{ping:!0,snmp:!0,http:!1,ssh:!0},position:{x:200,y:300}},{id:"switch-office-2",name:"Офисный коммутатор 2",ip:"192.168.1.52",mac:"00:1B:44:11:05:02",type:"switch",status:"offline",lastSeen:new Date("2024-01-15T08:15:00Z"),responseTime:0,uptime:97.2,location:"2 этаж офис",folderId:"access",vendor:"Cisco",model:"Catalyst 2960X",monitoring:{ping:!0,snmp:!0,http:!1,ssh:!0},position:{x:250,y:400}},{id:"ap-floor1-01",name:"WiFi точка доступа 1 этаж восток",ip:"192.168.1.161",mac:"00:1B:44:16:01:01",type:"access_point",status:"online",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:5,uptime:99.1,location:"1 этаж - Восточное крыло",folderId:"access",vendor:"Ubiquiti",model:"UniFi AP AC Pro",monitoring:{ping:!0,snmp:!0,http:!0,ssh:!0},position:{x:400,y:350}},{id:"firewall-main",name:"Межсетевой экран",ip:"192.168.1.2",mac:"00:1B:44:11:02:02",type:"firewall",status:"online",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:4,uptime:99.6,location:"Стойка Security-1",folderId:"security",vendor:"Fortinet",model:"FortiGate 100F",monitoring:{ping:!0,snmp:!0,http:!0,ssh:!0},position:{x:500,y:100}},{id:"nas-backup",name:"Система резервного копирования",ip:"192.168.1.20",mac:"00:1B:44:11:20:01",type:"server",status:"warning",lastSeen:new Date("2024-01-15T10:30:00Z"),responseTime:15,uptime:96.8,location:"Стойка Storage-1",folderId:"storage",vendor:"Synology",model:"DS920+",monitoring:{ping:!0,snmp:!0,http:!0,ssh:!1},position:{x:550,y:200}}],a=[{id:"alert-1",type:"warning",message:"Высокая загрузка CPU на сервере web-1",timestamp:new Date(Date.now()-3e5),deviceId:"server-web-1",resolved:!1},{id:"alert-2",type:"info",message:"Обновление ПО завершено успешно",timestamp:new Date(Date.now()-6e5),resolved:!0},{id:"alert-3",type:"critical",message:"Потеря связи с устройством switch-office-2",timestamp:new Date(Date.now()-9e5),resolved:!1}],l={totalDevices:10,onlineDevices:8,offlineDevices:1,warningDevices:1,averageResponseTime:6,totalBandwidth:1e3,usedBandwidth:720,packetLoss:.2,networkUptime:98.7,lastUpdate:new Date},d={cpu:65,memory:78,disk:45,network:23,temperature:42,processes:156,uptime:2847392,lastUpdate:new Date},c=Array.from({length:20},(e,t)=>({timestamp:new Date(Date.now()-(19-t)*3e5),upload:Math.floor(300*Math.random())+50,download:Math.floor(800*Math.random())+100,total:0})).map(e=>({...e,total:e.upload+e.download})),m={pingInterval:5e3,snmpInterval:3e4,httpTimeout:1e4,retryAttempts:3,alertThresholds:{responseTime:100,packetLoss:5,cpuUsage:80,memoryUsage:85,diskUsage:90}},p=(0,r.Ue)()((0,i.XR)((0,i.tJ)((e,t)=>({devices:n,folders:o,metrics:l,bandwidthHistory:c,alerts:a,systemHealth:d,connections:[],config:m,selectedFolderId:"root",sidebarCollapsed:!1,loading:!1,error:null,rootFolderExpanded:!0,othersExpanded:!1,addDevice:s=>{let r={...s,id:Math.random().toString(36).substr(2,9),lastSeen:new Date,status:"online"};e(e=>({devices:[...e.devices,r]})),t().updateMetrics({})},updateDevice:(s,r)=>{e(e=>({devices:e.devices.map(e=>e.id===s?{...e,...r,lastSeen:new Date}:e)})),t().updateMetrics({})},deleteDevice:s=>{e(e=>({devices:e.devices.filter(e=>e.id!==s)})),t().updateMetrics({})},addFolder:t=>{let s={...t,id:Math.random().toString(36).substr(2,9),children:[]},r=e=>e.map(e=>e.id===(s.parentId||"root")?{...e,children:[...e.children,s]}:{...e,children:r(e.children)});s.parentId&&"root"!==s.parentId?e(e=>({folders:r(e.folders)})):e(e=>({folders:[...e.folders,s]}))},updateFolder:(t,s)=>{if("root"===t){e(e=>({rootFolderExpanded:void 0!==s.expanded?s.expanded:e.rootFolderExpanded}));return}if("others"===t){e(e=>({othersExpanded:void 0!==s.expanded?s.expanded:e.othersExpanded}));return}let r=e=>e.map(e=>e.id===t?{...e,...s}:{...e,children:r(e.children)});e(e=>({folders:r(e.folders)}))},deleteFolder:t=>{let s=e=>e.filter(e=>e.id!==t).map(e=>({...e,children:s(e.children)}));e(e=>({folders:s(e.folders),devices:e.devices.map(e=>e.folderId===t?{...e,folderId:"root"}:e)}))},addAlert:t=>{let s={...t,id:Math.random().toString(36).substr(2,9),timestamp:new Date};e(e=>({alerts:[s,...e.alerts].slice(0,50)}))},markAlertResolved:t=>{e(e=>({alerts:e.alerts.map(e=>e.id===t?{...e,resolved:!0}:e)}))},acknowledgeAlert:(t,s)=>{e(e=>({alerts:e.alerts.map(e=>e.id===t?{...e,acknowledgedBy:s,acknowledgedAt:new Date}:e)}))},clearAlerts:()=>{e({alerts:[]})},setBandwidthData:t=>{e({bandwidthHistory:t})},addBandwidthData:t=>{e(e=>({bandwidthHistory:[...e.bandwidthHistory.slice(-19),t]}))},updateSystemHealth:t=>{e({systemHealth:t})},updateMetrics:s=>{let r=t(),i=r.devices,o=i.length,n=i.filter(e=>"online"===e.status).length,a=i.filter(e=>"offline"===e.status).length,l=i.filter(e=>"warning"===e.status).length,d=o>0?Math.round(i.reduce((e,t)=>e+t.responseTime,0)/o):0;e({metrics:{...r.metrics,totalDevices:o,onlineDevices:n,offlineDevices:a,warningDevices:l,averageResponseTime:d,lastUpdate:new Date,...s}})},setSelectedFolder:t=>{e({selectedFolderId:t})},setSidebarCollapsed:t=>{e({sidebarCollapsed:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},refreshData:async()=>{e({loading:!0,error:null});try{await new Promise(e=>setTimeout(e,1e3)),t().updateMetrics({}),e({loading:!1})}catch(t){e({loading:!1,error:t instanceof Error?t.message:"Ошибка загрузки данных"})}},exportData:()=>{let e=t();return JSON.stringify({devices:e.devices,folders:e.folders,connections:e.connections,config:e.config,exportTimestamp:new Date().toISOString()},null,2)},importData:s=>{try{let r=JSON.parse(s);return e({devices:r.devices||[],folders:r.folders||[],connections:r.connections||[],config:r.config||m}),t().updateMetrics({}),!0}catch{return!1}},resetData:()=>{e({devices:[],folders:[],metrics:l,bandwidthHistory:[],alerts:[],systemHealth:d,connections:[],selectedFolderId:"root",loading:!1,error:null})},resetToMockData:()=>{e({devices:n,folders:o,metrics:l,bandwidthHistory:c,alerts:a,systemHealth:d,connections:[],selectedFolderId:"root",loading:!1,error:null,rootFolderExpanded:!0,othersExpanded:!1}),t().updateMetrics({})}}),{name:"network-monitor-storage",partialize:e=>({devices:e.devices,folders:e.folders,config:e.config,selectedFolderId:e.selectedFolderId,sidebarCollapsed:e.sidebarCollapsed})})))},26849:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>a,viewport:()=>l});var r=s(25693),i=s(94466),o=s.n(i);s(41344);let n=(0,s(7947).createProxy)(String.raw`C:\Users\Almaz\Desktop\Monitoring-main\app\providers.tsx#Providers`),a={title:"Network Monitor Pro - Система мониторинга сети",description:"Современная система мониторинга сетевой инфраструктуры в реальном времени",keywords:"мониторинг сети, сетевые устройства, топология сети, real-time monitoring",authors:[{name:"Network Monitor Pro Team"}],manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"}},l={width:"device-width",initialScale:1,themeColor:"#1e293b"};function d({children:e}){return r.jsx("html",{lang:"ru",suppressHydrationWarning:!0,children:r.jsx("body",{className:o().className,children:r.jsx(n,{children:e})})})}},41344:()=>{}};