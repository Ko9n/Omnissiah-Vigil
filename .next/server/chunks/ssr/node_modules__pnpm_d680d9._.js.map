{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/next-themes@0.2.1_next@14.2_bec40b5b00d3d1e0b2d1842e8b7336b6/node_modules/next-themes/dist/index.module.js"],"sourcesContent":["import e,{useContext as t,Fragment as n,useState as r,useCallback as o,useEffect as a,useMemo as s,memo as l,createContext as m}from\"react\";const c=[\"light\",\"dark\"],i=\"(prefers-color-scheme: dark)\",d=\"undefined\"==typeof window,u=/*#__PURE__*/m(void 0),h={setTheme:e=>{},themes:[]},y=()=>{var e;return null!==(e=t(u))&&void 0!==e?e:h},$=r=>t(u)?/*#__PURE__*/e.createElement(n,null,r.children):/*#__PURE__*/e.createElement(f,r),v=[\"light\",\"dark\"],f=({forcedTheme:t,disableTransitionOnChange:n=!1,enableSystem:l=!0,enableColorScheme:m=!0,storageKey:d=\"theme\",themes:h=v,defaultTheme:y=(l?\"system\":\"light\"),attribute:$=\"data-theme\",value:f,children:w,nonce:T})=>{const[E,k]=r(()=>S(d,y)),[C,L]=r(()=>S(d)),x=f?Object.values(f):h,I=o(e=>{let t=e;if(!t)return;\"system\"===e&&l&&(t=p());const r=f?f[t]:t,o=n?b():null,a=document.documentElement;if(\"class\"===$?(a.classList.remove(...x),r&&a.classList.add(r)):r?a.setAttribute($,r):a.removeAttribute($),m){const e=c.includes(y)?y:null,n=c.includes(t)?t:e;a.style.colorScheme=n}null==o||o()},[]),O=o(e=>{k(e);try{localStorage.setItem(d,e)}catch(e){}},[t]),M=o(e=>{const n=p(e);L(n),\"system\"===E&&l&&!t&&I(\"system\")},[E,t]);a(()=>{const e=window.matchMedia(i);return e.addListener(M),M(e),()=>e.removeListener(M)},[M]),a(()=>{const e=e=>{e.key===d&&O(e.newValue||y)};return window.addEventListener(\"storage\",e),()=>window.removeEventListener(\"storage\",e)},[O]),a(()=>{I(null!=t?t:E)},[t,E]);const A=s(()=>({theme:E,setTheme:O,forcedTheme:t,resolvedTheme:\"system\"===E?C:E,themes:l?[...h,\"system\"]:h,systemTheme:l?C:void 0}),[E,O,t,C,l,h]);/*#__PURE__*/return e.createElement(u.Provider,{value:A},/*#__PURE__*/e.createElement(g,{forcedTheme:t,disableTransitionOnChange:n,enableSystem:l,enableColorScheme:m,storageKey:d,themes:h,defaultTheme:y,attribute:$,value:f,children:w,attrs:x,nonce:T}),w)},g=/*#__PURE__*/l(({forcedTheme:t,storageKey:n,attribute:r,enableSystem:o,enableColorScheme:a,defaultTheme:s,value:l,attrs:m,nonce:d})=>{const u=\"system\"===s,h=\"class\"===r?`var d=document.documentElement,c=d.classList;c.remove(${m.map(e=>`'${e}'`).join(\",\")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,y=a?c.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:\"if(e==='light'||e==='dark')d.style.colorScheme=e\":\"\",$=(e,t=!1,n=!0)=>{const o=l?l[e]:e,s=t?e+\"|| ''\":`'${o}'`;let m=\"\";return a&&n&&!t&&c.includes(e)&&(m+=`d.style.colorScheme = '${e}';`),\"class\"===r?m+=t||o?`c.add(${s})`:\"null\":o&&(m+=`d[s](n,${s})`),m},v=t?`!function(){${h}${$(t)}}()`:o?`!function(){try{${h}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${u})){var t='${i}',m=window.matchMedia(t);if(m.media!==t||m.matches){${$(\"dark\")}}else{${$(\"light\")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:\"\"}${$(l?\"x[e]\":\"e\",!0)}}${u?\"\":\"else{\"+$(s,!1,!1)+\"}\"}${y}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${n}');if(e){${l?`var x=${JSON.stringify(l)};`:\"\"}${$(l?\"x[e]\":\"e\",!0)}}else{${$(s,!1,!1)};}${y}}catch(t){}}();`;/*#__PURE__*/return e.createElement(\"script\",{nonce:d,dangerouslySetInnerHTML:{__html:v}})},()=>!0),S=(e,t)=>{if(d)return;let n;try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t},b=()=>{const e=document.createElement(\"style\");return e.appendChild(document.createTextNode(\"*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}\")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},p=e=>(e||(e=window.matchMedia(i)),e.matches?\"dark\":\"light\");export{$ as ThemeProvider,y as useTheme};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/src/defaultAttributes.ts"],"sourcesContent":["export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n"],"names":[],"mappings":";;;;;;;;AAAA,IAAe,oBAAA;IACb,OAAO;IACP,OAAO;IACP,QAAQ;IACR,SAAS;IACT,MAAM;IACN,QAAQ;IACR,aAAa;IACb,eAAe;IACf,gBAAgB;AAClB"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/src/createLucideIcon.ts"],"sourcesContent":["import {\n  forwardRef,\n  createElement,\n  ReactSVG,\n  SVGProps,\n  ForwardRefExoticComponent,\n  RefAttributes,\n} from 'react';\nimport defaultAttributes from './defaultAttributes';\n\nexport type IconNode = [elementName: keyof ReactSVG, attrs: Record<string, string>][];\n\nexport type SVGAttributes = Partial<SVGProps<SVGSVGElement>>;\ntype ComponentAttributes = RefAttributes<SVGSVGElement> & SVGAttributes;\n\nexport interface LucideProps extends ComponentAttributes {\n  size?: string | number;\n  absoluteStrokeWidth?: boolean;\n}\n\nexport type LucideIcon = ForwardRefExoticComponent<LucideProps>;\n/**\n * Converts string to KebabCase\n * Copied from scripts/helper. If anyone knows how to properly import it here\n * then please fix it.\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string\n    .replace(/([a-z0-9])([A-Z])/g, '$1-$2')\n    .toLowerCase()\n    .trim();\n\nconst createLucideIcon = (iconName: string, iconNode: IconNode): LucideIcon => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(\n    ({ color = 'currentColor', size = 24, strokeWidth = 2, absoluteStrokeWidth, className = '', children, ...rest }, ref) =>\n      createElement(\n        'svg',\n        {\n          ref,\n          ...defaultAttributes,\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n          className: ['lucide', `lucide-${toKebabCase(iconName)}`, className].join(' '),\n          ...rest,\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n          ...(Array.isArray(children) ? children : [children]),\n        ]\n      )\n  );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AA6Ba,MAAA,cAAc,CAAC,SAC1B,OACG,OAAA,CAAQ,sBAAsB,SAC9B,WAAY,GACZ,IAAK;AAEJ,MAAA,mBAAmB,CAAC,UAAkB;IAC1C,MAAM,YAAY,CAAA,GAAA,8TAAA,CAAA,aAAA,EAChB,CAAC,EAAE,QAAQ,cAAA,EAAgB,OAAO,EAAI,EAAA,cAAc,CAAG,EAAA,mBAAA,EAAqB,YAAY,EAAA,EAAI,QAAa,EAAA,GAAA,MAAA,EAAQ,MAC/G,CAAA,GAAA,8TAAA,CAAA,gBAAA,EACE,OACA;YACE;YACA,GAAG,uPAAA,CAAA,UAAA;YACH,OAAO;YACP,QAAQ;YACR,QAAQ;YACR,aAAa,sBAAsB,OAAO,eAAe,KAAK,OAAO,QAAQ;YAC7E,WAAW;gBAAC;gBAAU,CAAU,OAAA,EAAA,YAAY,UAAa,CAAA;gBAAA;aAAW,CAAA,IAAA,CAAK;YACzE,GAAG,IAAA;QACL,GACA;eACK,SAAS,GAAA,CAAI,CAAC,CAAC,KAAK,MAAW,GAAA,CAAA,GAAA,8TAAA,CAAA,gBAAA,EAAc,KAAK;eACjD,MAAM,OAAA,CAAQ,YAAY,WAAW;gBAAC;aAAQ;SACpD;IAIN,UAAU,WAAA,GAAc,CAAG,EAAA,SAAA,CAAA;IAEpB,OAAA;AACT"}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/src/icons/alert-triangle.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name AlertTriangle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTNaIiAvPgogIDxwYXRoIGQ9Ik0xMiA5djQiIC8+CiAgPHBhdGggZD0iTTEyIDE3aC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/alert-triangle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst AlertTriangle = createLucideIcon('AlertTriangle', [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z',\n      key: 'c3ski4',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n]);\n\nexport default AlertTriangle;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,MAAA,gBAAgB,CAAA,GAAA,sPAAA,CAAA,UAAA,EAAiB,iBAAiB;IACtD;QACE;QACA;YACE,GAAG;YACH,KAAK;QACP;KACF;IACA;QAAC;QAAQ;YAAE,GAAG;YAAW,KAAK;QAAA;KAAU;IACxC;QAAC;QAAQ;YAAE,GAAG;YAAc,KAAK;QAAA;KAAU;CAC5C"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/src/icons/refresh-cw.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('RefreshCw', [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n]);\n\nexport default RefreshCw;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,MAAA,YAAY,CAAA,GAAA,sPAAA,CAAA,UAAA,EAAiB,aAAa;IAC9C;QAAC;QAAQ;YAAE,GAAG;YAAsD,KAAK;QAAA;KAAU;IACnF;QAAC;QAAQ;YAAE,GAAG;YAAc,KAAK;QAAA;KAAU;IAC3C;QAAC;QAAQ;YAAE,GAAG;YAAuD,KAAK;QAAA;KAAU;IACpF;QAAC;QAAQ;YAAE,GAAG;YAAa,KAAK;QAAA;KAAU;CAC3C"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/src/icons/home.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Home\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyA5IDktNyA5IDd2MTFhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ6IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjkgMjIgOSAxMiAxNSAxMiAxNSAyMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/home\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Home = createLucideIcon('Home', [\n  ['path', { d: 'm3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z', key: 'y5dka4' }],\n  ['polyline', { points: '9 22 9 12 15 12 15 22', key: 'e2us08' }],\n]);\n\nexport default Home;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,MAAA,OAAO,CAAA,GAAA,sPAAA,CAAA,UAAA,EAAiB,QAAQ;IACpC;QAAC;QAAQ;YAAE,GAAG;YAAkD,KAAK;QAAA;KAAU;IAC/E;QAAC;QAAY;YAAE,QAAQ;YAAyB,KAAK;QAAA;KAAU;CAChE"}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@radix-ui+react-compose-ref_a0ec2738abda304f97df2634b41c8bcd/node_modules/@radix-ui/react-compose-refs/src/compose-refs.tsx"],"sourcesContent":["import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    return ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    ref.current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]): React.RefCallback<T> {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == 'function') {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n\n    // React <19 will log an error to the console if a callback ref returns a\n    // value. We don't use ref cleanups internally so this will only happen if a\n    // user's ref callback returns a value, which we only expect if they are\n    // using the cleanup functionality added in React 19.\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == 'function') {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]): React.RefCallback<T> {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n"],"names":[],"mappings":";;;;;;;;AAQA,SAAS,OAAU,GAAA,EAAqB,KAAA;IACtC,IAAI,OAAO,QAAQ,YAAY;QAC7B,OAAO,IAAI;IACb,OAAA,IAAW,QAAQ,QAAQ,QAAQ,KAAA,GAAW;QAC5C,IAAI,OAAA,GAAU;IAChB;AACF;AAMA,SAAS,YAAA,GAAkB,IAAA;IACzB,OAAO,CAAC;QACN,IAAI,aAAa;QACjB,MAAM,WAAW,KAAK,GAAA,CAAI,CAAC;YACzB,MAAM,UAAU,OAAO,KAAK;YAC5B,IAAI,CAAC,cAAc,OAAO,WAAW,YAAY;gBAC/C,aAAa;YACf;YACA,OAAO;QACT;QAMA,IAAI,YAAY;YACd,OAAO;gBACL,IAAA,IAAS,IAAI,GAAG,IAAI,SAAS,MAAA,EAAQ,IAAK;oBACxC,MAAM,UAAU,QAAA,CAAS,EAAC;oBAC1B,IAAI,OAAO,WAAW,YAAY;wBAChC;oBACF,OAAO;wBACL,OAAO,IAAA,CAAK,EAAC,EAAG;oBAClB;gBACF;YACF;QACF;IACF;AACF;AAMA,SAAS,gBAAA,GAAsB,IAAA;IAE7B,OAAa,+TAAA,WAAA,CAAY,eAAe,OAAO;AACjD"}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@radix-ui+react-slot@1.2.3_@types+react@18.3.23_react@18.3.1/node_modules/@radix-ui/react-slot/src/slot.tsx"],"sourcesContent":["import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlot(ownerName: string) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n\n    if (slottable) {\n      // the new element to render is the one passed as a child of `Slottable`\n      const newElement = slottable.props.children;\n\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          // because the new element will be the one rendered, we are only interested\n          // in grabbing its children (`newElement.props.children`)\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement)\n            ? (newElement.props as { children: React.ReactNode }).children\n            : null;\n        } else {\n          return child;\n        }\n      });\n\n      return (\n        <SlotClone {...slotProps} ref={forwardedRef}>\n          {React.isValidElement(newElement)\n            ? React.cloneElement(newElement, undefined, newChildren)\n            : null}\n        </SlotClone>\n      );\n    }\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {children}\n      </SlotClone>\n    );\n  });\n\n  Slot.displayName = `${ownerName}.Slot`;\n  return Slot;\n}\n\nconst Slot = createSlot('Slot');\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ function createSlotClone(ownerName: string) {\n  const SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props = mergeProps(slotProps, children.props as AnyProps);\n      // do not pass ref to React.Fragment for React 19 compatibility\n      if (children.type !== React.Fragment) {\n        props.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props);\n    }\n\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLOTTABLE_IDENTIFIER = Symbol('radix.slottable');\n\ninterface SlottableProps {\n  children: React.ReactNode;\n}\n\ninterface SlottableComponent extends React.FC<SlottableProps> {\n  __radixId: symbol;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlottable(ownerName: string) {\n  const Slottable: SlottableComponent = ({ children }) => {\n    return <>{children}</>;\n  };\n  Slottable.displayName = `${ownerName}.Slottable`;\n  Slottable.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable;\n}\n\nconst Slottable = createSlottable('Slottable');\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(\n  child: React.ReactNode\n): child is React.ReactElement<SlottableProps, typeof Slottable> {\n  return (\n    React.isValidElement(child) &&\n    typeof child.type === 'function' &&\n    '__radixId' in child.type &&\n    child.type.__radixId === SLOTTABLE_IDENTIFIER\n  );\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element.props as { ref?: React.Ref<unknown> }).ref;\n  }\n\n  // Not DEV\n  return (element.props as { ref?: React.Ref<unknown> }).ref || (element as any).ref;\n}\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Slot as Root,\n};\nexport type { SlotProps };\n"],"names":["Slot","props","Slottable","Fragment"],"mappings":"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"}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;"],"names":[],"mappings":";;;;AAAA,SAAS,EAAE,CAAC;IAAE,IAAI,GAAE,GAAE,IAAE;IAAG,IAAG,YAAU,OAAO,KAAG,YAAU,OAAO,GAAE,KAAG;SAAO,IAAG,YAAU,OAAO,GAAE,IAAG,MAAM,OAAO,CAAC,IAAG;QAAC,IAAI,IAAE,EAAE,MAAM;QAAC,IAAI,IAAE,GAAE,IAAE,GAAE,IAAI,CAAC,CAAC,EAAE,IAAE,CAAC,IAAE,EAAE,CAAC,CAAC,EAAE,CAAC,KAAG,CAAC,KAAG,CAAC,KAAG,GAAG,GAAE,KAAG,CAAC;IAAC,OAAM,IAAI,KAAK,EAAE,CAAC,CAAC,EAAE,IAAE,CAAC,KAAG,CAAC,KAAG,GAAG,GAAE,KAAG,CAAC;IAAE,OAAO;AAAC;AAAQ,SAAS;IAAO,IAAI,IAAI,GAAE,GAAE,IAAE,GAAE,IAAE,IAAG,IAAE,UAAU,MAAM,EAAC,IAAE,GAAE,IAAI,CAAC,IAAE,SAAS,CAAC,EAAE,KAAG,CAAC,IAAE,EAAE,EAAE,KAAG,CAAC,KAAG,CAAC,KAAG,GAAG,GAAE,KAAG,CAAC;IAAE,OAAO;AAAC;uCAAgB"}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs"],"sourcesContent":["/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;CAcC;;;;;;;AACD,MAAM,gBAAgB,CAAC,QAAQ,OAAO,UAAU,YAAY,CAAC,EAAE,MAAM,CAAC,GAAG,UAAU,IAAI,MAAM;AACtF,MAAM,KAAK,sLAAA,CAAA,OAAI;AACf,MAAM,MAAM,CAAC,MAAM,SAAS,CAAC;QAC5B,IAAI;QACJ,IAAI,CAAC,WAAW,QAAQ,WAAW,KAAK,IAAI,KAAK,IAAI,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAG,MAAM,UAAU,QAAQ,UAAU,KAAK,IAAI,KAAK,IAAI,MAAM,KAAK,EAAE,UAAU,QAAQ,UAAU,KAAK,IAAI,KAAK,IAAI,MAAM,SAAS;QACvN,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,GAAG;QACtC,MAAM,uBAAuB,OAAO,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpD,MAAM,cAAc,UAAU,QAAQ,UAAU,KAAK,IAAI,KAAK,IAAI,KAAK,CAAC,QAAQ;YAChF,MAAM,qBAAqB,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,eAAe,CAAC,QAAQ;YACrH,IAAI,gBAAgB,MAAM,OAAO;YACjC,MAAM,aAAa,cAAc,gBAAgB,cAAc;YAC/D,OAAO,QAAQ,CAAC,QAAQ,CAAC,WAAW;QACxC;QACA,MAAM,wBAAwB,SAAS,OAAO,OAAO,CAAC,OAAO,MAAM,CAAC,CAAC,KAAK;YACtE,IAAI,CAAC,KAAK,MAAM,GAAG;YACnB,IAAI,UAAU,WAAW;gBACrB,OAAO;YACX;YACA,GAAG,CAAC,IAAI,GAAG;YACX,OAAO;QACX,GAAG,CAAC;QACJ,MAAM,+BAA+B,WAAW,QAAQ,WAAW,KAAK,IAAI,KAAK,IAAI,CAAC,2BAA2B,OAAO,gBAAgB,MAAM,QAAQ,6BAA6B,KAAK,IAAI,KAAK,IAAI,yBAAyB,MAAM,CAAC,CAAC,KAAK;YACvO,IAAI,EAAE,OAAO,OAAO,EAAE,WAAW,WAAW,EAAE,GAAG,wBAAwB,GAAG;YAC5E,OAAO,OAAO,OAAO,CAAC,wBAAwB,KAAK,CAAC,CAAC;gBACjD,IAAI,CAAC,KAAK,MAAM,GAAG;gBACnB,OAAO,MAAM,OAAO,CAAC,SAAS,MAAM,QAAQ,CAAC;oBACzC,GAAG,eAAe;oBAClB,GAAG,qBAAqB;gBAC5B,CAAC,CAAC,IAAI,IAAI,CAAC;oBACP,GAAG,eAAe;oBAClB,GAAG,qBAAqB;gBAC5B,CAAC,CAAC,CAAC,IAAI,KAAK;YAChB,KAAK;mBACE;gBACH;gBACA;aACH,GAAG;QACR,GAAG,EAAE;QACL,OAAO,GAAG,MAAM,sBAAsB,8BAA8B,UAAU,QAAQ,UAAU,KAAK,IAAI,KAAK,IAAI,MAAM,KAAK,EAAE,UAAU,QAAQ,UAAU,KAAK,IAAI,KAAK,IAAI,MAAM,SAAS;IAChM"}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/internal/constants.js"],"sourcesContent":["'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n"],"names":[],"mappings":"AAAA;AAEA,sEAAsE;AACtE,oDAAoD;AACpD,MAAM,sBAAsB;AAE5B,MAAM,aAAa;AACnB,MAAM,mBAAmB,OAAO,gBAAgB,IAChD,wBAAwB,GAAG;AAE3B,wCAAwC;AACxC,MAAM,4BAA4B;AAElC,gFAAgF;AAChF,iDAAiD;AACjD,MAAM,wBAAwB,aAAa;AAE3C,MAAM,gBAAgB;IACpB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,OAAO,OAAO,GAAG;IACf;IACA;IACA;IACA;IACA;IACA;IACA,yBAAyB;IACzB,YAAY;AACd"}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 665, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/internal/debug.js"],"sourcesContent":["'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n"],"names":[],"mappings":"AAAA;AAEA,MAAM,QAAQ,AACZ,OAAO,YAAY,YACnB,QAAQ,GAAG,IACX,QAAQ,GAAG,CAAC,UAAU,IACtB,cAAc,IAAI,CAAC,QAAQ,GAAG,CAAC,UAAU,IACvC,CAAC,GAAG,OAAS,QAAQ,KAAK,CAAC,aAAa,QACxC,KAAO;AAEX,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/internal/re.js"],"sourcesContent":["'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/internal/parse-options.js"],"sourcesContent":["'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n"],"names":[],"mappings":"AAAA;AAEA,2CAA2C;AAC3C,MAAM,cAAc,OAAO,MAAM,CAAC;IAAE,OAAO;AAAK;AAChD,MAAM,YAAY,OAAO,MAAM,CAAC,CAAE;AAClC,MAAM,eAAe,CAAA;IACnB,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,IAAI,OAAO,YAAY,UAAU;QAC/B,OAAO;IACT;IAEA,OAAO;AACT;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 835, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 839, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/internal/identifiers.js"],"sourcesContent":["'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n"],"names":[],"mappings":"AAAA;AAEA,MAAM,UAAU;AAChB,MAAM,qBAAqB,CAAC,GAAG;IAC7B,MAAM,OAAO,QAAQ,IAAI,CAAC;IAC1B,MAAM,OAAO,QAAQ,IAAI,CAAC;IAE1B,IAAI,QAAQ,MAAM;QAChB,IAAI,CAAC;QACL,IAAI,CAAC;IACP;IAEA,OAAO,MAAM,IAAI,IACb,AAAC,QAAQ,CAAC,OAAQ,CAAC,IACnB,AAAC,QAAQ,CAAC,OAAQ,IAClB,IAAI,IAAI,CAAC,IACT;AACN;AAEA,MAAM,sBAAsB,CAAC,GAAG,IAAM,mBAAmB,GAAG;AAE5D,OAAO,OAAO,GAAG;IACf;IACA;AACF"}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/classes/semver.js"],"sourcesContent":["'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1144, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1148, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/parse.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,QAAQ,CAAC,SAAS,SAAS,cAAc,KAAK;IAClD,IAAI,mBAAmB,QAAQ;QAC7B,OAAO;IACT;IACA,IAAI;QACF,OAAO,IAAI,OAAO,SAAS;IAC7B,EAAE,OAAO,IAAI;QACX,IAAI,CAAC,aAAa;YAChB,OAAO;QACT;QACA,MAAM;IACR;AACF;AAEA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1164, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1168, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/valid.js"],"sourcesContent":["'use strict'\n\nconst parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,QAAQ,CAAC,SAAS;IACtB,MAAM,IAAI,MAAM,SAAS;IACzB,OAAO,IAAI,EAAE,OAAO,GAAG;AACzB;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1179, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/clean.js"],"sourcesContent":["'use strict'\n\nconst parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,QAAQ,CAAC,SAAS;IACtB,MAAM,IAAI,MAAM,QAAQ,IAAI,GAAG,OAAO,CAAC,UAAU,KAAK;IACtD,OAAO,IAAI,EAAE,OAAO,GAAG;AACzB;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1186, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/inc.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AAEN,MAAM,MAAM,CAAC,SAAS,SAAS,SAAS,YAAY;IAClD,IAAI,OAAQ,YAAa,UAAU;QACjC,iBAAiB;QACjB,aAAa;QACb,UAAU;IACZ;IAEA,IAAI;QACF,OAAO,IAAI,OACT,mBAAmB,SAAS,QAAQ,OAAO,GAAG,SAC9C,SACA,GAAG,CAAC,SAAS,YAAY,gBAAgB,OAAO;IACpD,EAAE,OAAO,IAAI;QACX,OAAO;IACT;AACF;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1205, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1209, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/diff.js"],"sourcesContent":["'use strict'\n\nconst parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AAEN,MAAM,OAAO,CAAC,UAAU;IACtB,MAAM,KAAK,MAAM,UAAU,MAAM;IACjC,MAAM,KAAK,MAAM,UAAU,MAAM;IACjC,MAAM,aAAa,GAAG,OAAO,CAAC;IAE9B,IAAI,eAAe,GAAG;QACpB,OAAO;IACT;IAEA,MAAM,WAAW,aAAa;IAC9B,MAAM,cAAc,WAAW,KAAK;IACpC,MAAM,aAAa,WAAW,KAAK;IACnC,MAAM,aAAa,CAAC,CAAC,YAAY,UAAU,CAAC,MAAM;IAClD,MAAM,YAAY,CAAC,CAAC,WAAW,UAAU,CAAC,MAAM;IAEhD,IAAI,aAAa,CAAC,YAAY;QAC5B,sEAAsE;QAEtE,sEAAsE;QACtE,iBAAiB;QACjB,mBAAmB;QACnB,mBAAmB;QACnB,mBAAmB;QACnB,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,KAAK,EAAE;YAC1C,OAAO;QACT;QAEA,qCAAqC;QACrC,IAAI,WAAW,WAAW,CAAC,iBAAiB,GAAG;YAC7C,IAAI,WAAW,KAAK,IAAI,CAAC,WAAW,KAAK,EAAE;gBACzC,OAAO;YACT;YACA,OAAO;QACT;IACF;IAEA,+DAA+D;IAC/D,MAAM,SAAS,aAAa,QAAQ;IAEpC,IAAI,GAAG,KAAK,KAAK,GAAG,KAAK,EAAE;QACzB,OAAO,SAAS;IAClB;IAEA,IAAI,GAAG,KAAK,KAAK,GAAG,KAAK,EAAE;QACzB,OAAO,SAAS;IAClB;IAEA,IAAI,GAAG,KAAK,KAAK,GAAG,KAAK,EAAE;QACzB,OAAO,SAAS;IAClB;IAEA,6BAA6B;IAC7B,OAAO;AACT;AAEA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/major.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,QAAQ,CAAC,GAAG,QAAU,IAAI,OAAO,GAAG,OAAO,KAAK;AACtD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1264, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1268, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/minor.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,QAAQ,CAAC,GAAG,QAAU,IAAI,OAAO,GAAG,OAAO,KAAK;AACtD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1272, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1276, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/patch.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,QAAQ,CAAC,GAAG,QAAU,IAAI,OAAO,GAAG,OAAO,KAAK;AACtD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1280, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1284, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/prerelease.js"],"sourcesContent":["'use strict'\n\nconst parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,aAAa,CAAC,SAAS;IAC3B,MAAM,SAAS,MAAM,SAAS;IAC9B,OAAO,AAAC,UAAU,OAAO,UAAU,CAAC,MAAM,GAAI,OAAO,UAAU,GAAG;AACpE;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1291, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1295, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/compare.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,UAAU,CAAC,GAAG,GAAG,QACrB,IAAI,OAAO,GAAG,OAAO,OAAO,CAAC,IAAI,OAAO,GAAG;AAE7C,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1299, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1303, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/rcompare.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,WAAW,CAAC,GAAG,GAAG,QAAU,QAAQ,GAAG,GAAG;AAChD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1307, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1311, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/compare-loose.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,eAAe,CAAC,GAAG,IAAM,QAAQ,GAAG,GAAG;AAC7C,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1315, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1319, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/compare-build.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,eAAe,CAAC,GAAG,GAAG;IAC1B,MAAM,WAAW,IAAI,OAAO,GAAG;IAC/B,MAAM,WAAW,IAAI,OAAO,GAAG;IAC/B,OAAO,SAAS,OAAO,CAAC,aAAa,SAAS,YAAY,CAAC;AAC7D;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1327, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1331, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/sort.js"],"sourcesContent":["'use strict'\n\nconst compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,OAAO,CAAC,MAAM,QAAU,KAAK,IAAI,CAAC,CAAC,GAAG,IAAM,aAAa,GAAG,GAAG;AACrE,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1335, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1339, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/rsort.js"],"sourcesContent":["'use strict'\n\nconst compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,QAAQ,CAAC,MAAM,QAAU,KAAK,IAAI,CAAC,CAAC,GAAG,IAAM,aAAa,GAAG,GAAG;AACtE,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1343, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1347, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/gt.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,KAAK,CAAC,GAAG,GAAG,QAAU,QAAQ,GAAG,GAAG,SAAS;AACnD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1355, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/lt.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,KAAK,CAAC,GAAG,GAAG,QAAU,QAAQ,GAAG,GAAG,SAAS;AACnD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1359, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/eq.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,KAAK,CAAC,GAAG,GAAG,QAAU,QAAQ,GAAG,GAAG,WAAW;AACrD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1367, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1371, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/neq.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,MAAM,CAAC,GAAG,GAAG,QAAU,QAAQ,GAAG,GAAG,WAAW;AACtD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1375, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1379, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/gte.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,MAAM,CAAC,GAAG,GAAG,QAAU,QAAQ,GAAG,GAAG,UAAU;AACrD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1383, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1387, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/lte.js"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,MAAM,CAAC,GAAG,GAAG,QAAU,QAAQ,GAAG,GAAG,UAAU;AACrD,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1391, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1395, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/cmp.js"],"sourcesContent":["'use strict'\n\nconst eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AAEN,MAAM,MAAM,CAAC,GAAG,IAAI,GAAG;IACrB,OAAQ;QACN,KAAK;YACH,IAAI,OAAO,MAAM,UAAU;gBACzB,IAAI,EAAE,OAAO;YACf;YACA,IAAI,OAAO,MAAM,UAAU;gBACzB,IAAI,EAAE,OAAO;YACf;YACA,OAAO,MAAM;QAEf,KAAK;YACH,IAAI,OAAO,MAAM,UAAU;gBACzB,IAAI,EAAE,OAAO;YACf;YACA,IAAI,OAAO,MAAM,UAAU;gBACzB,IAAI,EAAE,OAAO;YACf;YACA,OAAO,MAAM;QAEf,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO,GAAG,GAAG,GAAG;QAElB,KAAK;YACH,OAAO,IAAI,GAAG,GAAG;QAEnB,KAAK;YACH,OAAO,GAAG,GAAG,GAAG;QAElB,KAAK;YACH,OAAO,IAAI,GAAG,GAAG;QAEnB,KAAK;YACH,OAAO,GAAG,GAAG,GAAG;QAElB,KAAK;YACH,OAAO,IAAI,GAAG,GAAG;QAEnB;YACE,MAAM,IAAI,UAAU,CAAC,kBAAkB,EAAE,GAAG,CAAC;IACjD;AACF;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1439, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1443, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/coerce.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM;AACN,MAAM,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE;AAEvB,MAAM,SAAS,CAAC,SAAS;IACvB,IAAI,mBAAmB,QAAQ;QAC7B,OAAO;IACT;IAEA,IAAI,OAAO,YAAY,UAAU;QAC/B,UAAU,OAAO;IACnB;IAEA,IAAI,OAAO,YAAY,UAAU;QAC/B,OAAO;IACT;IAEA,UAAU,WAAW,CAAC;IAEtB,IAAI,QAAQ;IACZ,IAAI,CAAC,QAAQ,GAAG,EAAE;QAChB,QAAQ,QAAQ,KAAK,CAAC,QAAQ,iBAAiB,GAAG,EAAE,CAAC,EAAE,UAAU,CAAC,GAAG,EAAE,CAAC,EAAE,MAAM,CAAC;IACnF,OAAO;QACL,2DAA2D;QAC3D,qDAAqD;QACrD,0DAA0D;QAC1D,0FAA0F;QAC1F,EAAE;QACF,oDAAoD;QACpD,+DAA+D;QAC/D,iEAAiE;QACjE,qEAAqE;QACrE,MAAM,iBAAiB,QAAQ,iBAAiB,GAAG,EAAE,CAAC,EAAE,aAAa,CAAC,GAAG,EAAE,CAAC,EAAE,SAAS,CAAC;QACxF,IAAI;QACJ,MAAO,CAAC,OAAO,eAAe,IAAI,CAAC,QAAQ,KACvC,CAAC,CAAC,SAAS,MAAM,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM,KAAK,QAAQ,MAAM,EAC7D;YACA,IAAI,CAAC,SACC,KAAK,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,KAAK,MAAM,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE;gBACnE,QAAQ;YACV;YACA,eAAe,SAAS,GAAG,KAAK,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM;QACzE;QACA,4BAA4B;QAC5B,eAAe,SAAS,GAAG,CAAC;IAC9B;IAEA,IAAI,UAAU,MAAM;QAClB,OAAO;IACT;IAEA,MAAM,QAAQ,KAAK,CAAC,EAAE;IACtB,MAAM,QAAQ,KAAK,CAAC,EAAE,IAAI;IAC1B,MAAM,QAAQ,KAAK,CAAC,EAAE,IAAI;IAC1B,MAAM,aAAa,QAAQ,iBAAiB,IAAI,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG;IAC5E,MAAM,QAAQ,QAAQ,iBAAiB,IAAI,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG;IAEvE,OAAO,MAAM,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC,EAAE;AAClE;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1493, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1497, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/internal/lrucache.js"],"sourcesContent":["'use strict'\n\nclass LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;IACJ,aAAe;QACb,IAAI,CAAC,GAAG,GAAG;QACX,IAAI,CAAC,GAAG,GAAG,IAAI;IACjB;IAEA,IAAK,GAAG,EAAE;QACR,MAAM,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;QAC3B,IAAI,UAAU,WAAW;YACvB,OAAO;QACT,OAAO;YACL,oDAAoD;YACpD,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;YAChB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK;YAClB,OAAO;QACT;IACF;IAEA,OAAQ,GAAG,EAAE;QACX,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;IACzB;IAEA,IAAK,GAAG,EAAE,KAAK,EAAE;QACf,MAAM,UAAU,IAAI,CAAC,MAAM,CAAC;QAE5B,IAAI,CAAC,WAAW,UAAU,WAAW;YACnC,wDAAwD;YACxD,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,EAAE;gBAC7B,MAAM,WAAW,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK;gBAC7C,IAAI,CAAC,MAAM,CAAC;YACd;YAEA,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK;QACpB;QAEA,OAAO,IAAI;IACb;AACF;AAEA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 1531, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1535, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/classes/range.js"],"sourcesContent":["'use strict'\n\nconst SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1984, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1988, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/classes/comparator.js"],"sourcesContent":["'use strict'\n\nconst ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2103, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2107, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/functions/satisfies.js"],"sourcesContent":["'use strict'\n\nconst Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,YAAY,CAAC,SAAS,OAAO;IACjC,IAAI;QACF,QAAQ,IAAI,MAAM,OAAO;IAC3B,EAAE,OAAO,IAAI;QACX,OAAO;IACT;IACA,OAAO,MAAM,IAAI,CAAC;AACpB;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2118, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2122, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/to-comparators.js"],"sourcesContent":["'use strict'\n\nconst Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AAEN,iDAAiD;AACjD,MAAM,gBAAgB,CAAC,OAAO,UAC5B,IAAI,MAAM,OAAO,SAAS,GAAG,CAC1B,GAAG,CAAC,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC;AAE/D,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2127, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2131, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/max-satisfying.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM;AAEN,MAAM,gBAAgB,CAAC,UAAU,OAAO;IACtC,IAAI,MAAM;IACV,IAAI,QAAQ;IACZ,IAAI,WAAW;IACf,IAAI;QACF,WAAW,IAAI,MAAM,OAAO;IAC9B,EAAE,OAAO,IAAI;QACX,OAAO;IACT;IACA,SAAS,OAAO,CAAC,CAAC;QAChB,IAAI,SAAS,IAAI,CAAC,IAAI;YACpB,+BAA+B;YAC/B,IAAI,CAAC,OAAO,MAAM,OAAO,CAAC,OAAO,CAAC,GAAG;gBACnC,wBAAwB;gBACxB,MAAM;gBACN,QAAQ,IAAI,OAAO,KAAK;YAC1B;QACF;IACF;IACA,OAAO;AACT;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2156, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2160, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/min-satisfying.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM;AACN,MAAM,gBAAgB,CAAC,UAAU,OAAO;IACtC,IAAI,MAAM;IACV,IAAI,QAAQ;IACZ,IAAI,WAAW;IACf,IAAI;QACF,WAAW,IAAI,MAAM,OAAO;IAC9B,EAAE,OAAO,IAAI;QACX,OAAO;IACT;IACA,SAAS,OAAO,CAAC,CAAC;QAChB,IAAI,SAAS,IAAI,CAAC,IAAI;YACpB,+BAA+B;YAC/B,IAAI,CAAC,OAAO,MAAM,OAAO,CAAC,OAAO,GAAG;gBAClC,wBAAwB;gBACxB,MAAM;gBACN,QAAQ,IAAI,OAAO,KAAK;YAC1B;QACF;IACF;IACA,OAAO;AACT;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2185, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2189, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/min-version.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM;AACN,MAAM;AAEN,MAAM,aAAa,CAAC,OAAO;IACzB,QAAQ,IAAI,MAAM,OAAO;IAEzB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,MAAM,IAAI,CAAC,SAAS;QACtB,OAAO;IACT;IAEA,SAAS,IAAI,OAAO;IACpB,IAAI,MAAM,IAAI,CAAC,SAAS;QACtB,OAAO;IACT;IAEA,SAAS;IACT,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,GAAG,CAAC,MAAM,EAAE,EAAE,EAAG;QACzC,MAAM,cAAc,MAAM,GAAG,CAAC,EAAE;QAEhC,IAAI,SAAS;QACb,YAAY,OAAO,CAAC,CAAC;YACnB,8DAA8D;YAC9D,MAAM,UAAU,IAAI,OAAO,WAAW,MAAM,CAAC,OAAO;YACpD,OAAQ,WAAW,QAAQ;gBACzB,KAAK;oBACH,IAAI,QAAQ,UAAU,CAAC,MAAM,KAAK,GAAG;wBACnC,QAAQ,KAAK;oBACf,OAAO;wBACL,QAAQ,UAAU,CAAC,IAAI,CAAC;oBAC1B;oBACA,QAAQ,GAAG,GAAG,QAAQ,MAAM;gBAC5B,eAAe,GACjB,KAAK;gBACL,KAAK;oBACH,IAAI,CAAC,UAAU,GAAG,SAAS,SAAS;wBAClC,SAAS;oBACX;oBACA;gBACF,KAAK;gBACL,KAAK;oBAEH;gBACF,wBAAwB,GACxB;oBACE,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,WAAW,QAAQ,CAAC,CAAC;YAClE;QACF;QACA,IAAI,UAAU,CAAC,CAAC,UAAU,GAAG,QAAQ,OAAO,GAAG;YAC7C,SAAS;QACX;IACF;IAEA,IAAI,UAAU,MAAM,IAAI,CAAC,SAAS;QAChC,OAAO;IACT;IAEA,OAAO;AACT;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2245, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/valid.js"],"sourcesContent":["'use strict'\n\nconst Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,aAAa,CAAC,OAAO;IACzB,IAAI;QACF,qDAAqD;QACrD,yCAAyC;QACzC,OAAO,IAAI,MAAM,OAAO,SAAS,KAAK,IAAI;IAC5C,EAAE,OAAO,IAAI;QACX,OAAO;IACT;AACF;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2257, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2261, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/outside.js"],"sourcesContent":["'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM;AACN,MAAM,EAAE,GAAG,EAAE,GAAG;AAChB,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AAEN,MAAM,UAAU,CAAC,SAAS,OAAO,MAAM;IACrC,UAAU,IAAI,OAAO,SAAS;IAC9B,QAAQ,IAAI,MAAM,OAAO;IAEzB,IAAI,MAAM,OAAO,MAAM,MAAM;IAC7B,OAAQ;QACN,KAAK;YACH,OAAO;YACP,QAAQ;YACR,OAAO;YACP,OAAO;YACP,QAAQ;YACR;QACF,KAAK;YACH,OAAO;YACP,QAAQ;YACR,OAAO;YACP,OAAO;YACP,QAAQ;YACR;QACF;YACE,MAAM,IAAI,UAAU;IACxB;IAEA,8CAA8C;IAC9C,IAAI,UAAU,SAAS,OAAO,UAAU;QACtC,OAAO;IACT;IAEA,6DAA6D;IAC7D,8DAA8D;IAE9D,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,GAAG,CAAC,MAAM,EAAE,EAAE,EAAG;QACzC,MAAM,cAAc,MAAM,GAAG,CAAC,EAAE;QAEhC,IAAI,OAAO;QACX,IAAI,MAAM;QAEV,YAAY,OAAO,CAAC,CAAC;YACnB,IAAI,WAAW,MAAM,KAAK,KAAK;gBAC7B,aAAa,IAAI,WAAW;YAC9B;YACA,OAAO,QAAQ;YACf,MAAM,OAAO;YACb,IAAI,KAAK,WAAW,MAAM,EAAE,KAAK,MAAM,EAAE,UAAU;gBACjD,OAAO;YACT,OAAO,IAAI,KAAK,WAAW,MAAM,EAAE,IAAI,MAAM,EAAE,UAAU;gBACvD,MAAM;YACR;QACF;QAEA,iEAAiE;QACjE,mBAAmB;QACnB,IAAI,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,OAAO;YACrD,OAAO;QACT;QAEA,mEAAmE;QACnE,sDAAsD;QACtD,IAAI,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,QAAQ,KAAK,IAAI,KACvC,MAAM,SAAS,IAAI,MAAM,GAAG;YAC9B,OAAO;QACT,OAAO,IAAI,IAAI,QAAQ,KAAK,SAAS,KAAK,SAAS,IAAI,MAAM,GAAG;YAC9D,OAAO;QACT;IACF;IACA,OAAO;AACT;AAEA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2331, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2335, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/gtr.js"],"sourcesContent":["'use strict'\n\n// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n"],"names":[],"mappings":"AAAA;AAEA,+EAA+E;AAC/E,MAAM;AACN,MAAM,MAAM,CAAC,SAAS,OAAO,UAAY,QAAQ,SAAS,OAAO,KAAK;AACtE,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2340, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2344, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/ltr.js"],"sourcesContent":["'use strict'\n\nconst outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,2EAA2E;AAC3E,MAAM,MAAM,CAAC,SAAS,OAAO,UAAY,QAAQ,SAAS,OAAO,KAAK;AACtE,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2349, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2353, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/intersects.js"],"sourcesContent":["'use strict'\n\nconst Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM,aAAa,CAAC,IAAI,IAAI;IAC1B,KAAK,IAAI,MAAM,IAAI;IACnB,KAAK,IAAI,MAAM,IAAI;IACnB,OAAO,GAAG,UAAU,CAAC,IAAI;AAC3B;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 2361, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2365, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/simplify.js"],"sourcesContent":["'use strict'\n\n// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n"],"names":[],"mappings":"AAAA;AAEA,mEAAmE;AACnE,+DAA+D;AAC/D,yEAAyE;AACzE,MAAM;AACN,MAAM;AACN,OAAO,OAAO,GAAG,CAAC,UAAU,OAAO;IACjC,MAAM,MAAM,EAAE;IACd,IAAI,QAAQ;IACZ,IAAI,OAAO;IACX,MAAM,IAAI,SAAS,IAAI,CAAC,CAAC,GAAG,IAAM,QAAQ,GAAG,GAAG;IAChD,KAAK,MAAM,WAAW,EAAG;QACvB,MAAM,WAAW,UAAU,SAAS,OAAO;QAC3C,IAAI,UAAU;YACZ,OAAO;YACP,IAAI,CAAC,OAAO;gBACV,QAAQ;YACV;QACF,OAAO;YACL,IAAI,MAAM;gBACR,IAAI,IAAI,CAAC;oBAAC;oBAAO;iBAAK;YACxB;YACA,OAAO;YACP,QAAQ;QACV;IACF;IACA,IAAI,OAAO;QACT,IAAI,IAAI,CAAC;YAAC;YAAO;SAAK;IACxB;IAEA,MAAM,SAAS,EAAE;IACjB,KAAK,MAAM,CAAC,KAAK,IAAI,IAAI,IAAK;QAC5B,IAAI,QAAQ,KAAK;YACf,OAAO,IAAI,CAAC;QACd,OAAO,IAAI,CAAC,OAAO,QAAQ,CAAC,CAAC,EAAE,EAAE;YAC/B,OAAO,IAAI,CAAC;QACd,OAAO,IAAI,CAAC,KAAK;YACf,OAAO,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC;QACxB,OAAO,IAAI,QAAQ,CAAC,CAAC,EAAE,EAAE;YACvB,OAAO,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC;QACxB,OAAO;YACL,OAAO,IAAI,CAAC,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC;QAC/B;IACF;IACA,MAAM,aAAa,OAAO,IAAI,CAAC;IAC/B,MAAM,WAAW,OAAO,MAAM,GAAG,KAAK,WAAW,MAAM,GAAG,GAAG,OAAO;IACpE,OAAO,WAAW,MAAM,GAAG,SAAS,MAAM,GAAG,aAAa;AAC5D"}},
    {"offset": {"line": 2418, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2422, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/ranges/subset.js"],"sourcesContent":["'use strict'\n\nconst Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2633, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2637, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/semver@7.7.2/node_modules/semver/index.js"],"sourcesContent":["'use strict'\n\n// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n"],"names":[],"mappings":"AAAA;AAEA,2DAA2D;AAC3D,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,OAAO,OAAO,GAAG;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,WAAW,EAAE;IACjB,KAAK,WAAW,GAAG;IACnB,QAAQ,WAAW,CAAC;IACpB,qBAAqB,UAAU,mBAAmB;IAClD,eAAe,UAAU,aAAa;IACtC,oBAAoB,YAAY,kBAAkB;IAClD,qBAAqB,YAAY,mBAAmB;AACtD"}},
    {"offset": {"line": 2727, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2731, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ff0a58fadaf1a6a89e8058bafbd0795a/node_modules/@opentelemetry/instrumentation-http/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const VERSION = '0.57.2';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,OAAO,GAAG"}},
    {"offset": {"line": 2752, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2756, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ff0a58fadaf1a6a89e8058bafbd0795a/node_modules/@opentelemetry/instrumentation-http/src/enums/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/semantic_conventions/http.md\n */\nexport enum AttributeNames {\n  HTTP_ERROR_NAME = 'http.error_name',\n  HTTP_ERROR_MESSAGE = 'http.error_message',\n  HTTP_STATUS_TEXT = 'http.status_text',\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA;;IAGA,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,kBAAA,GAAA;IACA,cAAA,CAAA,qBAAA,GAAA;IACA,cAAA,CAAA,mBAAA,GAAA;AACF,CAAC,EAJW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 2783, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2787, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ff0a58fadaf1a6a89e8058bafbd0795a/node_modules/@opentelemetry/instrumentation-http/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  Attributes,\n  SpanStatusCode,\n  Span,\n  context,\n  SpanKind,\n  DiagLogger,\n} from '@opentelemetry/api';\nimport {\n  ATTR_CLIENT_ADDRESS,\n  ATTR_ERROR_TYPE,\n  ATTR_HTTP_REQUEST_METHOD,\n  ATTR_HTTP_REQUEST_METHOD_ORIGINAL,\n  ATTR_HTTP_RESPONSE_STATUS_CODE,\n  ATTR_HTTP_ROUTE,\n  ATTR_NETWORK_PEER_ADDRESS,\n  ATTR_NETWORK_PEER_PORT,\n  ATTR_NETWORK_PROTOCOL_VERSION,\n  ATTR_SERVER_ADDRESS,\n  ATTR_SERVER_PORT,\n  ATTR_URL_FULL,\n  ATTR_URL_PATH,\n  ATTR_URL_SCHEME,\n  ATTR_USER_AGENT_ORIGINAL,\n  NETTRANSPORTVALUES_IP_TCP,\n  NETTRANSPORTVALUES_IP_UDP,\n  SEMATTRS_HTTP_CLIENT_IP,\n  SEMATTRS_HTTP_FLAVOR,\n  SEMATTRS_HTTP_HOST,\n  SEMATTRS_HTTP_METHOD,\n  SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH,\n  SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED,\n  SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH,\n  SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,\n  SEMATTRS_HTTP_ROUTE,\n  SEMATTRS_HTTP_SCHEME,\n  SEMATTRS_HTTP_SERVER_NAME,\n  SEMATTRS_HTTP_STATUS_CODE,\n  SEMATTRS_HTTP_TARGET,\n  SEMATTRS_HTTP_URL,\n  SEMATTRS_HTTP_USER_AGENT,\n  SEMATTRS_NET_HOST_IP,\n  SEMATTRS_NET_HOST_NAME,\n  SEMATTRS_NET_HOST_PORT,\n  SEMATTRS_NET_PEER_IP,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n  SEMATTRS_NET_TRANSPORT,\n} from '@opentelemetry/semantic-conventions';\nimport {\n  IncomingHttpHeaders,\n  IncomingMessage,\n  OutgoingHttpHeaders,\n  RequestOptions,\n  ServerResponse,\n} from 'http';\nimport { getRPCMetadata, RPCType } from '@opentelemetry/core';\nimport * as url from 'url';\nimport { AttributeNames } from './enums/AttributeNames';\nimport {\n  Err,\n  IgnoreMatcher,\n  ParsedRequestOptions,\n  SemconvStability,\n} from './internal-types';\nimport forwardedParse = require('forwarded-parse');\n\n/**\n * Get an absolute url\n */\nexport const getAbsoluteUrl = (\n  requestUrl: ParsedRequestOptions | null,\n  headers: IncomingHttpHeaders | OutgoingHttpHeaders,\n  fallbackProtocol = 'http:'\n): string => {\n  const reqUrlObject = requestUrl || {};\n  const protocol = reqUrlObject.protocol || fallbackProtocol;\n  const port = (reqUrlObject.port || '').toString();\n  const path = reqUrlObject.path || '/';\n  let host =\n    reqUrlObject.host || reqUrlObject.hostname || headers.host || 'localhost';\n\n  // if there is no port in host and there is a port\n  // it should be displayed if it's not 80 and 443 (default ports)\n  if (\n    (host as string).indexOf(':') === -1 &&\n    port &&\n    port !== '80' &&\n    port !== '443'\n  ) {\n    host += `:${port}`;\n  }\n\n  return `${protocol}//${host}${path}`;\n};\n\n/**\n * Parse status code from HTTP response. [More details](https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/data-http.md#status)\n */\nexport const parseResponseStatus = (\n  kind: SpanKind,\n  statusCode?: number\n): SpanStatusCode => {\n  const upperBound = kind === SpanKind.CLIENT ? 400 : 500;\n  // 1xx, 2xx, 3xx are OK on client and server\n  // 4xx is OK on server\n  if (statusCode && statusCode >= 100 && statusCode < upperBound) {\n    return SpanStatusCode.UNSET;\n  }\n\n  // All other codes are error\n  return SpanStatusCode.ERROR;\n};\n\n/**\n * Check whether the given obj match pattern\n * @param constant e.g URL of request\n * @param pattern Match pattern\n */\nexport const satisfiesPattern = (\n  constant: string,\n  pattern: IgnoreMatcher\n): boolean => {\n  if (typeof pattern === 'string') {\n    return pattern === constant;\n  } else if (pattern instanceof RegExp) {\n    return pattern.test(constant);\n  } else if (typeof pattern === 'function') {\n    return pattern(constant);\n  } else {\n    throw new TypeError('Pattern is in unsupported datatype');\n  }\n};\n\n/**\n * Sets the span with the error passed in params\n * @param {Span} span the span that need to be set\n * @param {Error} error error that will be set to span\n * @param {SemconvStability} semconvStability determines which semconv version to use\n */\nexport const setSpanWithError = (\n  span: Span,\n  error: Err,\n  semconvStability: SemconvStability\n): void => {\n  const message = error.message;\n\n  if ((semconvStability & SemconvStability.OLD) === SemconvStability.OLD) {\n    span.setAttribute(AttributeNames.HTTP_ERROR_NAME, error.name);\n    span.setAttribute(AttributeNames.HTTP_ERROR_MESSAGE, message);\n  }\n\n  if (\n    (semconvStability & SemconvStability.STABLE) ===\n    SemconvStability.STABLE\n  ) {\n    span.setAttribute(ATTR_ERROR_TYPE, error.name);\n  }\n\n  span.setStatus({ code: SpanStatusCode.ERROR, message });\n  span.recordException(error);\n};\n\n/**\n * Adds attributes for request content-length and content-encoding HTTP headers\n * @param { IncomingMessage } Request object whose headers will be analyzed\n * @param { Attributes } Attributes object to be modified\n */\nexport const setRequestContentLengthAttribute = (\n  request: IncomingMessage,\n  attributes: Attributes\n): void => {\n  const length = getContentLength(request.headers);\n  if (length === null) return;\n\n  if (isCompressed(request.headers)) {\n    attributes[SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH] = length;\n  } else {\n    attributes[SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED] = length;\n  }\n};\n\n/**\n * Adds attributes for response content-length and content-encoding HTTP headers\n * @param { IncomingMessage } Response object whose headers will be analyzed\n * @param { Attributes } Attributes object to be modified\n *\n * @deprecated this is for an older version of semconv. It is retained for compatibility using OTEL_SEMCONV_STABILITY_OPT_IN\n */\nexport const setResponseContentLengthAttribute = (\n  response: IncomingMessage,\n  attributes: Attributes\n): void => {\n  const length = getContentLength(response.headers);\n  if (length === null) return;\n\n  if (isCompressed(response.headers)) {\n    attributes[SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH] = length;\n  } else {\n    attributes[SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED] = length;\n  }\n};\n\nfunction getContentLength(\n  headers: OutgoingHttpHeaders | IncomingHttpHeaders\n): number | null {\n  const contentLengthHeader = headers['content-length'];\n  if (contentLengthHeader === undefined) return null;\n\n  const contentLength = parseInt(contentLengthHeader as string, 10);\n  if (isNaN(contentLength)) return null;\n\n  return contentLength;\n}\n\nexport const isCompressed = (\n  headers: OutgoingHttpHeaders | IncomingHttpHeaders\n): boolean => {\n  const encoding = headers['content-encoding'];\n\n  return !!encoding && encoding !== 'identity';\n};\n\n/**\n * Mimics Node.js conversion of URL strings to RequestOptions expected by\n * `http.request` and `https.request` APIs.\n *\n * See https://github.com/nodejs/node/blob/2505e217bba05fc581b572c685c5cf280a16c5a3/lib/internal/url.js#L1415-L1437\n *\n * @param stringUrl\n * @throws TypeError if the URL is not valid.\n */\nfunction stringUrlToHttpOptions(\n  stringUrl: string\n): RequestOptions & { pathname: string } {\n  // This is heavily inspired by Node.js handling of the same situation, trying\n  // to follow it as closely as possible while keeping in mind that we only\n  // deal with string URLs, not URL objects.\n  const {\n    hostname,\n    pathname,\n    port,\n    username,\n    password,\n    search,\n    protocol,\n    hash,\n    href,\n    origin,\n    host,\n  } = new URL(stringUrl);\n\n  const options: RequestOptions & {\n    pathname: string;\n    hash: string;\n    search: string;\n    href: string;\n    origin: string;\n  } = {\n    protocol: protocol,\n    hostname:\n      hostname && hostname[0] === '[' ? hostname.slice(1, -1) : hostname,\n    hash: hash,\n    search: search,\n    pathname: pathname,\n    path: `${pathname || ''}${search || ''}`,\n    href: href,\n    origin: origin,\n    host: host,\n  };\n  if (port !== '') {\n    options.port = Number(port);\n  }\n  if (username || password) {\n    options.auth = `${decodeURIComponent(username)}:${decodeURIComponent(\n      password\n    )}`;\n  }\n  return options;\n}\n\n/**\n * Makes sure options is an url object\n * return an object with default value and parsed options\n * @param logger component logger\n * @param options original options for the request\n * @param [extraOptions] additional options for the request\n */\nexport const getRequestInfo = (\n  logger: DiagLogger,\n  options: url.URL | RequestOptions | string,\n  extraOptions?: RequestOptions\n): {\n  origin: string;\n  pathname: string;\n  method: string;\n  invalidUrl: boolean;\n  optionsParsed: RequestOptions;\n} => {\n  let pathname: string;\n  let origin: string;\n  let optionsParsed: RequestOptions;\n  let invalidUrl = false;\n  if (typeof options === 'string') {\n    try {\n      const convertedOptions = stringUrlToHttpOptions(options);\n      optionsParsed = convertedOptions;\n      pathname = convertedOptions.pathname || '/';\n    } catch (e) {\n      invalidUrl = true;\n      logger.verbose(\n        'Unable to parse URL provided to HTTP request, using fallback to determine path. Original error:',\n        e\n      );\n      // for backward compatibility with how url.parse() behaved.\n      optionsParsed = {\n        path: options,\n      };\n      pathname = optionsParsed.path || '/';\n    }\n\n    origin = `${optionsParsed.protocol || 'http:'}//${optionsParsed.host}`;\n    if (extraOptions !== undefined) {\n      Object.assign(optionsParsed, extraOptions);\n    }\n  } else if (options instanceof url.URL) {\n    optionsParsed = {\n      protocol: options.protocol,\n      hostname:\n        typeof options.hostname === 'string' && options.hostname.startsWith('[')\n          ? options.hostname.slice(1, -1)\n          : options.hostname,\n      path: `${options.pathname || ''}${options.search || ''}`,\n    };\n    if (options.port !== '') {\n      optionsParsed.port = Number(options.port);\n    }\n    if (options.username || options.password) {\n      optionsParsed.auth = `${options.username}:${options.password}`;\n    }\n    pathname = options.pathname;\n    origin = options.origin;\n    if (extraOptions !== undefined) {\n      Object.assign(optionsParsed, extraOptions);\n    }\n  } else {\n    optionsParsed = Object.assign(\n      { protocol: options.host ? 'http:' : undefined },\n      options\n    );\n\n    const hostname =\n      optionsParsed.host ||\n      (optionsParsed.port != null\n        ? `${optionsParsed.hostname}${optionsParsed.port}`\n        : optionsParsed.hostname);\n    origin = `${optionsParsed.protocol || 'http:'}//${hostname}`;\n\n    pathname = (options as url.URL).pathname;\n    if (!pathname && optionsParsed.path) {\n      try {\n        const parsedUrl = new URL(optionsParsed.path, origin);\n        pathname = parsedUrl.pathname || '/';\n      } catch (e) {\n        pathname = '/';\n      }\n    }\n  }\n\n  // some packages return method in lowercase..\n  // ensure upperCase for consistency\n  const method = optionsParsed.method\n    ? optionsParsed.method.toUpperCase()\n    : 'GET';\n\n  return { origin, pathname, method, optionsParsed, invalidUrl };\n};\n\n/**\n * Makes sure options is of type string or object\n * @param options for the request\n */\nexport const isValidOptionsType = (options: unknown): boolean => {\n  if (!options) {\n    return false;\n  }\n\n  const type = typeof options;\n  return type === 'string' || (type === 'object' && !Array.isArray(options));\n};\n\nexport const extractHostnameAndPort = (\n  requestOptions: Pick<\n    ParsedRequestOptions,\n    'hostname' | 'host' | 'port' | 'protocol'\n  >\n): { hostname: string; port: number | string } => {\n  if (requestOptions.hostname && requestOptions.port) {\n    return { hostname: requestOptions.hostname, port: requestOptions.port };\n  }\n  const matches = requestOptions.host?.match(/^([^:/ ]+)(:\\d{1,5})?/) || null;\n  const hostname =\n    requestOptions.hostname || (matches === null ? 'localhost' : matches[1]);\n  let port = requestOptions.port;\n  if (!port) {\n    if (matches && matches[2]) {\n      // remove the leading \":\". The extracted port would be something like \":8080\"\n      port = matches[2].substring(1);\n    } else {\n      port = requestOptions.protocol === 'https:' ? '443' : '80';\n    }\n  }\n  return { hostname, port };\n};\n\n/**\n * Returns outgoing request attributes scoped to the options passed to the request\n * @param {ParsedRequestOptions} requestOptions the same options used to make the request\n * @param {{ component: string, hostname: string, hookAttributes?: Attributes }} options used to pass data needed to create attributes\n * @param {SemconvStability} semconvStability determines which semconv version to use\n */\nexport const getOutgoingRequestAttributes = (\n  requestOptions: ParsedRequestOptions,\n  options: {\n    component: string;\n    hostname: string;\n    port: string | number;\n    hookAttributes?: Attributes;\n  },\n  semconvStability: SemconvStability\n): Attributes => {\n  const hostname = options.hostname;\n  const port = options.port;\n  const method = requestOptions.method ?? 'GET';\n  const normalizedMethod = normalizeMethod(method);\n  const headers = requestOptions.headers || {};\n  const userAgent = headers['user-agent'];\n  const urlFull = getAbsoluteUrl(\n    requestOptions,\n    headers,\n    `${options.component}:`\n  );\n  const oldAttributes: Attributes = {\n    [SEMATTRS_HTTP_URL]: urlFull,\n    [SEMATTRS_HTTP_METHOD]: method,\n    [SEMATTRS_HTTP_TARGET]: requestOptions.path || '/',\n    [SEMATTRS_NET_PEER_NAME]: hostname,\n    [SEMATTRS_HTTP_HOST]: headers.host ?? `${hostname}:${port}`,\n  };\n\n  const newAttributes: Attributes = {\n    // Required attributes\n    [ATTR_HTTP_REQUEST_METHOD]: normalizedMethod,\n    [ATTR_SERVER_ADDRESS]: hostname,\n    [ATTR_SERVER_PORT]: Number(port),\n    [ATTR_URL_FULL]: urlFull,\n    // leaving out protocol version, it is not yet negotiated\n    // leaving out protocol name, it is only required when protocol version is set\n    // retries and redirects not supported\n\n    // Opt-in attributes left off for now\n  };\n\n  // conditionally required if request method required case normalization\n  if (method !== normalizedMethod) {\n    newAttributes[ATTR_HTTP_REQUEST_METHOD_ORIGINAL] = method;\n  }\n\n  if (userAgent !== undefined) {\n    oldAttributes[SEMATTRS_HTTP_USER_AGENT] = userAgent;\n  }\n\n  switch (semconvStability) {\n    case SemconvStability.STABLE:\n      return Object.assign(newAttributes, options.hookAttributes);\n    case SemconvStability.OLD:\n      return Object.assign(oldAttributes, options.hookAttributes);\n  }\n\n  return Object.assign(oldAttributes, newAttributes, options.hookAttributes);\n};\n\n/**\n * Returns outgoing request Metric attributes scoped to the request data\n * @param {Attributes} spanAttributes the span attributes\n */\nexport const getOutgoingRequestMetricAttributes = (\n  spanAttributes: Attributes\n): Attributes => {\n  const metricAttributes: Attributes = {};\n  metricAttributes[SEMATTRS_HTTP_METHOD] = spanAttributes[SEMATTRS_HTTP_METHOD];\n  metricAttributes[SEMATTRS_NET_PEER_NAME] =\n    spanAttributes[SEMATTRS_NET_PEER_NAME];\n  //TODO: http.url attribute, it should substitute any parameters to avoid high cardinality.\n  return metricAttributes;\n};\n\n/**\n * Returns attributes related to the kind of HTTP protocol used\n * @param {string} [kind] Kind of HTTP protocol used: \"1.0\", \"1.1\", \"2\", \"SPDY\" or \"QUIC\".\n */\nexport const setAttributesFromHttpKind = (\n  kind: string | undefined,\n  attributes: Attributes\n): void => {\n  if (kind) {\n    attributes[SEMATTRS_HTTP_FLAVOR] = kind;\n    if (kind.toUpperCase() !== 'QUIC') {\n      attributes[SEMATTRS_NET_TRANSPORT] = NETTRANSPORTVALUES_IP_TCP;\n    } else {\n      attributes[SEMATTRS_NET_TRANSPORT] = NETTRANSPORTVALUES_IP_UDP;\n    }\n  }\n};\n\n/**\n * Returns outgoing request attributes scoped to the response data\n * @param {IncomingMessage} response the response object\n * @param {SemconvStability} semconvStability determines which semconv version to use\n */\nexport const getOutgoingRequestAttributesOnResponse = (\n  response: IncomingMessage,\n  semconvStability: SemconvStability\n): Attributes => {\n  const { statusCode, statusMessage, httpVersion, socket } = response;\n  const oldAttributes: Attributes = {};\n  const stableAttributes: Attributes = {};\n\n  if (statusCode != null) {\n    stableAttributes[ATTR_HTTP_RESPONSE_STATUS_CODE] = statusCode;\n  }\n\n  if (socket) {\n    const { remoteAddress, remotePort } = socket;\n    oldAttributes[SEMATTRS_NET_PEER_IP] = remoteAddress;\n    oldAttributes[SEMATTRS_NET_PEER_PORT] = remotePort;\n\n    // Recommended\n    stableAttributes[ATTR_NETWORK_PEER_ADDRESS] = remoteAddress;\n    stableAttributes[ATTR_NETWORK_PEER_PORT] = remotePort;\n    stableAttributes[ATTR_NETWORK_PROTOCOL_VERSION] = response.httpVersion;\n  }\n  setResponseContentLengthAttribute(response, oldAttributes);\n\n  if (statusCode) {\n    oldAttributes[SEMATTRS_HTTP_STATUS_CODE] = statusCode;\n    oldAttributes[AttributeNames.HTTP_STATUS_TEXT] = (\n      statusMessage || ''\n    ).toUpperCase();\n  }\n\n  setAttributesFromHttpKind(httpVersion, oldAttributes);\n\n  switch (semconvStability) {\n    case SemconvStability.STABLE:\n      return stableAttributes;\n    case SemconvStability.OLD:\n      return oldAttributes;\n  }\n\n  return Object.assign(oldAttributes, stableAttributes);\n};\n\n/**\n * Returns outgoing request Metric attributes scoped to the response data\n * @param {Attributes} spanAttributes the span attributes\n */\nexport const getOutgoingRequestMetricAttributesOnResponse = (\n  spanAttributes: Attributes\n): Attributes => {\n  const metricAttributes: Attributes = {};\n  metricAttributes[SEMATTRS_NET_PEER_PORT] =\n    spanAttributes[SEMATTRS_NET_PEER_PORT];\n  metricAttributes[SEMATTRS_HTTP_STATUS_CODE] =\n    spanAttributes[SEMATTRS_HTTP_STATUS_CODE];\n  metricAttributes[SEMATTRS_HTTP_FLAVOR] = spanAttributes[SEMATTRS_HTTP_FLAVOR];\n  return metricAttributes;\n};\n\nfunction parseHostHeader(\n  hostHeader: string,\n  proto?: string\n): { host: string; port?: string } {\n  const parts = hostHeader.split(':');\n\n  // no semicolon implies ipv4 dotted syntax or host name without port\n  // x.x.x.x\n  // example.com\n  if (parts.length === 1) {\n    if (proto === 'http') {\n      return { host: parts[0], port: '80' };\n    }\n\n    if (proto === 'https') {\n      return { host: parts[0], port: '443' };\n    }\n\n    return { host: parts[0] };\n  }\n\n  // single semicolon implies ipv4 dotted syntax or host name with port\n  // x.x.x.x:yyyy\n  // example.com:yyyy\n  if (parts.length === 2) {\n    return {\n      host: parts[0],\n      port: parts[1],\n    };\n  }\n\n  // more than 2 parts implies ipv6 syntax with multiple colons\n  // [x:x:x:x:x:x:x:x]\n  // [x:x:x:x:x:x:x:x]:yyyy\n  if (parts[0].startsWith('[')) {\n    if (parts[parts.length - 1].endsWith(']')) {\n      if (proto === 'http') {\n        return { host: hostHeader, port: '80' };\n      }\n\n      if (proto === 'https') {\n        return { host: hostHeader, port: '443' };\n      }\n    } else if (parts[parts.length - 2].endsWith(']')) {\n      return {\n        host: parts.slice(0, -1).join(':'),\n        port: parts[parts.length - 1],\n      };\n    }\n  }\n\n  // if nothing above matches just return the host header\n  return { host: hostHeader };\n}\n\n/**\n * Get server.address and port according to http semconv 1.27\n * https://github.com/open-telemetry/semantic-conventions/blob/bf0a2c1134f206f034408b201dbec37960ed60ec/docs/http/http-spans.md#setting-serveraddress-and-serverport-attributes\n */\nfunction getServerAddress(\n  request: IncomingMessage,\n  component: 'http' | 'https'\n): { host: string; port?: string } | null {\n  const forwardedHeader = request.headers['forwarded'];\n  if (forwardedHeader) {\n    for (const entry of parseForwardedHeader(forwardedHeader)) {\n      if (entry.host) {\n        return parseHostHeader(entry.host, entry.proto);\n      }\n    }\n  }\n\n  const xForwardedHost = request.headers['x-forwarded-host'];\n  if (typeof xForwardedHost === 'string') {\n    if (typeof request.headers['x-forwarded-proto'] === 'string') {\n      return parseHostHeader(\n        xForwardedHost,\n        request.headers['x-forwarded-proto']\n      );\n    }\n\n    if (Array.isArray(request.headers['x-forwarded-proto'])) {\n      return parseHostHeader(\n        xForwardedHost,\n        request.headers['x-forwarded-proto'][0]\n      );\n    }\n\n    return parseHostHeader(xForwardedHost);\n  } else if (\n    Array.isArray(xForwardedHost) &&\n    typeof xForwardedHost[0] === 'string' &&\n    xForwardedHost[0].length > 0\n  ) {\n    if (typeof request.headers['x-forwarded-proto'] === 'string') {\n      return parseHostHeader(\n        xForwardedHost[0],\n        request.headers['x-forwarded-proto']\n      );\n    }\n\n    if (Array.isArray(request.headers['x-forwarded-proto'])) {\n      return parseHostHeader(\n        xForwardedHost[0],\n        request.headers['x-forwarded-proto'][0]\n      );\n    }\n\n    return parseHostHeader(xForwardedHost[0]);\n  }\n\n  const host = request.headers['host'];\n  if (typeof host === 'string' && host.length > 0) {\n    return parseHostHeader(host, component);\n  }\n\n  return null;\n}\n\n/**\n * Get server.address and port according to http semconv 1.27\n * https://github.com/open-telemetry/semantic-conventions/blob/bf0a2c1134f206f034408b201dbec37960ed60ec/docs/http/http-spans.md#setting-serveraddress-and-serverport-attributes\n */\nexport function getRemoteClientAddress(\n  request: IncomingMessage\n): string | null {\n  const forwardedHeader = request.headers['forwarded'];\n  if (forwardedHeader) {\n    for (const entry of parseForwardedHeader(forwardedHeader)) {\n      if (entry.for) {\n        return entry.for;\n      }\n    }\n  }\n\n  const xForwardedFor = request.headers['x-forwarded-for'];\n  if (typeof xForwardedFor === 'string') {\n    return xForwardedFor;\n  } else if (Array.isArray(xForwardedFor)) {\n    return xForwardedFor[0];\n  }\n\n  const remote = request.socket.remoteAddress;\n  if (remote) {\n    return remote;\n  }\n\n  return null;\n}\n\nfunction getInfoFromIncomingMessage(\n  component: 'http' | 'https',\n  request: IncomingMessage,\n  logger: DiagLogger\n): { pathname?: string; search?: string; toString: () => string } {\n  try {\n    if (request.headers.host) {\n      return new URL(\n        request.url ?? '/',\n        `${component}://${request.headers.host}`\n      );\n    } else {\n      const unsafeParsedUrl = new URL(\n        request.url ?? '/',\n        // using localhost as a workaround to still use the URL constructor for parsing\n        `${component}://localhost`\n      );\n      // since we use localhost as a workaround, ensure we hide the rest of the properties to avoid\n      // our workaround leaking though.\n      return {\n        pathname: unsafeParsedUrl.pathname,\n        search: unsafeParsedUrl.search,\n        toString: function () {\n          // we cannot use the result of unsafeParsedUrl.toString as it's potentially wrong.\n          return unsafeParsedUrl.pathname + unsafeParsedUrl.search;\n        },\n      };\n    }\n  } catch (e) {\n    // something is wrong, use undefined - this *should* never happen, logging\n    // for troubleshooting in case it does happen.\n    logger.verbose('Unable to get URL from request', e);\n    return {};\n  }\n}\n\n/**\n * Returns incoming request attributes scoped to the request data\n * @param {IncomingMessage} request the request object\n * @param {{ component: string, serverName?: string, hookAttributes?: Attributes }} options used to pass data needed to create attributes\n * @param {SemconvStability} semconvStability determines which semconv version to use\n */\nexport const getIncomingRequestAttributes = (\n  request: IncomingMessage,\n  options: {\n    component: 'http' | 'https';\n    serverName?: string;\n    hookAttributes?: Attributes;\n    semconvStability: SemconvStability;\n  },\n  logger: DiagLogger\n): Attributes => {\n  const headers = request.headers;\n  const userAgent = headers['user-agent'];\n  const ips = headers['x-forwarded-for'];\n  const httpVersion = request.httpVersion;\n  const host = headers.host;\n  const hostname = host?.replace(/^(.*)(:[0-9]{1,5})/, '$1') || 'localhost';\n\n  const method = request.method;\n  const normalizedMethod = normalizeMethod(method);\n\n  const serverAddress = getServerAddress(request, options.component);\n  const serverName = options.serverName;\n\n  const remoteClientAddress = getRemoteClientAddress(request);\n\n  const newAttributes: Attributes = {\n    [ATTR_HTTP_REQUEST_METHOD]: normalizedMethod,\n    [ATTR_URL_SCHEME]: options.component,\n    [ATTR_SERVER_ADDRESS]: serverAddress?.host,\n    [ATTR_NETWORK_PEER_ADDRESS]: request.socket.remoteAddress,\n    [ATTR_NETWORK_PEER_PORT]: request.socket.remotePort,\n    [ATTR_NETWORK_PROTOCOL_VERSION]: request.httpVersion,\n    [ATTR_USER_AGENT_ORIGINAL]: userAgent,\n  };\n\n  const parsedUrl = getInfoFromIncomingMessage(\n    options.component,\n    request,\n    logger\n  );\n\n  if (parsedUrl?.pathname != null) {\n    newAttributes[ATTR_URL_PATH] = parsedUrl.pathname;\n  }\n\n  if (remoteClientAddress != null) {\n    newAttributes[ATTR_CLIENT_ADDRESS] = remoteClientAddress;\n  }\n\n  if (serverAddress?.port != null) {\n    newAttributes[ATTR_SERVER_PORT] = Number(serverAddress.port);\n  }\n\n  // conditionally required if request method required case normalization\n  if (method !== normalizedMethod) {\n    newAttributes[ATTR_HTTP_REQUEST_METHOD_ORIGINAL] = method;\n  }\n\n  const oldAttributes: Attributes = {\n    [SEMATTRS_HTTP_URL]: parsedUrl.toString(),\n    [SEMATTRS_HTTP_HOST]: host,\n    [SEMATTRS_NET_HOST_NAME]: hostname,\n    [SEMATTRS_HTTP_METHOD]: method,\n    [SEMATTRS_HTTP_SCHEME]: options.component,\n  };\n\n  if (typeof ips === 'string') {\n    oldAttributes[SEMATTRS_HTTP_CLIENT_IP] = ips.split(',')[0];\n  }\n\n  if (typeof serverName === 'string') {\n    oldAttributes[SEMATTRS_HTTP_SERVER_NAME] = serverName;\n  }\n\n  if (parsedUrl?.pathname) {\n    oldAttributes[SEMATTRS_HTTP_TARGET] =\n      parsedUrl?.pathname + parsedUrl?.search || '/';\n  }\n\n  if (userAgent !== undefined) {\n    oldAttributes[SEMATTRS_HTTP_USER_AGENT] = userAgent;\n  }\n  setRequestContentLengthAttribute(request, oldAttributes);\n  setAttributesFromHttpKind(httpVersion, oldAttributes);\n\n  switch (options.semconvStability) {\n    case SemconvStability.STABLE:\n      return Object.assign(newAttributes, options.hookAttributes);\n    case SemconvStability.OLD:\n      return Object.assign(oldAttributes, options.hookAttributes);\n  }\n\n  return Object.assign(oldAttributes, newAttributes, options.hookAttributes);\n};\n\n/**\n * Returns incoming request Metric attributes scoped to the request data\n * @param {Attributes} spanAttributes the span attributes\n * @param {{ component: string }} options used to pass data needed to create attributes\n */\nexport const getIncomingRequestMetricAttributes = (\n  spanAttributes: Attributes\n): Attributes => {\n  const metricAttributes: Attributes = {};\n  metricAttributes[SEMATTRS_HTTP_SCHEME] = spanAttributes[SEMATTRS_HTTP_SCHEME];\n  metricAttributes[SEMATTRS_HTTP_METHOD] = spanAttributes[SEMATTRS_HTTP_METHOD];\n  metricAttributes[SEMATTRS_NET_HOST_NAME] =\n    spanAttributes[SEMATTRS_NET_HOST_NAME];\n  metricAttributes[SEMATTRS_HTTP_FLAVOR] = spanAttributes[SEMATTRS_HTTP_FLAVOR];\n  //TODO: http.target attribute, it should substitute any parameters to avoid high cardinality.\n  return metricAttributes;\n};\n\n/**\n * Returns incoming request attributes scoped to the response data\n * @param {(ServerResponse & { socket: Socket; })} response the response object\n */\nexport const getIncomingRequestAttributesOnResponse = (\n  request: IncomingMessage,\n  response: ServerResponse,\n  semconvStability: SemconvStability\n): Attributes => {\n  // take socket from the request,\n  // since it may be detached from the response object in keep-alive mode\n  const { socket } = request;\n  const { statusCode, statusMessage } = response;\n\n  const newAttributes: Attributes = {\n    [ATTR_HTTP_RESPONSE_STATUS_CODE]: statusCode,\n  };\n\n  const rpcMetadata = getRPCMetadata(context.active());\n  const oldAttributes: Attributes = {};\n  if (socket) {\n    const { localAddress, localPort, remoteAddress, remotePort } = socket;\n    oldAttributes[SEMATTRS_NET_HOST_IP] = localAddress;\n    oldAttributes[SEMATTRS_NET_HOST_PORT] = localPort;\n    oldAttributes[SEMATTRS_NET_PEER_IP] = remoteAddress;\n    oldAttributes[SEMATTRS_NET_PEER_PORT] = remotePort;\n  }\n  oldAttributes[SEMATTRS_HTTP_STATUS_CODE] = statusCode;\n  oldAttributes[AttributeNames.HTTP_STATUS_TEXT] = (\n    statusMessage || ''\n  ).toUpperCase();\n\n  if (rpcMetadata?.type === RPCType.HTTP && rpcMetadata.route !== undefined) {\n    oldAttributes[SEMATTRS_HTTP_ROUTE] = rpcMetadata.route;\n    newAttributes[ATTR_HTTP_ROUTE] = rpcMetadata.route;\n  }\n\n  switch (semconvStability) {\n    case SemconvStability.STABLE:\n      return newAttributes;\n    case SemconvStability.OLD:\n      return oldAttributes;\n  }\n\n  return Object.assign(oldAttributes, newAttributes);\n};\n\n/**\n * Returns incoming request Metric attributes scoped to the request data\n * @param {Attributes} spanAttributes the span attributes\n */\nexport const getIncomingRequestMetricAttributesOnResponse = (\n  spanAttributes: Attributes\n): Attributes => {\n  const metricAttributes: Attributes = {};\n  metricAttributes[SEMATTRS_HTTP_STATUS_CODE] =\n    spanAttributes[SEMATTRS_HTTP_STATUS_CODE];\n  metricAttributes[SEMATTRS_NET_HOST_PORT] =\n    spanAttributes[SEMATTRS_NET_HOST_PORT];\n  if (spanAttributes[SEMATTRS_HTTP_ROUTE] !== undefined) {\n    metricAttributes[SEMATTRS_HTTP_ROUTE] = spanAttributes[SEMATTRS_HTTP_ROUTE];\n  }\n  return metricAttributes;\n};\n\nexport const getIncomingStableRequestMetricAttributesOnResponse = (\n  spanAttributes: Attributes\n): Attributes => {\n  const metricAttributes: Attributes = {};\n  if (spanAttributes[ATTR_HTTP_ROUTE] !== undefined) {\n    metricAttributes[ATTR_HTTP_ROUTE] = spanAttributes[SEMATTRS_HTTP_ROUTE];\n  }\n\n  // required if and only if one was sent, same as span requirement\n  if (spanAttributes[ATTR_HTTP_RESPONSE_STATUS_CODE]) {\n    metricAttributes[ATTR_HTTP_RESPONSE_STATUS_CODE] =\n      spanAttributes[ATTR_HTTP_RESPONSE_STATUS_CODE];\n  }\n  return metricAttributes;\n};\n\nexport function headerCapture(type: 'request' | 'response', headers: string[]) {\n  const normalizedHeaders = new Map<string, string>();\n  for (let i = 0, len = headers.length; i < len; i++) {\n    const capturedHeader = headers[i].toLowerCase();\n    normalizedHeaders.set(capturedHeader, capturedHeader.replace(/-/g, '_'));\n  }\n\n  return (\n    span: Span,\n    getHeader: (key: string) => undefined | string | string[] | number\n  ) => {\n    for (const capturedHeader of normalizedHeaders.keys()) {\n      const value = getHeader(capturedHeader);\n\n      if (value === undefined) {\n        continue;\n      }\n\n      const normalizedHeader = normalizedHeaders.get(capturedHeader);\n      const key = `http.${type}.header.${normalizedHeader}`;\n\n      if (typeof value === 'string') {\n        span.setAttribute(key, [value]);\n      } else if (Array.isArray(value)) {\n        span.setAttribute(key, value);\n      } else {\n        span.setAttribute(key, [value]);\n      }\n    }\n  };\n}\n\nconst KNOWN_METHODS = new Set([\n  // methods from https://www.rfc-editor.org/rfc/rfc9110.html#name-methods\n  'GET',\n  'HEAD',\n  'POST',\n  'PUT',\n  'DELETE',\n  'CONNECT',\n  'OPTIONS',\n  'TRACE',\n\n  // PATCH from https://www.rfc-editor.org/rfc/rfc5789.html\n  'PATCH',\n]);\n\nfunction normalizeMethod(method?: string | null) {\n  if (method == null) {\n    return 'GET';\n  }\n\n  const upper = method.toUpperCase();\n  if (KNOWN_METHODS.has(upper)) {\n    return upper;\n  }\n\n  return '_OTHER';\n}\n\nfunction parseForwardedHeader(header: string): Record<string, string>[] {\n  try {\n    return forwardedParse(header);\n  } catch {\n    return [];\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3527, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3531, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ff0a58fadaf1a6a89e8058bafbd0795a/node_modules/@opentelemetry/instrumentation-http/src/http.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  context,\n  HrTime,\n  INVALID_SPAN_CONTEXT,\n  propagation,\n  ROOT_CONTEXT,\n  Span,\n  SpanKind,\n  SpanOptions,\n  SpanStatus,\n  SpanStatusCode,\n  trace,\n  Histogram,\n  Attributes,\n  ValueType,\n} from '@opentelemetry/api';\nimport {\n  hrTime,\n  hrTimeDuration,\n  hrTimeToMilliseconds,\n  suppressTracing,\n} from '@opentelemetry/core';\nimport type * as http from 'http';\nimport type * as https from 'https';\nimport { Socket } from 'net';\nimport * as semver from 'semver';\nimport * as url from 'url';\nimport { HttpInstrumentationConfig } from './types';\nimport { VERSION } from './version';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport {\n  RPCMetadata,\n  RPCType,\n  setRPCMetadata,\n  getEnv,\n} from '@opentelemetry/core';\nimport { errorMonitor } from 'events';\nimport {\n  ATTR_HTTP_REQUEST_METHOD,\n  ATTR_HTTP_RESPONSE_STATUS_CODE,\n  ATTR_NETWORK_PROTOCOL_VERSION,\n  ATTR_SERVER_ADDRESS,\n  ATTR_SERVER_PORT,\n  ATTR_URL_SCHEME,\n  METRIC_HTTP_CLIENT_REQUEST_DURATION,\n  METRIC_HTTP_SERVER_REQUEST_DURATION,\n  SEMATTRS_HTTP_ROUTE,\n} from '@opentelemetry/semantic-conventions';\nimport {\n  extractHostnameAndPort,\n  getIncomingRequestAttributes,\n  getIncomingRequestAttributesOnResponse,\n  getIncomingRequestMetricAttributes,\n  getIncomingRequestMetricAttributesOnResponse,\n  getIncomingStableRequestMetricAttributesOnResponse,\n  getOutgoingRequestAttributes,\n  getOutgoingRequestAttributesOnResponse,\n  getOutgoingRequestMetricAttributes,\n  getOutgoingRequestMetricAttributesOnResponse,\n  getRequestInfo,\n  headerCapture,\n  isValidOptionsType,\n  parseResponseStatus,\n  setSpanWithError,\n} from './utils';\nimport {\n  Err,\n  Func,\n  Http,\n  HttpRequestArgs,\n  Https,\n  SemconvStability,\n} from './internal-types';\n\n/**\n * `node:http` and `node:https` instrumentation for OpenTelemetry\n */\nexport class HttpInstrumentation extends InstrumentationBase<HttpInstrumentationConfig> {\n  /** keep track on spans not ended */\n  private readonly _spanNotEnded: WeakSet<Span> = new WeakSet<Span>();\n  private _headerCapture;\n  private _oldHttpServerDurationHistogram!: Histogram;\n  private _stableHttpServerDurationHistogram!: Histogram;\n  private _oldHttpClientDurationHistogram!: Histogram;\n  private _stableHttpClientDurationHistogram!: Histogram;\n\n  private _semconvStability = SemconvStability.OLD;\n\n  constructor(config: HttpInstrumentationConfig = {}) {\n    super('@opentelemetry/instrumentation-http', VERSION, config);\n    this._headerCapture = this._createHeaderCapture();\n\n    for (const entry of getEnv().OTEL_SEMCONV_STABILITY_OPT_IN) {\n      if (entry.toLowerCase() === 'http/dup') {\n        // http/dup takes highest precedence. If it is found, there is no need to read the rest of the list\n        this._semconvStability = SemconvStability.DUPLICATE;\n        break;\n      } else if (entry.toLowerCase() === 'http') {\n        this._semconvStability = SemconvStability.STABLE;\n      }\n    }\n  }\n\n  protected override _updateMetricInstruments() {\n    this._oldHttpServerDurationHistogram = this.meter.createHistogram(\n      'http.server.duration',\n      {\n        description: 'Measures the duration of inbound HTTP requests.',\n        unit: 'ms',\n        valueType: ValueType.DOUBLE,\n      }\n    );\n    this._oldHttpClientDurationHistogram = this.meter.createHistogram(\n      'http.client.duration',\n      {\n        description: 'Measures the duration of outbound HTTP requests.',\n        unit: 'ms',\n        valueType: ValueType.DOUBLE,\n      }\n    );\n    this._stableHttpServerDurationHistogram = this.meter.createHistogram(\n      METRIC_HTTP_SERVER_REQUEST_DURATION,\n      {\n        description: 'Duration of HTTP server requests.',\n        unit: 's',\n        valueType: ValueType.DOUBLE,\n        advice: {\n          explicitBucketBoundaries: [\n            0.005, 0.01, 0.025, 0.05, 0.075, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5,\n            7.5, 10,\n          ],\n        },\n      }\n    );\n    this._stableHttpClientDurationHistogram = this.meter.createHistogram(\n      METRIC_HTTP_CLIENT_REQUEST_DURATION,\n      {\n        description: 'Duration of HTTP client requests.',\n        unit: 's',\n        valueType: ValueType.DOUBLE,\n        advice: {\n          explicitBucketBoundaries: [\n            0.005, 0.01, 0.025, 0.05, 0.075, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5,\n            7.5, 10,\n          ],\n        },\n      }\n    );\n  }\n\n  private _recordServerDuration(\n    durationMs: number,\n    oldAttributes: Attributes,\n    stableAttributes: Attributes\n  ) {\n    if (\n      (this._semconvStability & SemconvStability.OLD) ===\n      SemconvStability.OLD\n    ) {\n      // old histogram is counted in MS\n      this._oldHttpServerDurationHistogram.record(durationMs, oldAttributes);\n    }\n\n    if (\n      (this._semconvStability & SemconvStability.STABLE) ===\n      SemconvStability.STABLE\n    ) {\n      // stable histogram is counted in S\n      this._stableHttpServerDurationHistogram.record(\n        durationMs / 1000,\n        stableAttributes\n      );\n    }\n  }\n\n  private _recordClientDuration(\n    durationMs: number,\n    oldAttributes: Attributes,\n    stableAttributes: Attributes\n  ) {\n    if (\n      (this._semconvStability & SemconvStability.OLD) ===\n      SemconvStability.OLD\n    ) {\n      // old histogram is counted in MS\n      this._oldHttpClientDurationHistogram.record(durationMs, oldAttributes);\n    }\n\n    if (\n      (this._semconvStability & SemconvStability.STABLE) ===\n      SemconvStability.STABLE\n    ) {\n      // stable histogram is counted in S\n      this._stableHttpClientDurationHistogram.record(\n        durationMs / 1000,\n        stableAttributes\n      );\n    }\n  }\n\n  override setConfig(config: HttpInstrumentationConfig = {}): void {\n    super.setConfig(config);\n    this._headerCapture = this._createHeaderCapture();\n  }\n\n  init(): [\n    InstrumentationNodeModuleDefinition,\n    InstrumentationNodeModuleDefinition,\n  ] {\n    return [this._getHttpsInstrumentation(), this._getHttpInstrumentation()];\n  }\n\n  private _getHttpInstrumentation() {\n    return new InstrumentationNodeModuleDefinition(\n      'http',\n      ['*'],\n      (moduleExports: Http): Http => {\n        const isESM = (moduleExports as any)[Symbol.toStringTag] === 'Module';\n        if (!this.getConfig().disableOutgoingRequestInstrumentation) {\n          const patchedRequest = this._wrap(\n            moduleExports,\n            'request',\n            this._getPatchOutgoingRequestFunction('http')\n          ) as unknown as Func<http.ClientRequest>;\n          const patchedGet = this._wrap(\n            moduleExports,\n            'get',\n            this._getPatchOutgoingGetFunction(patchedRequest)\n          );\n          if (isESM) {\n            // To handle `import http from 'http'`, which returns the default\n            // export, we need to set `module.default.*`.\n            (moduleExports as any).default.request = patchedRequest;\n            (moduleExports as any).default.get = patchedGet;\n          }\n        }\n        if (!this.getConfig().disableIncomingRequestInstrumentation) {\n          this._wrap(\n            moduleExports.Server.prototype,\n            'emit',\n            this._getPatchIncomingRequestFunction('http')\n          );\n        }\n        return moduleExports;\n      },\n      (moduleExports: Http) => {\n        if (moduleExports === undefined) return;\n\n        if (!this.getConfig().disableOutgoingRequestInstrumentation) {\n          this._unwrap(moduleExports, 'request');\n          this._unwrap(moduleExports, 'get');\n        }\n        if (!this.getConfig().disableIncomingRequestInstrumentation) {\n          this._unwrap(moduleExports.Server.prototype, 'emit');\n        }\n      }\n    );\n  }\n\n  private _getHttpsInstrumentation() {\n    return new InstrumentationNodeModuleDefinition(\n      'https',\n      ['*'],\n      (moduleExports: Https): Https => {\n        const isESM = (moduleExports as any)[Symbol.toStringTag] === 'Module';\n        if (!this.getConfig().disableOutgoingRequestInstrumentation) {\n          const patchedRequest = this._wrap(\n            moduleExports,\n            'request',\n            this._getPatchHttpsOutgoingRequestFunction('https')\n          ) as unknown as Func<http.ClientRequest>;\n          const patchedGet = this._wrap(\n            moduleExports,\n            'get',\n            this._getPatchHttpsOutgoingGetFunction(patchedRequest)\n          );\n          if (isESM) {\n            // To handle `import https from 'https'`, which returns the default\n            // export, we need to set `module.default.*`.\n            (moduleExports as any).default.request = patchedRequest;\n            (moduleExports as any).default.get = patchedGet;\n          }\n        }\n        if (!this.getConfig().disableIncomingRequestInstrumentation) {\n          this._wrap(\n            moduleExports.Server.prototype,\n            'emit',\n            this._getPatchIncomingRequestFunction('https')\n          );\n        }\n        return moduleExports;\n      },\n      (moduleExports: Https) => {\n        if (moduleExports === undefined) return;\n\n        if (!this.getConfig().disableOutgoingRequestInstrumentation) {\n          this._unwrap(moduleExports, 'request');\n          this._unwrap(moduleExports, 'get');\n        }\n        if (!this.getConfig().disableIncomingRequestInstrumentation) {\n          this._unwrap(moduleExports.Server.prototype, 'emit');\n        }\n      }\n    );\n  }\n\n  /**\n   * Creates spans for incoming requests, restoring spans' context if applied.\n   */\n  private _getPatchIncomingRequestFunction(component: 'http' | 'https') {\n    return (\n      original: (event: string, ...args: unknown[]) => boolean\n    ): ((this: unknown, event: string, ...args: unknown[]) => boolean) => {\n      return this._incomingRequestFunction(component, original);\n    };\n  }\n\n  /**\n   * Creates spans for outgoing requests, sending spans' context for distributed\n   * tracing.\n   */\n  private _getPatchOutgoingRequestFunction(component: 'http' | 'https') {\n    return (original: Func<http.ClientRequest>): Func<http.ClientRequest> => {\n      return this._outgoingRequestFunction(component, original);\n    };\n  }\n\n  private _getPatchOutgoingGetFunction(\n    clientRequest: (\n      options: http.RequestOptions | string | url.URL,\n      ...args: HttpRequestArgs\n    ) => http.ClientRequest\n  ) {\n    return (_original: Func<http.ClientRequest>): Func<http.ClientRequest> => {\n      // Re-implement http.get. This needs to be done (instead of using\n      // getPatchOutgoingRequestFunction to patch it) because we need to\n      // set the trace context header before the returned http.ClientRequest is\n      // ended. The Node.js docs state that the only differences between\n      // request and get are that (1) get defaults to the HTTP GET method and\n      // (2) the returned request object is ended immediately. The former is\n      // already true (at least in supported Node versions up to v10), so we\n      // simply follow the latter. Ref:\n      // https://nodejs.org/dist/latest/docs/api/http.html#http_http_get_options_callback\n      // https://github.com/googleapis/cloud-trace-nodejs/blob/master/src/instrumentations/instrumentation-http.ts#L198\n      return function outgoingGetRequest<\n        T extends http.RequestOptions | string | url.URL,\n      >(options: T, ...args: HttpRequestArgs): http.ClientRequest {\n        const req = clientRequest(options, ...args);\n        req.end();\n        return req;\n      };\n    };\n  }\n\n  /** Patches HTTPS outgoing requests */\n  private _getPatchHttpsOutgoingRequestFunction(component: 'http' | 'https') {\n    return (original: Func<http.ClientRequest>): Func<http.ClientRequest> => {\n      const instrumentation = this;\n      return function httpsOutgoingRequest(\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        options: https.RequestOptions | string | URL,\n        ...args: HttpRequestArgs\n      ): http.ClientRequest {\n        // Makes sure options will have default HTTPS parameters\n        if (\n          component === 'https' &&\n          typeof options === 'object' &&\n          options?.constructor?.name !== 'URL'\n        ) {\n          options = Object.assign({}, options);\n          instrumentation._setDefaultOptions(options);\n        }\n        return instrumentation._getPatchOutgoingRequestFunction(component)(\n          original\n        )(options, ...args);\n      };\n    };\n  }\n\n  private _setDefaultOptions(options: https.RequestOptions) {\n    options.protocol = options.protocol || 'https:';\n    options.port = options.port || 443;\n  }\n\n  /** Patches HTTPS outgoing get requests */\n  private _getPatchHttpsOutgoingGetFunction(\n    clientRequest: (\n      // eslint-disable-next-line node/no-unsupported-features/node-builtins\n      options: http.RequestOptions | string | URL,\n      ...args: HttpRequestArgs\n    ) => http.ClientRequest\n  ) {\n    return (original: Func<http.ClientRequest>): Func<http.ClientRequest> => {\n      const instrumentation = this;\n      return function httpsOutgoingRequest(\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        options: https.RequestOptions | string | URL,\n        ...args: HttpRequestArgs\n      ): http.ClientRequest {\n        return instrumentation._getPatchOutgoingGetFunction(clientRequest)(\n          original\n        )(options, ...args);\n      };\n    };\n  }\n\n  /**\n   * Attach event listeners to a client request to end span and add span attributes.\n   *\n   * @param request The original request object.\n   * @param span representing the current operation\n   * @param startTime representing the start time of the request to calculate duration in Metric\n   * @param oldMetricAttributes metric attributes for old semantic conventions\n   * @param stableMetricAttributes metric attributes for new semantic conventions\n   */\n  private _traceClientRequest(\n    request: http.ClientRequest,\n    span: Span,\n    startTime: HrTime,\n    oldMetricAttributes: Attributes,\n    stableMetricAttributes: Attributes\n  ): http.ClientRequest {\n    if (this.getConfig().requestHook) {\n      this._callRequestHook(span, request);\n    }\n\n    /**\n     * Determines if the request has errored or the response has ended/errored.\n     */\n    let responseFinished = false;\n\n    /*\n     * User 'response' event listeners can be added before our listener,\n     * force our listener to be the first, so response emitter is bound\n     * before any user listeners are added to it.\n     */\n    request.prependListener(\n      'response',\n      (response: http.IncomingMessage & { aborted?: boolean }) => {\n        this._diag.debug('outgoingRequest on response()');\n        if (request.listenerCount('response') <= 1) {\n          response.resume();\n        }\n        const responseAttributes = getOutgoingRequestAttributesOnResponse(\n          response,\n          this._semconvStability\n        );\n        span.setAttributes(responseAttributes);\n        oldMetricAttributes = Object.assign(\n          oldMetricAttributes,\n          getOutgoingRequestMetricAttributesOnResponse(responseAttributes)\n        );\n\n        if (this.getConfig().responseHook) {\n          this._callResponseHook(span, response);\n        }\n\n        this._headerCapture.client.captureRequestHeaders(span, header =>\n          request.getHeader(header)\n        );\n        this._headerCapture.client.captureResponseHeaders(\n          span,\n          header => response.headers[header]\n        );\n\n        context.bind(context.active(), response);\n\n        const endHandler = () => {\n          this._diag.debug('outgoingRequest on end()');\n          if (responseFinished) {\n            return;\n          }\n          responseFinished = true;\n          let status: SpanStatus;\n\n          if (response.aborted && !response.complete) {\n            status = { code: SpanStatusCode.ERROR };\n          } else {\n            // behaves same for new and old semconv\n            status = {\n              code: parseResponseStatus(SpanKind.CLIENT, response.statusCode),\n            };\n          }\n\n          span.setStatus(status);\n\n          if (this.getConfig().applyCustomAttributesOnSpan) {\n            safeExecuteInTheMiddle(\n              () =>\n                this.getConfig().applyCustomAttributesOnSpan!(\n                  span,\n                  request,\n                  response\n                ),\n              () => {},\n              true\n            );\n          }\n\n          this._closeHttpSpan(\n            span,\n            SpanKind.CLIENT,\n            startTime,\n            oldMetricAttributes,\n            stableMetricAttributes\n          );\n        };\n\n        response.on('end', endHandler);\n        // See https://github.com/open-telemetry/opentelemetry-js/pull/3625#issuecomment-1475673533\n        if (semver.lt(process.version, '16.0.0')) {\n          response.on('close', endHandler);\n        }\n        response.on(errorMonitor, (error: Err) => {\n          this._diag.debug('outgoingRequest on error()', error);\n          if (responseFinished) {\n            return;\n          }\n          responseFinished = true;\n          setSpanWithError(span, error, this._semconvStability);\n          span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: error.message,\n          });\n          this._closeHttpSpan(\n            span,\n            SpanKind.CLIENT,\n            startTime,\n            oldMetricAttributes,\n            stableMetricAttributes\n          );\n        });\n      }\n    );\n    request.on('close', () => {\n      this._diag.debug('outgoingRequest on request close()');\n      if (request.aborted || responseFinished) {\n        return;\n      }\n      responseFinished = true;\n      this._closeHttpSpan(\n        span,\n        SpanKind.CLIENT,\n        startTime,\n        oldMetricAttributes,\n        stableMetricAttributes\n      );\n    });\n    request.on(errorMonitor, (error: Err) => {\n      this._diag.debug('outgoingRequest on request error()', error);\n      if (responseFinished) {\n        return;\n      }\n      responseFinished = true;\n      setSpanWithError(span, error, this._semconvStability);\n      this._closeHttpSpan(\n        span,\n        SpanKind.CLIENT,\n        startTime,\n        oldMetricAttributes,\n        stableMetricAttributes\n      );\n    });\n\n    this._diag.debug('http.ClientRequest return request');\n    return request;\n  }\n\n  private _incomingRequestFunction(\n    component: 'http' | 'https',\n    original: (event: string, ...args: unknown[]) => boolean\n  ) {\n    const instrumentation = this;\n    return function incomingRequest(\n      this: unknown,\n      event: string,\n      ...args: unknown[]\n    ): boolean {\n      // Only traces request events\n      if (event !== 'request') {\n        return original.apply(this, [event, ...args]);\n      }\n\n      const request = args[0] as http.IncomingMessage;\n      const response = args[1] as http.ServerResponse & { socket: Socket };\n      const method = request.method || 'GET';\n\n      instrumentation._diag.debug(\n        `${component} instrumentation incomingRequest`\n      );\n\n      if (\n        safeExecuteInTheMiddle(\n          () =>\n            instrumentation.getConfig().ignoreIncomingRequestHook?.(request),\n          (e: unknown) => {\n            if (e != null) {\n              instrumentation._diag.error(\n                'caught ignoreIncomingRequestHook error: ',\n                e\n              );\n            }\n          },\n          true\n        )\n      ) {\n        return context.with(suppressTracing(context.active()), () => {\n          context.bind(context.active(), request);\n          context.bind(context.active(), response);\n          return original.apply(this, [event, ...args]);\n        });\n      }\n\n      const headers = request.headers;\n\n      const spanAttributes = getIncomingRequestAttributes(\n        request,\n        {\n          component: component,\n          serverName: instrumentation.getConfig().serverName,\n          hookAttributes: instrumentation._callStartSpanHook(\n            request,\n            instrumentation.getConfig().startIncomingSpanHook\n          ),\n          semconvStability: instrumentation._semconvStability,\n        },\n        instrumentation._diag\n      );\n\n      const spanOptions: SpanOptions = {\n        kind: SpanKind.SERVER,\n        attributes: spanAttributes,\n      };\n\n      const startTime = hrTime();\n      const oldMetricAttributes =\n        getIncomingRequestMetricAttributes(spanAttributes);\n\n      // request method and url.scheme are both required span attributes\n      const stableMetricAttributes: Attributes = {\n        [ATTR_HTTP_REQUEST_METHOD]: spanAttributes[ATTR_HTTP_REQUEST_METHOD],\n        [ATTR_URL_SCHEME]: spanAttributes[ATTR_URL_SCHEME],\n      };\n\n      // recommended if and only if one was sent, same as span recommendation\n      if (spanAttributes[ATTR_NETWORK_PROTOCOL_VERSION]) {\n        stableMetricAttributes[ATTR_NETWORK_PROTOCOL_VERSION] =\n          spanAttributes[ATTR_NETWORK_PROTOCOL_VERSION];\n      }\n\n      const ctx = propagation.extract(ROOT_CONTEXT, headers);\n      const span = instrumentation._startHttpSpan(method, spanOptions, ctx);\n      const rpcMetadata: RPCMetadata = {\n        type: RPCType.HTTP,\n        span,\n      };\n\n      return context.with(\n        setRPCMetadata(trace.setSpan(ctx, span), rpcMetadata),\n        () => {\n          context.bind(context.active(), request);\n          context.bind(context.active(), response);\n\n          if (instrumentation.getConfig().requestHook) {\n            instrumentation._callRequestHook(span, request);\n          }\n          if (instrumentation.getConfig().responseHook) {\n            instrumentation._callResponseHook(span, response);\n          }\n\n          instrumentation._headerCapture.server.captureRequestHeaders(\n            span,\n            header => request.headers[header]\n          );\n\n          // After 'error', no further events other than 'close' should be emitted.\n          let hasError = false;\n          response.on('close', () => {\n            if (hasError) {\n              return;\n            }\n            instrumentation._onServerResponseFinish(\n              request,\n              response,\n              span,\n              oldMetricAttributes,\n              stableMetricAttributes,\n              startTime\n            );\n          });\n          response.on(errorMonitor, (err: Err) => {\n            hasError = true;\n            instrumentation._onServerResponseError(\n              span,\n              oldMetricAttributes,\n              stableMetricAttributes,\n              startTime,\n              err\n            );\n          });\n\n          return safeExecuteInTheMiddle(\n            () => original.apply(this, [event, ...args]),\n            error => {\n              if (error) {\n                setSpanWithError(\n                  span,\n                  error,\n                  instrumentation._semconvStability\n                );\n                instrumentation._closeHttpSpan(\n                  span,\n                  SpanKind.SERVER,\n                  startTime,\n                  oldMetricAttributes,\n                  stableMetricAttributes\n                );\n                throw error;\n              }\n            }\n          );\n        }\n      );\n    };\n  }\n\n  private _outgoingRequestFunction(\n    component: 'http' | 'https',\n    original: Func<http.ClientRequest>\n  ): Func<http.ClientRequest> {\n    const instrumentation = this;\n    return function outgoingRequest(\n      this: unknown,\n      options: url.URL | http.RequestOptions | string,\n      ...args: unknown[]\n    ): http.ClientRequest {\n      if (!isValidOptionsType(options)) {\n        return original.apply(this, [options, ...args]);\n      }\n      const extraOptions =\n        typeof args[0] === 'object' &&\n        (typeof options === 'string' || options instanceof url.URL)\n          ? (args.shift() as http.RequestOptions)\n          : undefined;\n      const { method, invalidUrl, optionsParsed } = getRequestInfo(\n        instrumentation._diag,\n        options,\n        extraOptions\n      );\n      /**\n       * Node 8's https module directly call the http one so to avoid creating\n       * 2 span for the same request we need to check that the protocol is correct\n       * See: https://github.com/nodejs/node/blob/v8.17.0/lib/https.js#L245\n       */\n      if (\n        component === 'http' &&\n        semver.lt(process.version, '9.0.0') &&\n        optionsParsed.protocol === 'https:'\n      ) {\n        return original.apply(this, [optionsParsed, ...args]);\n      }\n\n      if (\n        safeExecuteInTheMiddle(\n          () =>\n            instrumentation\n              .getConfig()\n              .ignoreOutgoingRequestHook?.(optionsParsed),\n          (e: unknown) => {\n            if (e != null) {\n              instrumentation._diag.error(\n                'caught ignoreOutgoingRequestHook error: ',\n                e\n              );\n            }\n          },\n          true\n        )\n      ) {\n        return original.apply(this, [optionsParsed, ...args]);\n      }\n\n      const { hostname, port } = extractHostnameAndPort(optionsParsed);\n\n      const attributes = getOutgoingRequestAttributes(\n        optionsParsed,\n        {\n          component,\n          port,\n          hostname,\n          hookAttributes: instrumentation._callStartSpanHook(\n            optionsParsed,\n            instrumentation.getConfig().startOutgoingSpanHook\n          ),\n        },\n        instrumentation._semconvStability\n      );\n\n      const startTime = hrTime();\n      const oldMetricAttributes: Attributes =\n        getOutgoingRequestMetricAttributes(attributes);\n\n      // request method, server address, and server port are both required span attributes\n      const stableMetricAttributes: Attributes = {\n        [ATTR_HTTP_REQUEST_METHOD]: attributes[ATTR_HTTP_REQUEST_METHOD],\n        [ATTR_SERVER_ADDRESS]: attributes[ATTR_SERVER_ADDRESS],\n        [ATTR_SERVER_PORT]: attributes[ATTR_SERVER_PORT],\n      };\n\n      // required if and only if one was sent, same as span requirement\n      if (attributes[ATTR_HTTP_RESPONSE_STATUS_CODE]) {\n        stableMetricAttributes[ATTR_HTTP_RESPONSE_STATUS_CODE] =\n          attributes[ATTR_HTTP_RESPONSE_STATUS_CODE];\n      }\n\n      // recommended if and only if one was sent, same as span recommendation\n      if (attributes[ATTR_NETWORK_PROTOCOL_VERSION]) {\n        stableMetricAttributes[ATTR_NETWORK_PROTOCOL_VERSION] =\n          attributes[ATTR_NETWORK_PROTOCOL_VERSION];\n      }\n\n      const spanOptions: SpanOptions = {\n        kind: SpanKind.CLIENT,\n        attributes,\n      };\n      const span = instrumentation._startHttpSpan(method, spanOptions);\n\n      const parentContext = context.active();\n      const requestContext = trace.setSpan(parentContext, span);\n\n      if (!optionsParsed.headers) {\n        optionsParsed.headers = {};\n      } else {\n        // Make a copy of the headers object to avoid mutating an object the\n        // caller might have a reference to.\n        optionsParsed.headers = Object.assign({}, optionsParsed.headers);\n      }\n      propagation.inject(requestContext, optionsParsed.headers);\n\n      return context.with(requestContext, () => {\n        /*\n         * The response callback is registered before ClientRequest is bound,\n         * thus it is needed to bind it before the function call.\n         */\n        const cb = args[args.length - 1];\n        if (typeof cb === 'function') {\n          args[args.length - 1] = context.bind(parentContext, cb);\n        }\n\n        const request: http.ClientRequest = safeExecuteInTheMiddle(\n          () => {\n            if (invalidUrl) {\n              // we know that the url is invalid, there's no point in injecting context as it will fail validation.\n              // Passing in what the user provided will give the user an error that matches what they'd see without\n              // the instrumentation.\n              return original.apply(this, [options, ...args]);\n            } else {\n              return original.apply(this, [optionsParsed, ...args]);\n            }\n          },\n          error => {\n            if (error) {\n              setSpanWithError(span, error, instrumentation._semconvStability);\n              instrumentation._closeHttpSpan(\n                span,\n                SpanKind.CLIENT,\n                startTime,\n                oldMetricAttributes,\n                stableMetricAttributes\n              );\n              throw error;\n            }\n          }\n        );\n\n        instrumentation._diag.debug(\n          `${component} instrumentation outgoingRequest`\n        );\n        context.bind(parentContext, request);\n        return instrumentation._traceClientRequest(\n          request,\n          span,\n          startTime,\n          oldMetricAttributes,\n          stableMetricAttributes\n        );\n      });\n    };\n  }\n\n  private _onServerResponseFinish(\n    request: http.IncomingMessage,\n    response: http.ServerResponse,\n    span: Span,\n    oldMetricAttributes: Attributes,\n    stableMetricAttributes: Attributes,\n    startTime: HrTime\n  ) {\n    const attributes = getIncomingRequestAttributesOnResponse(\n      request,\n      response,\n      this._semconvStability\n    );\n    oldMetricAttributes = Object.assign(\n      oldMetricAttributes,\n      getIncomingRequestMetricAttributesOnResponse(attributes)\n    );\n    stableMetricAttributes = Object.assign(\n      stableMetricAttributes,\n      getIncomingStableRequestMetricAttributesOnResponse(attributes)\n    );\n\n    this._headerCapture.server.captureResponseHeaders(span, header =>\n      response.getHeader(header)\n    );\n\n    span.setAttributes(attributes).setStatus({\n      code: parseResponseStatus(SpanKind.SERVER, response.statusCode),\n    });\n\n    const route = attributes[SEMATTRS_HTTP_ROUTE];\n    if (route) {\n      span.updateName(`${request.method || 'GET'} ${route}`);\n    }\n\n    if (this.getConfig().applyCustomAttributesOnSpan) {\n      safeExecuteInTheMiddle(\n        () =>\n          this.getConfig().applyCustomAttributesOnSpan!(\n            span,\n            request,\n            response\n          ),\n        () => {},\n        true\n      );\n    }\n\n    this._closeHttpSpan(\n      span,\n      SpanKind.SERVER,\n      startTime,\n      oldMetricAttributes,\n      stableMetricAttributes\n    );\n  }\n\n  private _onServerResponseError(\n    span: Span,\n    oldMetricAttributes: Attributes,\n    stableMetricAttributes: Attributes,\n    startTime: HrTime,\n    error: Err\n  ) {\n    setSpanWithError(span, error, this._semconvStability);\n    // TODO get error attributes for metrics\n    this._closeHttpSpan(\n      span,\n      SpanKind.SERVER,\n      startTime,\n      oldMetricAttributes,\n      stableMetricAttributes\n    );\n  }\n\n  private _startHttpSpan(\n    name: string,\n    options: SpanOptions,\n    ctx = context.active()\n  ) {\n    /*\n     * If a parent is required but not present, we use a `NoopSpan` to still\n     * propagate context without recording it.\n     */\n    const requireParent =\n      options.kind === SpanKind.CLIENT\n        ? this.getConfig().requireParentforOutgoingSpans\n        : this.getConfig().requireParentforIncomingSpans;\n\n    let span: Span;\n    const currentSpan = trace.getSpan(ctx);\n\n    if (requireParent === true && currentSpan === undefined) {\n      span = trace.wrapSpanContext(INVALID_SPAN_CONTEXT);\n    } else if (requireParent === true && currentSpan?.spanContext().isRemote) {\n      span = currentSpan;\n    } else {\n      span = this.tracer.startSpan(name, options, ctx);\n    }\n    this._spanNotEnded.add(span);\n    return span;\n  }\n\n  private _closeHttpSpan(\n    span: Span,\n    spanKind: SpanKind,\n    startTime: HrTime,\n    oldMetricAttributes: Attributes,\n    stableMetricAttributes: Attributes\n  ) {\n    if (!this._spanNotEnded.has(span)) {\n      return;\n    }\n\n    span.end();\n    this._spanNotEnded.delete(span);\n\n    // Record metrics\n    const duration = hrTimeToMilliseconds(hrTimeDuration(startTime, hrTime()));\n    if (spanKind === SpanKind.SERVER) {\n      this._recordServerDuration(\n        duration,\n        oldMetricAttributes,\n        stableMetricAttributes\n      );\n    } else if (spanKind === SpanKind.CLIENT) {\n      this._recordClientDuration(\n        duration,\n        oldMetricAttributes,\n        stableMetricAttributes\n      );\n    }\n  }\n\n  private _callResponseHook(\n    span: Span,\n    response: http.IncomingMessage | http.ServerResponse\n  ) {\n    safeExecuteInTheMiddle(\n      () => this.getConfig().responseHook!(span, response),\n      () => {},\n      true\n    );\n  }\n\n  private _callRequestHook(\n    span: Span,\n    request: http.ClientRequest | http.IncomingMessage\n  ) {\n    safeExecuteInTheMiddle(\n      () => this.getConfig().requestHook!(span, request),\n      () => {},\n      true\n    );\n  }\n\n  private _callStartSpanHook(\n    request: http.IncomingMessage | http.RequestOptions,\n    hookFunc: Function | undefined\n  ) {\n    if (typeof hookFunc === 'function') {\n      return safeExecuteInTheMiddle(\n        () => hookFunc(request),\n        () => {},\n        true\n      );\n    }\n  }\n\n  private _createHeaderCapture() {\n    const config = this.getConfig();\n\n    return {\n      client: {\n        captureRequestHeaders: headerCapture(\n          'request',\n          config.headersToSpanAttributes?.client?.requestHeaders ?? []\n        ),\n        captureResponseHeaders: headerCapture(\n          'response',\n          config.headersToSpanAttributes?.client?.responseHeaders ?? []\n        ),\n      },\n      server: {\n        captureRequestHeaders: headerCapture(\n          'request',\n          config.headersToSpanAttributes?.server?.requestHeaders ?? []\n        ),\n        captureResponseHeaders: headerCapture(\n          'response',\n          config.headersToSpanAttributes?.server?.responseHeaders ?? []\n        ),\n      },\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4169, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ff0a58fadaf1a6a89e8058bafbd0795a/node_modules/@opentelemetry/instrumentation-http/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { HttpInstrumentation } from './http';\nexport {\n  HttpCustomAttributeFunction,\n  HttpInstrumentationConfig,\n  HttpRequestCustomAttributeFunction,\n  HttpResponseCustomAttributeFunction,\n  IgnoreIncomingRequestFunction,\n  IgnoreOutgoingRequestFunction,\n  StartIncomingSpanCustomAttributeFunction,\n  StartOutgoingSpanCustomAttributeFunction,\n} from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,IAAA;AAAS,OAAA,cAAA,CAAA,SAAA,uBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAAA,OAAA,mBAAmB;IAAA;AAAA"}},
    {"offset": {"line": 4195, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4200, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { registerInstrumentations } from './autoLoader';\nexport { InstrumentationBase } from './platform/index';\nexport { InstrumentationNodeModuleDefinition } from './instrumentationNodeModuleDefinition';\nexport { InstrumentationNodeModuleFile } from './instrumentationNodeModuleFile';\nexport {\n  Instrumentation,\n  InstrumentationConfig,\n  InstrumentationModuleDefinition,\n  InstrumentationModuleFile,\n  ShimWrapped,\n  SpanCustomizationHook,\n} from './types';\nexport { AutoLoaderOptions, AutoLoaderResult } from './types_internal';\nexport {\n  isWrapped,\n  safeExecuteInTheMiddle,\n  safeExecuteInTheMiddleAsync,\n} from './utils';\n"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 4221, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4234, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  diag,\n  DiagLogger,\n  metrics,\n  Meter,\n  MeterProvider,\n  trace,\n  Tracer,\n  TracerProvider,\n  Span,\n} from '@opentelemetry/api';\nimport { Logger, LoggerProvider, logs } from '@opentelemetry/api-logs';\nimport * as shimmer from 'shimmer';\nimport {\n  InstrumentationModuleDefinition,\n  Instrumentation,\n  InstrumentationConfig,\n  SpanCustomizationHook,\n} from './types';\n\n/**\n * Base abstract internal class for instrumenting node and web plugins\n */\nexport abstract class InstrumentationAbstract<\n  ConfigType extends InstrumentationConfig = InstrumentationConfig,\n> implements Instrumentation<ConfigType>\n{\n  protected _config: ConfigType = {} as ConfigType;\n\n  private _tracer: Tracer;\n  private _meter: Meter;\n  private _logger: Logger;\n  protected _diag: DiagLogger;\n\n  constructor(\n    public readonly instrumentationName: string,\n    public readonly instrumentationVersion: string,\n    config: ConfigType\n  ) {\n    this.setConfig(config);\n\n    this._diag = diag.createComponentLogger({\n      namespace: instrumentationName,\n    });\n\n    this._tracer = trace.getTracer(instrumentationName, instrumentationVersion);\n    this._meter = metrics.getMeter(instrumentationName, instrumentationVersion);\n    this._logger = logs.getLogger(instrumentationName, instrumentationVersion);\n    this._updateMetricInstruments();\n  }\n\n  /* Api to wrap instrumented method */\n  protected _wrap = shimmer.wrap;\n  /* Api to unwrap instrumented methods */\n  protected _unwrap = shimmer.unwrap;\n  /* Api to mass wrap instrumented method */\n  protected _massWrap = shimmer.massWrap;\n  /* Api to mass unwrap instrumented methods */\n  protected _massUnwrap = shimmer.massUnwrap;\n\n  /* Returns meter */\n  protected get meter(): Meter {\n    return this._meter;\n  }\n\n  /**\n   * Sets MeterProvider to this plugin\n   * @param meterProvider\n   */\n  public setMeterProvider(meterProvider: MeterProvider): void {\n    this._meter = meterProvider.getMeter(\n      this.instrumentationName,\n      this.instrumentationVersion\n    );\n\n    this._updateMetricInstruments();\n  }\n\n  /* Returns logger */\n  protected get logger(): Logger {\n    return this._logger;\n  }\n\n  /**\n   * Sets LoggerProvider to this plugin\n   * @param loggerProvider\n   */\n  public setLoggerProvider(loggerProvider: LoggerProvider): void {\n    this._logger = loggerProvider.getLogger(\n      this.instrumentationName,\n      this.instrumentationVersion\n    );\n  }\n\n  /**\n   * @experimental\n   *\n   * Get module definitions defined by {@link init}.\n   * This can be used for experimental compile-time instrumentation.\n   *\n   * @returns an array of {@link InstrumentationModuleDefinition}\n   */\n  public getModuleDefinitions(): InstrumentationModuleDefinition[] {\n    const initResult = this.init() ?? [];\n    if (!Array.isArray(initResult)) {\n      return [initResult];\n    }\n\n    return initResult;\n  }\n\n  /**\n   * Sets the new metric instruments with the current Meter.\n   */\n  protected _updateMetricInstruments(): void {\n    return;\n  }\n\n  /* Returns InstrumentationConfig */\n  public getConfig(): ConfigType {\n    return this._config;\n  }\n\n  /**\n   * Sets InstrumentationConfig to this plugin\n   * @param config\n   */\n  public setConfig(config: ConfigType): void {\n    // copy config first level properties to ensure they are immutable.\n    // nested properties are not copied, thus are mutable from the outside.\n    this._config = {\n      enabled: true,\n      ...config,\n    };\n  }\n\n  /**\n   * Sets TraceProvider to this plugin\n   * @param tracerProvider\n   */\n  public setTracerProvider(tracerProvider: TracerProvider): void {\n    this._tracer = tracerProvider.getTracer(\n      this.instrumentationName,\n      this.instrumentationVersion\n    );\n  }\n\n  /* Returns tracer */\n  protected get tracer(): Tracer {\n    return this._tracer;\n  }\n\n  /* Enable plugin */\n  public abstract enable(): void;\n\n  /* Disable plugin */\n  public abstract disable(): void;\n\n  /**\n   * Init method in which plugin should define _modules and patches for\n   * methods.\n   */\n  protected abstract init():\n    | InstrumentationModuleDefinition\n    | InstrumentationModuleDefinition[]\n    | void;\n\n  /**\n   * Execute span customization hook, if configured, and log any errors.\n   * Any semantics of the trigger and info are defined by the specific instrumentation.\n   * @param hookHandler The optional hook handler which the user has configured via instrumentation config\n   * @param triggerName The name of the trigger for executing the hook for logging purposes\n   * @param span The span to which the hook should be applied\n   * @param info The info object to be passed to the hook, with useful data the hook may use\n   */\n  protected _runSpanCustomizationHook<SpanCustomizationInfoType>(\n    hookHandler: SpanCustomizationHook<SpanCustomizationInfoType> | undefined,\n    triggerName: string,\n    span: Span,\n    info: SpanCustomizationInfoType\n  ) {\n    if (!hookHandler) {\n      return;\n    }\n\n    try {\n      hookHandler(span, info);\n    } catch (e) {\n      this._diag.error(\n        `Error running span customization hook due to exception in handler`,\n        { triggerName },\n        e\n      );\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4390, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4395, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/platform/node/ModuleNameTrie.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Hooked } from './RequireInTheMiddleSingleton';\n\nexport const ModuleNameSeparator = '/';\n\n/**\n * Node in a `ModuleNameTrie`\n */\nclass ModuleNameTrieNode {\n  hooks: Array<{ hook: Hooked; insertedId: number }> = [];\n  children: Map<string, ModuleNameTrieNode> = new Map();\n}\n\ntype ModuleNameTrieSearchOptions = {\n  /**\n   * Whether to return the results in insertion order\n   */\n  maintainInsertionOrder?: boolean;\n  /**\n   * Whether to return only full matches\n   */\n  fullOnly?: boolean;\n};\n\n/**\n * Trie containing nodes that represent a part of a module name (i.e. the parts separated by forward slash)\n */\nexport class ModuleNameTrie {\n  private _trie: ModuleNameTrieNode = new ModuleNameTrieNode();\n  private _counter: number = 0;\n\n  /**\n   * Insert a module hook into the trie\n   *\n   * @param {Hooked} hook Hook\n   */\n  insert(hook: Hooked) {\n    let trieNode = this._trie;\n\n    for (const moduleNamePart of hook.moduleName.split(ModuleNameSeparator)) {\n      let nextNode = trieNode.children.get(moduleNamePart);\n      if (!nextNode) {\n        nextNode = new ModuleNameTrieNode();\n        trieNode.children.set(moduleNamePart, nextNode);\n      }\n      trieNode = nextNode;\n    }\n    trieNode.hooks.push({ hook, insertedId: this._counter++ });\n  }\n\n  /**\n   * Search for matching hooks in the trie\n   *\n   * @param {string} moduleName Module name\n   * @param {boolean} maintainInsertionOrder Whether to return the results in insertion order\n   * @param {boolean} fullOnly Whether to return only full matches\n   * @returns {Hooked[]} Matching hooks\n   */\n  search(\n    moduleName: string,\n    { maintainInsertionOrder, fullOnly }: ModuleNameTrieSearchOptions = {}\n  ): Hooked[] {\n    let trieNode = this._trie;\n    const results: ModuleNameTrieNode['hooks'] = [];\n    let foundFull = true;\n\n    for (const moduleNamePart of moduleName.split(ModuleNameSeparator)) {\n      const nextNode = trieNode.children.get(moduleNamePart);\n      if (!nextNode) {\n        foundFull = false;\n        break;\n      }\n      if (!fullOnly) {\n        results.push(...nextNode.hooks);\n      }\n      trieNode = nextNode;\n    }\n\n    if (fullOnly && foundFull) {\n      results.push(...trieNode.hooks);\n    }\n\n    if (results.length === 0) {\n      return [];\n    }\n    if (results.length === 1) {\n      return [results[0].hook];\n    }\n    if (maintainInsertionOrder) {\n      results.sort((a, b) => a.insertedId - b.insertedId);\n    }\n    return results.map(({ hook }) => hook);\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBO,IAAM,sBAAsB;AAEnC;;IAGA,IAAA,qBAAA;IAAA,SAAA;QACE,IAAA,CAAA,KAAK,GAAgD,EAAE;QACvD,IAAA,CAAA,QAAQ,GAAoC,IAAI;IAClD;IAAA,OAAA;AAAA;AAaA;;IAGA,IAAA,iBAAA;IAAA,SAAA;QACU,IAAA,CAAA,KAAK,GAAuB,IAAI;QAChC,IAAA,CAAA,QAAQ,GAAW;IAgE7B;IA9DE;;;;QAKA,eAAA,SAAA,CAAA,MAAM,GAAN,SAAO,IAAY;;QACjB,IAAI,WAAW,IAAI,CAAC,KAAK;;YAEzB,IAA6B,IAAA,KAAA,SAAA,KAAK,UAAU,CAAC,KAAK,CAAC,uBAAoB,KAAA,GAAA,IAAA,IAAA,CAAA,GAAA,IAAA,EAAA,KAAA,GAAA,IAAA,GAAE;gBAApE,IAAM,iBAAc,GAAA,KAAA;gBACvB,IAAI,WAAW,SAAS,QAAQ,CAAC,GAAG,CAAC;gBACrC,IAAI,CAAC,UAAU;oBACb,WAAW,IAAI;oBACf,SAAS,QAAQ,CAAC,GAAG,CAAC,gBAAgB;;gBAExC,WAAW;;;;;;;;;;;;;QAEb,SAAS,KAAK,CAAC,IAAI,CAAC;YAAE,MAAI;YAAE,YAAY,IAAI,CAAC,QAAQ;QAAE;IACzD;IAEA;;;;;;;QAQA,eAAA,SAAA,CAAA,MAAM,GAAN,SACE,UAAkB,EAClB,EAAsE;;YAAtE,KAAA,OAAA,KAAA,IAAoE,CAAA,IAAE,IAApE,yBAAsB,GAAA,sBAAA,EAAE,WAAQ,GAAA,QAAA;QAElC,IAAI,WAAW,IAAI,CAAC,KAAK;QACzB,IAAM,UAAuC,EAAE;QAC/C,IAAI,YAAY;;YAEhB,IAA6B,IAAA,KAAA,SAAA,WAAW,KAAK,CAAC,uBAAoB,KAAA,GAAA,IAAA,IAAA,CAAA,GAAA,IAAA,EAAA,KAAA,GAAA,IAAA,GAAE;gBAA/D,IAAM,iBAAc,GAAA,KAAA;gBACvB,IAAM,WAAW,SAAS,QAAQ,CAAC,GAAG,CAAC;gBACvC,IAAI,CAAC,UAAU;oBACb,YAAY;oBACZ;;gBAEF,IAAI,CAAC,UAAU;oBACb,QAAQ,IAAI,CAAA,KAAA,CAAZ,SAAO,cAAA,EAAA,EAAA,OAAS,SAAS,KAAK,GAAA;;gBAEhC,WAAW;;;;;;;;;;;;;QAGb,IAAI,YAAY,WAAW;YACzB,QAAQ,IAAI,CAAA,KAAA,CAAZ,SAAO,cAAA,EAAA,EAAA,OAAS,SAAS,KAAK,GAAA;;QAGhC,IAAI,QAAQ,MAAM,KAAK,GAAG;YACxB,OAAO,EAAE;;QAEX,IAAI,QAAQ,MAAM,KAAK,GAAG;YACxB,OAAO;gBAAC,OAAO,CAAC,EAAE,CAAC,IAAI;aAAC;;QAE1B,IAAI,wBAAwB;YAC1B,QAAQ,IAAI,CAAC,SAAC,CAAC,EAAE,CAAC;gBAAK,OAAA,EAAE,UAAU,GAAG,EAAE,UAAU;YAA3B;;QAEzB,OAAO,QAAQ,GAAG,CAAC,SAAC,EAAQ;gBAAN,OAAI,GAAA,IAAA;YAAO,OAAA;QAAA;IACnC;IACF,OAAA;AAAA"}},
    {"offset": {"line": 4567, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4572, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/platform/node/RequireInTheMiddleSingleton.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OnRequireFn } from 'require-in-the-middle';\nimport { Hook } from 'require-in-the-middle';\nimport * as path from 'path';\nimport { ModuleNameTrie, ModuleNameSeparator } from './ModuleNameTrie';\n\nexport type Hooked = {\n  moduleName: string;\n  onRequire: OnRequireFn;\n};\n\n/**\n * Whether Mocha is running in this process\n * Inspired by https://github.com/AndreasPizsa/detect-mocha\n *\n * @type {boolean}\n */\nconst isMocha = [\n  'afterEach',\n  'after',\n  'beforeEach',\n  'before',\n  'describe',\n  'it',\n].every(fn => {\n  // @ts-expect-error TS7053: Element implicitly has an 'any' type\n  return typeof global[fn] === 'function';\n});\n\n/**\n * Singleton class for `require-in-the-middle`\n * Allows instrumentation plugins to patch modules with only a single `require` patch\n * WARNING: Because this class will create its own `require-in-the-middle` (RITM) instance,\n * we should minimize the number of new instances of this class.\n * Multiple instances of `@opentelemetry/instrumentation` (e.g. multiple versions) in a single process\n * will result in multiple instances of RITM, which will have an impact\n * on the performance of instrumentation hooks being applied.\n */\nexport class RequireInTheMiddleSingleton {\n  private _moduleNameTrie: ModuleNameTrie = new ModuleNameTrie();\n  private static _instance?: RequireInTheMiddleSingleton;\n\n  private constructor() {\n    this._initialize();\n  }\n\n  private _initialize() {\n    new Hook(\n      // Intercept all `require` calls; we will filter the matching ones below\n      null,\n      { internals: true },\n      (exports, name, basedir) => {\n        // For internal files on Windows, `name` will use backslash as the path separator\n        const normalizedModuleName = normalizePathSeparators(name);\n\n        const matches = this._moduleNameTrie.search(normalizedModuleName, {\n          maintainInsertionOrder: true,\n          // For core modules (e.g. `fs`), do not match on sub-paths (e.g. `fs/promises').\n          // This matches the behavior of `require-in-the-middle`.\n          // `basedir` is always `undefined` for core modules.\n          fullOnly: basedir === undefined,\n        });\n\n        for (const { onRequire } of matches) {\n          exports = onRequire(exports, name, basedir);\n        }\n\n        return exports;\n      }\n    );\n  }\n\n  /**\n   * Register a hook with `require-in-the-middle`\n   *\n   * @param {string} moduleName Module name\n   * @param {OnRequireFn} onRequire Hook function\n   * @returns {Hooked} Registered hook\n   */\n  register(moduleName: string, onRequire: OnRequireFn): Hooked {\n    const hooked = { moduleName, onRequire };\n    this._moduleNameTrie.insert(hooked);\n    return hooked;\n  }\n\n  /**\n   * Get the `RequireInTheMiddleSingleton` singleton\n   *\n   * @returns {RequireInTheMiddleSingleton} Singleton of `RequireInTheMiddleSingleton`\n   */\n  static getInstance(): RequireInTheMiddleSingleton {\n    // Mocha runs all test suites in the same process\n    // This prevents test suites from sharing a singleton\n    if (isMocha) return new RequireInTheMiddleSingleton();\n\n    return (this._instance =\n      this._instance ?? new RequireInTheMiddleSingleton());\n  }\n}\n\n/**\n * Normalize the path separators to forward slash in a module name or path\n *\n * @param {string} moduleNameOrPath Module name or path\n * @returns {string} Normalized module name or path\n */\nfunction normalizePathSeparators(moduleNameOrPath: string): string {\n  return path.sep !== ModuleNameSeparator\n    ? moduleNameOrPath.split(path.sep).join(ModuleNameSeparator)\n    : moduleNameOrPath;\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;;;;IAMA,IAAM,UAAU;IACd;IACA;IACA;IACA;IACA;IACA;CACD,CAAC,KAAK,CAAC,SAAA,EAAE;IACR,gEAAgE;IAChE,OAAO,OAAO,MAAM,CAAC,GAAG,KAAK;AAC/B;AAEA;;;;;;;;IASA,IAAA,8BAAA;IAIE,SAAA;QAHQ,IAAA,CAAA,eAAe,GAAmB,IAAI,sSAAA,CAAA,iBAAc;QAI1D,IAAI,CAAC,WAAW;IAClB;IAEQ,4BAAA,SAAA,CAAA,WAAW,GAAnB;QAAA,IAAA,QAAA,IAAA;QACE,IAAI,kOAAA,CAAA,OAAI,CACN,wEAAwE;QACxE,MACA;YAAE,WAAW;QAAI,GACjB,SAAC,OAAO,EAAE,IAAI,EAAE,OAAO;;YACrB,iFAAiF;YACjF,IAAM,uBAAuB,wBAAwB;YAErD,IAAM,UAAU,MAAK,eAAe,CAAC,MAAM,CAAC,sBAAsB;gBAChE,wBAAwB;gBACxB,gFAAgF;gBAChF,wDAAwD;gBACxD,oDAAoD;gBACpD,UAAU,YAAY;;;gBAGxB,IAA4B,IAAA,YAAA,SAAA,UAAO,cAAA,UAAA,IAAA,IAAA,CAAA,YAAA,IAAA,EAAA,cAAA,UAAA,IAAA,GAAE;oBAAxB,IAAA,YAAS,YAAA,KAAA,CAAA,SAAA;oBACpB,UAAU,UAAU,SAAS,MAAM;;;;;;;;;;;;;YAGrC,OAAO;QACT;IAEJ;IAEA;;;;;;QAOA,4BAAA,SAAA,CAAA,QAAQ,GAAR,SAAS,UAAkB,EAAE,SAAsB;QACjD,IAAM,SAAS;YAAE,YAAU;YAAE,WAAS;QAAA;QACtC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;QAC5B,OAAO;IACT;IAEA;;;;QAKO,4BAAA,WAAW,GAAlB;;QACE,iDAAiD;QACjD,qDAAqD;QACrD,IAAI,SAAS,OAAO,IAAI;QAExB,OAAQ,IAAI,CAAC,SAAS,GACpB,CAAA,KAAA,IAAI,CAAC,SAAS,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,IAAI;IAC1B;IACF,OAAA;AAAA;;AAEA;;;;;IAMA,SAAS,wBAAwB,gBAAwB;IACvD,OAAO,wCAAK,GAAG,KAAK,sSAAA,CAAA,sBAAmB,GACnC,iBAAiB,KAAK,CAAC,wCAAK,GAAG,EAAE,IAAI,CAAC,sSAAA,CAAA,sBAAmB,IACzD;AACN"}},
    {"offset": {"line": 4710, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4715, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ShimWrapped } from './types';\n\n/**\n * function to execute patched function and being able to catch errors\n * @param execute - function to be executed\n * @param onFinish - callback to run when execute finishes\n */\nexport function safeExecuteInTheMiddle<T>(\n  execute: () => T,\n  onFinish: (e: Error | undefined, result: T | undefined) => void,\n  preventThrowingError?: boolean\n): T {\n  let error: Error | undefined;\n  let result: T | undefined;\n  try {\n    result = execute();\n  } catch (e) {\n    error = e;\n  } finally {\n    onFinish(error, result);\n    if (error && !preventThrowingError) {\n      // eslint-disable-next-line no-unsafe-finally\n      throw error;\n    }\n    // eslint-disable-next-line no-unsafe-finally\n    return result as T;\n  }\n}\n\n/**\n * Async function to execute patched function and being able to catch errors\n * @param execute - function to be executed\n * @param onFinish - callback to run when execute finishes\n */\nexport async function safeExecuteInTheMiddleAsync<T>(\n  execute: () => T,\n  onFinish: (e: Error | undefined, result: T | undefined) => void,\n  preventThrowingError?: boolean\n): Promise<T> {\n  let error: Error | undefined;\n  let result: T | undefined;\n  try {\n    result = await execute();\n  } catch (e) {\n    error = e;\n  } finally {\n    onFinish(error, result);\n    if (error && !preventThrowingError) {\n      // eslint-disable-next-line no-unsafe-finally\n      throw error;\n    }\n    // eslint-disable-next-line no-unsafe-finally\n    return result as T;\n  }\n}\n/**\n * Checks if certain function has been already wrapped\n * @param func\n */\nexport function isWrapped(func: unknown): func is ShimWrapped {\n  return (\n    typeof func === 'function' &&\n    typeof (func as ShimWrapped).__original === 'function' &&\n    typeof (func as ShimWrapped).__unwrap === 'function' &&\n    (func as ShimWrapped).__wrapped === true\n  );\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBM,SAAU,uBACd,OAAgB,EAChB,QAA+D,EAC/D,oBAA8B;IAE9B,IAAI;IACJ,IAAI;IACJ,IAAI;QACF,SAAS;MACT,OAAO,GAAG;QACV,QAAQ;aACA;QACR,SAAS,OAAO;QAChB,IAAI,SAAS,CAAC,sBAAsB;YAClC,6CAA6C;YAC7C,MAAM;;QAER,6CAA6C;QAC7C,OAAO;;AAEX;AAOM,SAAgB,4BACpB,OAAgB,EAChB,QAA+D,EAC/D,oBAA8B;;;;;;;;;;;;oBAKnB,OAAA;wBAAA,EAAA,OAAA;wBAAM;qBAAS;;oBAAxB,SAAS,GAAA,IAAA;;;;;;;oBAET,QAAQ;;;;;;oBAER,SAAS,OAAO;oBAChB,IAAI,SAAS,CAAC,sBAAsB;wBAClC,6CAA6C;wBAC7C,MAAM;;oBAER,6CAA6C;oBAC7C,OAAA;wBAAA,EAAA,QAAA;wBAAO;qBAAW;;;;;;;;;AAOhB,SAAU,UAAU,IAAa;IACrC,OACE,OAAO,SAAS,cAChB,OAAQ,KAAqB,UAAU,KAAK,cAC5C,OAAQ,KAAqB,QAAQ,KAAK,cACzC,KAAqB,SAAS,KAAK;AAExC"}},
    {"offset": {"line": 4924, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4929, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/platform/node/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as types from '../../types';\nimport * as path from 'path';\nimport { types as utilTypes } from 'util';\nimport { satisfies } from 'semver';\nimport { wrap, unwrap, massWrap, massUnwrap } from 'shimmer';\nimport { InstrumentationAbstract } from '../../instrumentation';\nimport {\n  RequireInTheMiddleSingleton,\n  Hooked,\n} from './RequireInTheMiddleSingleton';\nimport type { HookFn } from 'import-in-the-middle';\nimport { Hook as HookImport } from 'import-in-the-middle';\nimport {\n  InstrumentationConfig,\n  InstrumentationModuleDefinition,\n} from '../../types';\nimport { diag } from '@opentelemetry/api';\nimport type { OnRequireFn } from 'require-in-the-middle';\nimport { Hook as HookRequire } from 'require-in-the-middle';\nimport { readFileSync } from 'fs';\nimport { isWrapped } from '../../utils';\n\n/**\n * Base abstract class for instrumenting node plugins\n */\nexport abstract class InstrumentationBase<\n    ConfigType extends InstrumentationConfig = InstrumentationConfig,\n  >\n  extends InstrumentationAbstract<ConfigType>\n  implements types.Instrumentation<ConfigType>\n{\n  private _modules: InstrumentationModuleDefinition[];\n  private _hooks: (Hooked | HookRequire)[] = [];\n  private _requireInTheMiddleSingleton: RequireInTheMiddleSingleton =\n    RequireInTheMiddleSingleton.getInstance();\n  private _enabled = false;\n\n  constructor(\n    instrumentationName: string,\n    instrumentationVersion: string,\n    config: ConfigType\n  ) {\n    super(instrumentationName, instrumentationVersion, config);\n\n    let modules = this.init();\n\n    if (modules && !Array.isArray(modules)) {\n      modules = [modules];\n    }\n\n    this._modules = (modules as InstrumentationModuleDefinition[]) || [];\n\n    if (this._config.enabled) {\n      this.enable();\n    }\n  }\n\n  protected override _wrap: typeof wrap = (moduleExports, name, wrapper) => {\n    if (isWrapped(moduleExports[name])) {\n      this._unwrap(moduleExports, name);\n    }\n    if (!utilTypes.isProxy(moduleExports)) {\n      return wrap(moduleExports, name, wrapper);\n    } else {\n      const wrapped = wrap(Object.assign({}, moduleExports), name, wrapper);\n      Object.defineProperty(moduleExports, name, {\n        value: wrapped,\n      });\n      return wrapped;\n    }\n  };\n\n  protected override _unwrap: typeof unwrap = (moduleExports, name) => {\n    if (!utilTypes.isProxy(moduleExports)) {\n      return unwrap(moduleExports, name);\n    } else {\n      return Object.defineProperty(moduleExports, name, {\n        value: moduleExports[name],\n      });\n    }\n  };\n\n  protected override _massWrap: typeof massWrap = (\n    moduleExportsArray,\n    names,\n    wrapper\n  ) => {\n    if (!moduleExportsArray) {\n      diag.error('must provide one or more modules to patch');\n      return;\n    } else if (!Array.isArray(moduleExportsArray)) {\n      moduleExportsArray = [moduleExportsArray];\n    }\n\n    if (!(names && Array.isArray(names))) {\n      diag.error('must provide one or more functions to wrap on modules');\n      return;\n    }\n\n    moduleExportsArray.forEach(moduleExports => {\n      names.forEach(name => {\n        this._wrap(moduleExports, name, wrapper);\n      });\n    });\n  };\n\n  protected override _massUnwrap: typeof massUnwrap = (\n    moduleExportsArray,\n    names\n  ) => {\n    if (!moduleExportsArray) {\n      diag.error('must provide one or more modules to patch');\n      return;\n    } else if (!Array.isArray(moduleExportsArray)) {\n      moduleExportsArray = [moduleExportsArray];\n    }\n\n    if (!(names && Array.isArray(names))) {\n      diag.error('must provide one or more functions to wrap on modules');\n      return;\n    }\n\n    moduleExportsArray.forEach(moduleExports => {\n      names.forEach(name => {\n        this._unwrap(moduleExports, name);\n      });\n    });\n  };\n\n  private _warnOnPreloadedModules(): void {\n    this._modules.forEach((module: InstrumentationModuleDefinition) => {\n      const { name } = module;\n      try {\n        const resolvedModule = require.resolve(name);\n        if (require.cache[resolvedModule]) {\n          // Module is already cached, which means the instrumentation hook might not work\n          this._diag.warn(\n            `Module ${name} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${name}`\n          );\n        }\n      } catch {\n        // Module isn't available, we can simply skip\n      }\n    });\n  }\n\n  private _extractPackageVersion(baseDir: string): string | undefined {\n    try {\n      const json = readFileSync(path.join(baseDir, 'package.json'), {\n        encoding: 'utf8',\n      });\n      const version = JSON.parse(json).version;\n      return typeof version === 'string' ? version : undefined;\n    } catch (error) {\n      diag.warn('Failed extracting version', baseDir);\n    }\n\n    return undefined;\n  }\n\n  private _onRequire<T>(\n    module: InstrumentationModuleDefinition,\n    exports: T,\n    name: string,\n    baseDir?: string | void\n  ): T {\n    if (!baseDir) {\n      if (typeof module.patch === 'function') {\n        module.moduleExports = exports;\n        if (this._enabled) {\n          this._diag.debug(\n            'Applying instrumentation patch for nodejs core module on require hook',\n            {\n              module: module.name,\n            }\n          );\n          return module.patch(exports);\n        }\n      }\n      return exports;\n    }\n\n    const version = this._extractPackageVersion(baseDir);\n    module.moduleVersion = version;\n    if (module.name === name) {\n      // main module\n      if (\n        isSupported(module.supportedVersions, version, module.includePrerelease)\n      ) {\n        if (typeof module.patch === 'function') {\n          module.moduleExports = exports;\n          if (this._enabled) {\n            this._diag.debug(\n              'Applying instrumentation patch for module on require hook',\n              {\n                module: module.name,\n                version: module.moduleVersion,\n                baseDir,\n              }\n            );\n            return module.patch(exports, module.moduleVersion);\n          }\n        }\n      }\n      return exports;\n    }\n    // internal file\n    const files = module.files ?? [];\n    const normalizedName = path.normalize(name);\n    const supportedFileInstrumentations = files\n      .filter(f => f.name === normalizedName)\n      .filter(f =>\n        isSupported(f.supportedVersions, version, module.includePrerelease)\n      );\n    return supportedFileInstrumentations.reduce<T>((patchedExports, file) => {\n      file.moduleExports = patchedExports;\n      if (this._enabled) {\n        this._diag.debug(\n          'Applying instrumentation patch for nodejs module file on require hook',\n          {\n            module: module.name,\n            version: module.moduleVersion,\n            fileName: file.name,\n            baseDir,\n          }\n        );\n\n        // patch signature is not typed, so we cast it assuming it's correct\n        return file.patch(patchedExports, module.moduleVersion) as T;\n      }\n      return patchedExports;\n    }, exports);\n  }\n\n  public enable(): void {\n    if (this._enabled) {\n      return;\n    }\n    this._enabled = true;\n\n    // already hooked, just call patch again\n    if (this._hooks.length > 0) {\n      for (const module of this._modules) {\n        if (typeof module.patch === 'function' && module.moduleExports) {\n          this._diag.debug(\n            'Applying instrumentation patch for nodejs module on instrumentation enabled',\n            {\n              module: module.name,\n              version: module.moduleVersion,\n            }\n          );\n          module.patch(module.moduleExports, module.moduleVersion);\n        }\n        for (const file of module.files) {\n          if (file.moduleExports) {\n            this._diag.debug(\n              'Applying instrumentation patch for nodejs module file on instrumentation enabled',\n              {\n                module: module.name,\n                version: module.moduleVersion,\n                fileName: file.name,\n              }\n            );\n            file.patch(file.moduleExports, module.moduleVersion);\n          }\n        }\n      }\n      return;\n    }\n\n    this._warnOnPreloadedModules();\n    for (const module of this._modules) {\n      const hookFn: HookFn = (exports, name, baseDir) => {\n        if (!baseDir && path.isAbsolute(name)) {\n          const parsedPath = path.parse(name);\n          name = parsedPath.name;\n          baseDir = parsedPath.dir;\n        }\n        return this._onRequire<typeof exports>(module, exports, name, baseDir);\n      };\n      const onRequire: OnRequireFn = (exports, name, baseDir) => {\n        return this._onRequire<typeof exports>(module, exports, name, baseDir);\n      };\n\n      // `RequireInTheMiddleSingleton` does not support absolute paths.\n      // For an absolute paths, we must create a separate instance of the\n      // require-in-the-middle `Hook`.\n      const hook = path.isAbsolute(module.name)\n        ? new HookRequire([module.name], { internals: true }, onRequire)\n        : this._requireInTheMiddleSingleton.register(module.name, onRequire);\n\n      this._hooks.push(hook);\n      const esmHook = new HookImport(\n        [module.name],\n        { internals: false },\n        <HookFn>hookFn\n      );\n      this._hooks.push(esmHook);\n    }\n  }\n\n  public disable(): void {\n    if (!this._enabled) {\n      return;\n    }\n    this._enabled = false;\n\n    for (const module of this._modules) {\n      if (typeof module.unpatch === 'function' && module.moduleExports) {\n        this._diag.debug(\n          'Removing instrumentation patch for nodejs module on instrumentation disabled',\n          {\n            module: module.name,\n            version: module.moduleVersion,\n          }\n        );\n        module.unpatch(module.moduleExports, module.moduleVersion);\n      }\n      for (const file of module.files) {\n        if (file.moduleExports) {\n          this._diag.debug(\n            'Removing instrumentation patch for nodejs module file on instrumentation disabled',\n            {\n              module: module.name,\n              version: module.moduleVersion,\n              fileName: file.name,\n            }\n          );\n          file.unpatch(file.moduleExports, module.moduleVersion);\n        }\n      }\n    }\n  }\n\n  public isEnabled(): boolean {\n    return this._enabled;\n  }\n}\n\nfunction isSupported(\n  supportedVersions: string[],\n  version?: string,\n  includePrerelease?: boolean\n): boolean {\n  if (typeof version === 'undefined') {\n    // If we don't have the version, accept the wildcard case only\n    return supportedVersions.includes('*');\n  }\n\n  return supportedVersions.some(supportedVersion => {\n    return satisfies(version, supportedVersion, { includePrerelease });\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5345, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5350, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/instrumentationNodeModuleDefinition.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  InstrumentationModuleDefinition,\n  InstrumentationModuleFile,\n} from './types';\n\nexport class InstrumentationNodeModuleDefinition\n  implements InstrumentationModuleDefinition\n{\n  files: InstrumentationModuleFile[];\n  constructor(\n    public name: string,\n    public supportedVersions: string[],\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public patch?: (exports: any, moduleVersion?: string) => any,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public unpatch?: (exports: any, moduleVersion?: string) => void,\n    files?: InstrumentationModuleFile[]\n  ) {\n    this.files = files || [];\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;AAqBA,IAAA,sCAAA;IAIE,SAAA,oCACS,IAAY,EACZ,iBAA2B,EAClC,8DAA8D;IACvD,KAAqD,EAC5D,8DAA8D;IACvD,OAAwD,EAC/D,KAAmC;QAN5B,IAAA,CAAA,IAAI,GAAJ;QACA,IAAA,CAAA,iBAAiB,GAAjB;QAEA,IAAA,CAAA,KAAK,GAAL;QAEA,IAAA,CAAA,OAAO,GAAP;QAGP,IAAI,CAAC,KAAK,GAAG,SAAS,EAAE;IAC1B;IACF,OAAA;AAAA"}},
    {"offset": {"line": 5381, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5386, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/platform/node/normalize.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { normalize } from 'path';\n"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 5403, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5419, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/instrumentationNodeModuleFile.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationModuleFile } from './types';\nimport { normalize } from './platform/index';\n\nexport class InstrumentationNodeModuleFile\n  implements InstrumentationModuleFile\n{\n  public name: string;\n  constructor(\n    name: string,\n    public supportedVersions: string[],\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public patch: (moduleExports: any, moduleVersion?: string) => any,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public unpatch: (moduleExports?: any, moduleVersion?: string) => void\n  ) {\n    this.name = normalize(name);\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;AAmBA,IAAA,gCAAA;IAIE,SAAA,8BACE,IAAY,EACL,iBAA2B,EAClC,8DAA8D;IACvD,KAA0D,EACjE,8DAA8D;IACvD,OAA8D;QAJ9D,IAAA,CAAA,iBAAiB,GAAjB;QAEA,IAAA,CAAA,KAAK,GAAL;QAEA,IAAA,CAAA,OAAO,GAAP;QAEP,IAAI,CAAC,IAAI,GAAG,CAAA,GAAA,kTAAA,CAAA,YAAS,AAAT,EAAU;IACxB;IACF,OAAA;AAAA"}},
    {"offset": {"line": 5452, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5457, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/autoLoaderUtils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TracerProvider, MeterProvider } from '@opentelemetry/api';\nimport { Instrumentation } from './types';\nimport { LoggerProvider } from '@opentelemetry/api-logs';\n\n/**\n * Enable instrumentations\n * @param instrumentations\n * @param tracerProvider\n * @param meterProvider\n */\nexport function enableInstrumentations(\n  instrumentations: Instrumentation[],\n  tracerProvider?: TracerProvider,\n  meterProvider?: MeterProvider,\n  loggerProvider?: LoggerProvider\n): void {\n  for (let i = 0, j = instrumentations.length; i < j; i++) {\n    const instrumentation = instrumentations[i];\n    if (tracerProvider) {\n      instrumentation.setTracerProvider(tracerProvider);\n    }\n    if (meterProvider) {\n      instrumentation.setMeterProvider(meterProvider);\n    }\n    if (loggerProvider && instrumentation.setLoggerProvider) {\n      instrumentation.setLoggerProvider(loggerProvider);\n    }\n    // instrumentations have been already enabled during creation\n    // so enable only if user prevented that by setting enabled to false\n    // this is to prevent double enabling but when calling register all\n    // instrumentations should be now enabled\n    if (!instrumentation.getConfig().enabled) {\n      instrumentation.enable();\n    }\n  }\n}\n\n/**\n * Disable instrumentations\n * @param instrumentations\n */\nexport function disableInstrumentations(\n  instrumentations: Instrumentation[]\n): void {\n  instrumentations.forEach(instrumentation => instrumentation.disable());\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;IAoBA;;;;;;;;;AAMM,SAAU,uBACd,gBAAmC,EACnC,cAA+B,EAC/B,aAA6B,EAC7B,cAA+B;IAE/B,IAAK,IAAI,IAAI,GAAG,IAAI,iBAAiB,MAAM,EAAE,IAAI,GAAG,IAAK;QACvD,IAAM,kBAAkB,gBAAgB,CAAC,EAAE;QAC3C,IAAI,gBAAgB;YAClB,gBAAgB,iBAAiB,CAAC;;QAEpC,IAAI,eAAe;YACjB,gBAAgB,gBAAgB,CAAC;;QAEnC,IAAI,kBAAkB,gBAAgB,iBAAiB,EAAE;YACvD,gBAAgB,iBAAiB,CAAC;;QAEpC,6DAA6D;QAC7D,oEAAoE;QACpE,mEAAmE;QACnE,yCAAyC;QACzC,IAAI,CAAC,gBAAgB,SAAS,GAAG,OAAO,EAAE;YACxC,gBAAgB,MAAM;;;AAG5B;AAMM,SAAU,wBACd,gBAAmC;IAEnC,iBAAiB,OAAO,CAAC,SAAA,eAAe;QAAI,OAAA,gBAAgB,OAAO;IAAvB;AAC9C"}},
    {"offset": {"line": 5506, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5511, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_04f370d515cee0be955272f826166073/node_modules/@opentelemetry/instrumentation/src/autoLoader.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { trace, metrics } from '@opentelemetry/api';\nimport { logs } from '@opentelemetry/api-logs';\nimport {\n  disableInstrumentations,\n  enableInstrumentations,\n} from './autoLoaderUtils';\nimport { AutoLoaderOptions } from './types_internal';\n\n/**\n * It will register instrumentations and plugins\n * @param options\n * @return returns function to unload instrumentation and plugins that were\n *   registered\n */\nexport function registerInstrumentations(\n  options: AutoLoaderOptions\n): () => void {\n  const tracerProvider = options.tracerProvider || trace.getTracerProvider();\n  const meterProvider = options.meterProvider || metrics.getMeterProvider();\n  const loggerProvider = options.loggerProvider || logs.getLoggerProvider();\n  const instrumentations = options.instrumentations?.flat() ?? [];\n\n  enableInstrumentations(\n    instrumentations,\n    tracerProvider,\n    meterProvider,\n    loggerProvider\n  );\n\n  return () => {\n    disableInstrumentations(instrumentations);\n  };\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BM,SAAU,yBACd,OAA0B;;IAE1B,IAAM,iBAAiB,QAAQ,cAAc,IAAI,2DAAA,CAAA,QAAK,CAAC,iBAAiB;IACxE,IAAM,gBAAgB,QAAQ,aAAa,IAAI,2DAAA,CAAA,UAAO,CAAC,gBAAgB;IACvE,IAAM,iBAAiB,QAAQ,cAAc,IAAI,KAAK,iBAAiB;IACvE,IAAM,mBAAmB,CAAA,KAAA,CAAA,KAAA,QAAQ,gBAAgB,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,EAAE,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE;IAE/D,CAAA,GAAA,mRAAA,CAAA,yBAAsB,AAAtB,EACE,kBACA,gBACA,eACA;IAGF,OAAO;QACL,CAAA,GAAA,mRAAA,CAAA,0BAAuB,AAAvB,EAAwB;IAC1B;AACF"}},
    {"offset": {"line": 5550, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5592, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/shimmer@1.2.1/node_modules/shimmer/index.js"],"sourcesContent":["'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n"],"names":[],"mappings":"AAAA;AAEA,SAAS,WAAY,QAAQ;IAC3B,OAAO,OAAO,aAAa;AAC7B;AAEA,wEAAwE;AACxE,IAAI,SAAS,QAAQ,KAAK,CAAC,IAAI,CAAC;AAEhC,8DAA8D;AAC9D,+DAA+D;AAC/D,SAAS,eAAgB,GAAG,EAAE,IAAI,EAAE,KAAK;IACvC,IAAI,aAAa,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,oBAAoB,CAAC;IACzD,OAAO,cAAc,CAAC,KAAK,MAAM;QAC/B,cAAc;QACd,YAAY;QACZ,UAAU;QACV,OAAO;IACT;AACF;AAEA,kCAAkC;AAClC,SAAS,QAAS,OAAO;IACvB,IAAI,WAAW,QAAQ,MAAM,EAAE;QAC7B,IAAI,CAAC,WAAW,QAAQ,MAAM,GAAG,OAAO;aACnC,SAAS,QAAQ,MAAM;IAC9B;AACF;AAEA,SAAS,KAAM,MAAM,EAAE,IAAI,EAAE,OAAO;IAClC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE;QAC5B,OAAO,0BAA0B,OAAO;QACxC;IACF;IAEA,IAAI,CAAC,SAAS;QACZ,OAAO;QACP,OAAO,AAAC,IAAI,QAAS,KAAK;QAC1B;IACF;IAEA,IAAI,CAAC,WAAW,MAAM,CAAC,KAAK,KAAK,CAAC,WAAW,UAAU;QACrD,OAAO;QACP;IACF;IAEA,IAAI,WAAW,MAAM,CAAC,KAAK;IAC3B,IAAI,UAAU,QAAQ,UAAU;IAEhC,eAAe,SAAS,cAAc;IACtC,eAAe,SAAS,YAAY;QAClC,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS,eAAe,QAAQ,MAAM;IAC7D;IACA,eAAe,SAAS,aAAa;IAErC,eAAe,QAAQ,MAAM;IAC7B,OAAO;AACT;AAEA,SAAS,SAAU,OAAO,EAAE,KAAK,EAAE,OAAO;IACxC,IAAI,CAAC,SAAS;QACZ,OAAO;QACP,OAAO,AAAC,IAAI,QAAS,KAAK;QAC1B;IACF,OAAO,IAAI,CAAC,MAAM,OAAO,CAAC,UAAU;QAClC,UAAU;YAAC;SAAQ;IACrB;IAEA,IAAI,CAAC,CAAC,SAAS,MAAM,OAAO,CAAC,MAAM,GAAG;QACpC,OAAO;QACP;IACF;IAEA,QAAQ,OAAO,CAAC,SAAU,MAAM;QAC9B,MAAM,OAAO,CAAC,SAAU,IAAI;YAC1B,KAAK,QAAQ,MAAM;QACrB;IACF;AACF;AAEA,SAAS,OAAQ,MAAM,EAAE,IAAI;IAC3B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE;QAC5B,OAAO;QACP,OAAO,AAAC,IAAI,QAAS,KAAK;QAC1B;IACF;IAEA,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE;QAC1B,OAAO,qCAAqC,OAAO;IACrD,OAAO;QACL,OAAO,MAAM,CAAC,KAAK,CAAC,QAAQ;IAC9B;AACF;AAEA,SAAS,WAAY,OAAO,EAAE,KAAK;IACjC,IAAI,CAAC,SAAS;QACZ,OAAO;QACP,OAAO,AAAC,IAAI,QAAS,KAAK;QAC1B;IACF,OAAO,IAAI,CAAC,MAAM,OAAO,CAAC,UAAU;QAClC,UAAU;YAAC;SAAQ;IACrB;IAEA,IAAI,CAAC,CAAC,SAAS,MAAM,OAAO,CAAC,MAAM,GAAG;QACpC,OAAO;QACP;IACF;IAEA,QAAQ,OAAO,CAAC,SAAU,MAAM;QAC9B,MAAM,OAAO,CAAC,SAAU,IAAI;YAC1B,OAAO,QAAQ;QACjB;IACF;AACF;AAEA,QAAQ,IAAI,GAAG;AACf,QAAQ,QAAQ,GAAG;AACnB,QAAQ,MAAM,GAAG;AACjB,QAAQ,UAAU,GAAG;AAErB,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 5697, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5749, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/has-flag@4.0.0/node_modules/has-flag/index.js"],"sourcesContent":["'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n"],"names":[],"mappings":"AAAA;AAEA,OAAO,OAAO,GAAG,CAAC,MAAM,OAAO,QAAQ,IAAI;IAC1C,MAAM,SAAS,KAAK,UAAU,CAAC,OAAO,KAAM,KAAK,MAAM,KAAK,IAAI,MAAM;IACtE,MAAM,WAAW,KAAK,OAAO,CAAC,SAAS;IACvC,MAAM,qBAAqB,KAAK,OAAO,CAAC;IACxC,OAAO,aAAa,CAAC,KAAK,CAAC,uBAAuB,CAAC,KAAK,WAAW,kBAAkB;AACtF"}},
    {"offset": {"line": 5756, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5760, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/supports-color@7.2.0/node_modules/supports-color/index.js"],"sourcesContent":["'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n"],"names":[],"mappings":"AAAA;AACA,MAAM;AACN,MAAM;AACN,MAAM;AAEN,MAAM,EAAC,GAAG,EAAC,GAAG;AAEd,IAAI;AACJ,IAAI,QAAQ,eACX,QAAQ,gBACR,QAAQ,kBACR,QAAQ,gBAAgB;IACxB,aAAa;AACd,OAAO,IAAI,QAAQ,YAClB,QAAQ,aACR,QAAQ,iBACR,QAAQ,iBAAiB;IACzB,aAAa;AACd;AAEA,IAAI,iBAAiB,KAAK;IACzB,IAAI,IAAI,WAAW,KAAK,QAAQ;QAC/B,aAAa;IACd,OAAO,IAAI,IAAI,WAAW,KAAK,SAAS;QACvC,aAAa;IACd,OAAO;QACN,aAAa,IAAI,WAAW,CAAC,MAAM,KAAK,IAAI,IAAI,KAAK,GAAG,CAAC,SAAS,IAAI,WAAW,EAAE,KAAK;IACzF;AACD;AAEA,SAAS,eAAe,KAAK;IAC5B,IAAI,UAAU,GAAG;QAChB,OAAO;IACR;IAEA,OAAO;QACN;QACA,UAAU;QACV,QAAQ,SAAS;QACjB,QAAQ,SAAS;IAClB;AACD;AAEA,SAAS,cAAc,UAAU,EAAE,WAAW;IAC7C,IAAI,eAAe,GAAG;QACrB,OAAO;IACR;IAEA,IAAI,QAAQ,gBACX,QAAQ,iBACR,QAAQ,oBAAoB;QAC5B,OAAO;IACR;IAEA,IAAI,QAAQ,cAAc;QACzB,OAAO;IACR;IAEA,IAAI,cAAc,CAAC,eAAe,eAAe,WAAW;QAC3D,OAAO;IACR;IAEA,MAAM,MAAM,cAAc;IAE1B,IAAI,IAAI,IAAI,KAAK,QAAQ;QACxB,OAAO;IACR;IAEA,wCAAkC;QACjC,gFAAgF;QAChF,2EAA2E;QAC3E,MAAM,YAAY,GAAG,OAAO,GAAG,KAAK,CAAC;QACrC,IACC,OAAO,SAAS,CAAC,EAAE,KAAK,MACxB,OAAO,SAAS,CAAC,EAAE,KAAK,OACvB;YACD,OAAO,OAAO,SAAS,CAAC,EAAE,KAAK,QAAQ,IAAI;QAC5C;QAEA,OAAO;IACR;IAEA,IAAI,QAAQ,KAAK;QAChB,IAAI;YAAC;YAAU;YAAY;YAAY;YAAa;YAAkB;SAAY,CAAC,IAAI,CAAC,CAAA,OAAQ,QAAQ,QAAQ,IAAI,OAAO,KAAK,YAAY;YAC3I,OAAO;QACR;QAEA,OAAO;IACR;IAEA,IAAI,sBAAsB,KAAK;QAC9B,OAAO,gCAAgC,IAAI,CAAC,IAAI,gBAAgB,IAAI,IAAI;IACzE;IAEA,IAAI,IAAI,SAAS,KAAK,aAAa;QAClC,OAAO;IACR;IAEA,IAAI,kBAAkB,KAAK;QAC1B,MAAM,UAAU,SAAS,CAAC,IAAI,oBAAoB,IAAI,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;QAEzE,OAAQ,IAAI,YAAY;YACvB,KAAK;gBACJ,OAAO,WAAW,IAAI,IAAI;YAC3B,KAAK;gBACJ,OAAO;QAET;IACD;IAEA,IAAI,iBAAiB,IAAI,CAAC,IAAI,IAAI,GAAG;QACpC,OAAO;IACR;IAEA,IAAI,8DAA8D,IAAI,CAAC,IAAI,IAAI,GAAG;QACjF,OAAO;IACR;IAEA,IAAI,eAAe,KAAK;QACvB,OAAO;IACR;IAEA,OAAO;AACR;AAEA,SAAS,gBAAgB,MAAM;IAC9B,MAAM,QAAQ,cAAc,QAAQ,UAAU,OAAO,KAAK;IAC1D,OAAO,eAAe;AACvB;AAEA,OAAO,OAAO,GAAG;IAChB,eAAe;IACf,QAAQ,eAAe,cAAc,MAAM,IAAI,MAAM,CAAC;IACtD,QAAQ,eAAe,cAAc,MAAM,IAAI,MAAM,CAAC;AACvD"}},
    {"offset": {"line": 5865, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5869, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js"],"sourcesContent":["/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,IAAI,IAAI;AACR,IAAI,IAAI,IAAI;AACZ,IAAI,IAAI,IAAI;AACZ,IAAI,IAAI,IAAI;AACZ,IAAI,IAAI,IAAI;AACZ,IAAI,IAAI,IAAI;AAEZ;;;;;;;;;;;;CAYC,GAED,OAAO,OAAO,GAAG,SAAU,GAAG,EAAE,OAAO;IACrC,UAAU,WAAW,CAAC;IACtB,IAAI,OAAO,OAAO;IAClB,IAAI,SAAS,YAAY,IAAI,MAAM,GAAG,GAAG;QACvC,OAAO,MAAM;IACf,OAAO,IAAI,SAAS,YAAY,SAAS,MAAM;QAC7C,OAAO,QAAQ,IAAI,GAAG,QAAQ,OAAO,SAAS;IAChD;IACA,MAAM,IAAI,MACR,0DACE,KAAK,SAAS,CAAC;AAErB;AAEA;;;;;;CAMC,GAED,SAAS,MAAM,GAAG;IAChB,MAAM,OAAO;IACb,IAAI,IAAI,MAAM,GAAG,KAAK;QACpB;IACF;IACA,IAAI,QAAQ,mIAAmI,IAAI,CACjJ;IAEF,IAAI,CAAC,OAAO;QACV;IACF;IACA,IAAI,IAAI,WAAW,KAAK,CAAC,EAAE;IAC3B,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE,IAAI,IAAI,EAAE,WAAW;IACzC,OAAQ;QACN,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO,IAAI;QACb,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO,IAAI;QACb,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO,IAAI;QACb,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO,IAAI;QACb,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO,IAAI;QACb,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO,IAAI;QACb,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEA;;;;;;CAMC,GAED,SAAS,SAAS,EAAE;IAClB,IAAI,QAAQ,KAAK,GAAG,CAAC;IACrB,IAAI,SAAS,GAAG;QACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;IAC9B;IACA,IAAI,SAAS,GAAG;QACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;IAC9B;IACA,IAAI,SAAS,GAAG;QACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;IAC9B;IACA,IAAI,SAAS,GAAG;QACd,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;IAC9B;IACA,OAAO,KAAK;AACd;AAEA;;;;;;CAMC,GAED,SAAS,QAAQ,EAAE;IACjB,IAAI,QAAQ,KAAK,GAAG,CAAC;IACrB,IAAI,SAAS,GAAG;QACd,OAAO,OAAO,IAAI,OAAO,GAAG;IAC9B;IACA,IAAI,SAAS,GAAG;QACd,OAAO,OAAO,IAAI,OAAO,GAAG;IAC9B;IACA,IAAI,SAAS,GAAG;QACd,OAAO,OAAO,IAAI,OAAO,GAAG;IAC9B;IACA,IAAI,SAAS,GAAG;QACd,OAAO,OAAO,IAAI,OAAO,GAAG;IAC9B;IACA,OAAO,KAAK;AACd;AAEA;;CAEC,GAED,SAAS,OAAO,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI;IAChC,IAAI,WAAW,SAAS,IAAI;IAC5B,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK,MAAM,OAAO,CAAC,WAAW,MAAM,EAAE;AAC/D"}},
    {"offset": {"line": 6009, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6013, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/common.js"],"sourcesContent":["\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6248, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6252, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/node.js"],"sourcesContent":["/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6467, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6471, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/browser.js"],"sourcesContent":["/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6694, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6698, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/debug@4.4.1/node_modules/debug/src/index.js"],"sourcesContent":["/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED,IAAI,OAAO,YAAY,eAAe,QAAQ,IAAI,KAAK,cAAc,4CAAoB,QAAQ,QAAQ,MAAM,EAAE;IAChH,OAAO,OAAO;AACf,OAAO;IACN,OAAO,OAAO;AACf"}},
    {"offset": {"line": 6706, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6710, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/module-details-from-path@1.0.4/node_modules/module-details-from-path/index.js"],"sourcesContent":["'use strict'\n\nvar sep = require('path').sep\n\nmodule.exports = function (file) {\n  var segments = file.split(sep)\n  var index = segments.lastIndexOf('node_modules')\n\n  if (index === -1) return\n  if (!segments[index + 1]) return\n\n  var scoped = segments[index + 1][0] === '@'\n  var name = scoped ? segments[index + 1] + '/' + segments[index + 2] : segments[index + 1]\n  var offset = scoped ? 3 : 2\n\n  var basedir = ''\n  var lastBaseDirSegmentIndex = index + offset - 1\n  for (var i = 0; i <= lastBaseDirSegmentIndex; i++) {\n    if (i === lastBaseDirSegmentIndex) {\n      basedir += segments[i]\n    } else {\n      basedir += segments[i] + sep\n    }\n  }\n\n  var path = ''\n  var lastSegmentIndex = segments.length - 1\n  for (var i2 = index + offset; i2 <= lastSegmentIndex; i2++) {\n    if (i2 === lastSegmentIndex) {\n      path += segments[i2]\n    } else {\n      path += segments[i2] + sep\n    }\n  }\n\n  return {\n    name: name,\n    basedir: basedir,\n    path: path\n  }\n}\n"],"names":[],"mappings":"AAAA;AAEA,IAAI,MAAM,gBAAgB,GAAG;AAE7B,OAAO,OAAO,GAAG,SAAU,IAAI;IAC7B,IAAI,WAAW,KAAK,KAAK,CAAC;IAC1B,IAAI,QAAQ,SAAS,WAAW,CAAC;IAEjC,IAAI,UAAU,CAAC,GAAG;IAClB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE;IAE1B,IAAI,SAAS,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,KAAK;IACxC,IAAI,OAAO,SAAS,QAAQ,CAAC,QAAQ,EAAE,GAAG,MAAM,QAAQ,CAAC,QAAQ,EAAE,GAAG,QAAQ,CAAC,QAAQ,EAAE;IACzF,IAAI,SAAS,SAAS,IAAI;IAE1B,IAAI,UAAU;IACd,IAAI,0BAA0B,QAAQ,SAAS;IAC/C,IAAK,IAAI,IAAI,GAAG,KAAK,yBAAyB,IAAK;QACjD,IAAI,MAAM,yBAAyB;YACjC,WAAW,QAAQ,CAAC,EAAE;QACxB,OAAO;YACL,WAAW,QAAQ,CAAC,EAAE,GAAG;QAC3B;IACF;IAEA,IAAI,OAAO;IACX,IAAI,mBAAmB,SAAS,MAAM,GAAG;IACzC,IAAK,IAAI,KAAK,QAAQ,QAAQ,MAAM,kBAAkB,KAAM;QAC1D,IAAI,OAAO,kBAAkB;YAC3B,QAAQ,QAAQ,CAAC,GAAG;QACtB,OAAO;YACL,QAAQ,QAAQ,CAAC,GAAG,GAAG;QACzB;IACF;IAEA,OAAO;QACL,MAAM;QACN,SAAS;QACT,MAAM;IACR;AACF"}},
    {"offset": {"line": 6744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6748, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/homedir.js"],"sourcesContent":["'use strict';\n\nvar os = require('os');\n\n// adapted from https://github.com/sindresorhus/os-homedir/blob/11e089f4754db38bb535e5a8416320c4446e8cfd/index.js\n\nmodule.exports = os.homedir || function homedir() {\n    var home = process.env.HOME;\n    var user = process.env.LOGNAME || process.env.USER || process.env.LNAME || process.env.USERNAME;\n\n    if (process.platform === 'win32') {\n        return process.env.USERPROFILE || process.env.HOMEDRIVE + process.env.HOMEPATH || home || null;\n    }\n\n    if (process.platform === 'darwin') {\n        return home || (user ? '/Users/' + user : null);\n    }\n\n    if (process.platform === 'linux') {\n        return home || (process.getuid() === 0 ? '/root' : (user ? '/home/' + user : null)); // eslint-disable-line no-extra-parens\n    }\n\n    return home || null;\n};\n"],"names":[],"mappings":"AAAA;AAEA,IAAI;AAEJ,iHAAiH;AAEjH,OAAO,OAAO,GAAG,GAAG,OAAO,IAAI,SAAS;IACpC,IAAI,OAAO,QAAQ,GAAG,CAAC,IAAI;IAC3B,IAAI,OAAO,QAAQ,GAAG,CAAC,OAAO,IAAI,QAAQ,GAAG,CAAC,IAAI,IAAI,QAAQ,GAAG,CAAC,KAAK,IAAI,QAAQ,GAAG,CAAC,QAAQ;IAE/F,wCAAkC;QAC9B,OAAO,QAAQ,GAAG,CAAC,WAAW,IAAI,QAAQ,GAAG,CAAC,SAAS,GAAG,QAAQ,GAAG,CAAC,QAAQ,IAAI,QAAQ;IAC9F;IAEA;;;IAIA;;;IAIA,OAAO,QAAQ;AACnB"}},
    {"offset": {"line": 6765, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6769, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/caller.js"],"sourcesContent":["module.exports = function () {\n    // see https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\n    var origPrepareStackTrace = Error.prepareStackTrace;\n    Error.prepareStackTrace = function (_, stack) { return stack; };\n    var stack = (new Error()).stack;\n    Error.prepareStackTrace = origPrepareStackTrace;\n    return stack[2].getFileName();\n};\n"],"names":[],"mappings":"AAAA,OAAO,OAAO,GAAG;IACb,gEAAgE;IAChE,IAAI,wBAAwB,MAAM,iBAAiB;IACnD,MAAM,iBAAiB,GAAG,SAAU,CAAC,EAAE,KAAK;QAAI,OAAO;IAAO;IAC9D,IAAI,QAAQ,AAAC,IAAI,QAAS,KAAK;IAC/B,MAAM,iBAAiB,GAAG;IAC1B,OAAO,KAAK,CAAC,EAAE,CAAC,WAAW;AAC/B"}},
    {"offset": {"line": 6779, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6783, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/node-modules-paths.js"],"sourcesContent":["var path = require('path');\nvar parse = path.parse || require('path-parse'); // eslint-disable-line global-require\n\nvar getNodeModulesDirs = function getNodeModulesDirs(absoluteStart, modules) {\n    var prefix = '/';\n    if ((/^([A-Za-z]:)/).test(absoluteStart)) {\n        prefix = '';\n    } else if ((/^\\\\\\\\/).test(absoluteStart)) {\n        prefix = '\\\\\\\\';\n    }\n\n    var paths = [absoluteStart];\n    var parsed = parse(absoluteStart);\n    while (parsed.dir !== paths[paths.length - 1]) {\n        paths.push(parsed.dir);\n        parsed = parse(parsed.dir);\n    }\n\n    return paths.reduce(function (dirs, aPath) {\n        return dirs.concat(modules.map(function (moduleDir) {\n            return path.resolve(prefix, aPath, moduleDir);\n        }));\n    }, []);\n};\n\nmodule.exports = function nodeModulesPaths(start, opts, request) {\n    var modules = opts && opts.moduleDirectory\n        ? [].concat(opts.moduleDirectory)\n        : ['node_modules'];\n\n    if (opts && typeof opts.paths === 'function') {\n        return opts.paths(\n            request,\n            start,\n            function () { return getNodeModulesDirs(start, modules); },\n            opts\n        );\n    }\n\n    var dirs = getNodeModulesDirs(start, modules);\n    return opts && opts.paths ? dirs.concat(opts.paths) : dirs;\n};\n"],"names":[],"mappings":"AAAA,IAAI;AACJ,IAAI,QAAQ,KAAK,KAAK,oIAA2B,qCAAqC;AAEtF,IAAI,qBAAqB,SAAS,mBAAmB,aAAa,EAAE,OAAO;IACvE,IAAI,SAAS;IACb,IAAI,AAAC,eAAgB,IAAI,CAAC,gBAAgB;QACtC,SAAS;IACb,OAAO,IAAI,AAAC,QAAS,IAAI,CAAC,gBAAgB;QACtC,SAAS;IACb;IAEA,IAAI,QAAQ;QAAC;KAAc;IAC3B,IAAI,SAAS,MAAM;IACnB,MAAO,OAAO,GAAG,KAAK,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,CAAE;QAC3C,MAAM,IAAI,CAAC,OAAO,GAAG;QACrB,SAAS,MAAM,OAAO,GAAG;IAC7B;IAEA,OAAO,MAAM,MAAM,CAAC,SAAU,IAAI,EAAE,KAAK;QACrC,OAAO,KAAK,MAAM,CAAC,QAAQ,GAAG,CAAC,SAAU,SAAS;YAC9C,OAAO,KAAK,OAAO,CAAC,QAAQ,OAAO;QACvC;IACJ,GAAG,EAAE;AACT;AAEA,OAAO,OAAO,GAAG,SAAS,iBAAiB,KAAK,EAAE,IAAI,EAAE,OAAO;IAC3D,IAAI,UAAU,QAAQ,KAAK,eAAe,GACpC,EAAE,CAAC,MAAM,CAAC,KAAK,eAAe,IAC9B;QAAC;KAAe;IAEtB,IAAI,QAAQ,OAAO,KAAK,KAAK,KAAK,YAAY;QAC1C,OAAO,KAAK,KAAK,CACb,SACA,OACA;YAAc,OAAO,mBAAmB,OAAO;QAAU,GACzD;IAER;IAEA,IAAI,OAAO,mBAAmB,OAAO;IACrC,OAAO,QAAQ,KAAK,KAAK,GAAG,KAAK,MAAM,CAAC,KAAK,KAAK,IAAI;AAC1D"}},
    {"offset": {"line": 6818, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6822, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/normalize-options.js"],"sourcesContent":["module.exports = function (x, opts) {\n    /**\n     * This file is purposefully a passthrough. It's expected that third-party\n     * environments will override it at runtime in order to inject special logic\n     * into `resolve` (by manipulating the options). One such example is the PnP\n     * code path in Yarn.\n     */\n\n    return opts || {};\n};\n"],"names":[],"mappings":"AAAA,OAAO,OAAO,GAAG,SAAU,CAAC,EAAE,IAAI;IAC9B;;;;;KAKC,GAED,OAAO,QAAQ,CAAC;AACpB"}},
    {"offset": {"line": 6830, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6834, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/async.js"],"sourcesContent":["var fs = require('fs');\nvar getHomedir = require('./homedir');\nvar path = require('path');\nvar caller = require('./caller');\nvar nodeModulesPaths = require('./node-modules-paths');\nvar normalizeOptions = require('./normalize-options');\nvar isCore = require('is-core-module');\n\nvar realpathFS = process.platform !== 'win32' && fs.realpath && typeof fs.realpath.native === 'function' ? fs.realpath.native : fs.realpath;\n\nvar homedir = getHomedir();\nvar defaultPaths = function () {\n    return [\n        path.join(homedir, '.node_modules'),\n        path.join(homedir, '.node_libraries')\n    ];\n};\n\nvar defaultIsFile = function isFile(file, cb) {\n    fs.stat(file, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isFile() || stat.isFIFO());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultIsDir = function isDirectory(dir, cb) {\n    fs.stat(dir, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isDirectory());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultRealpath = function realpath(x, cb) {\n    realpathFS(x, function (realpathErr, realPath) {\n        if (realpathErr && realpathErr.code !== 'ENOENT') cb(realpathErr);\n        else cb(null, realpathErr ? x : realPath);\n    });\n};\n\nvar maybeRealpath = function maybeRealpath(realpath, x, opts, cb) {\n    if (opts && opts.preserveSymlinks === false) {\n        realpath(x, cb);\n    } else {\n        cb(null, x);\n    }\n};\n\nvar defaultReadPackage = function defaultReadPackage(readFile, pkgfile, cb) {\n    readFile(pkgfile, function (readFileErr, body) {\n        if (readFileErr) cb(readFileErr);\n        else {\n            try {\n                var pkg = JSON.parse(body);\n                cb(null, pkg);\n            } catch (jsonErr) {\n                cb(null);\n            }\n        }\n    });\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolve(x, options, callback) {\n    var cb = callback;\n    var opts = options;\n    if (typeof options === 'function') {\n        cb = opts;\n        opts = {};\n    }\n    if (typeof x !== 'string') {\n        var err = new TypeError('Path must be a string.');\n        return process.nextTick(function () {\n            cb(err);\n        });\n    }\n\n    opts = normalizeOptions(x, opts);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var readFile = opts.readFile || fs.readFile;\n    var realpath = opts.realpath || defaultRealpath;\n    var readPackage = opts.readPackage || defaultReadPackage;\n    if (opts.readFile && opts.readPackage) {\n        var conflictErr = new TypeError('`readFile` and `readPackage` are mutually exclusive.');\n        return process.nextTick(function () {\n            cb(conflictErr);\n        });\n    }\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var includeCoreModules = opts.includeCoreModules !== false;\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || defaultPaths();\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = path.resolve(basedir);\n\n    maybeRealpath(\n        realpath,\n        absoluteStart,\n        opts,\n        function (err, realStart) {\n            if (err) cb(err);\n            else init(realStart);\n        }\n    );\n\n    var res;\n    function init(basedir) {\n        if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n            res = path.resolve(basedir, x);\n            if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n            if ((/\\/$/).test(x) && res === basedir) {\n                loadAsDirectory(res, opts.package, onfile);\n            } else loadAsFile(res, opts.package, onfile);\n        } else if (includeCoreModules && isCore(x)) {\n            return cb(null, x);\n        } else loadNodeModules(x, basedir, function (err, n, pkg) {\n            if (err) cb(err);\n            else if (n) {\n                return maybeRealpath(realpath, n, opts, function (err, realN) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realN, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function onfile(err, m, pkg) {\n        if (err) cb(err);\n        else if (m) cb(null, m, pkg);\n        else loadAsDirectory(res, function (err, d, pkg) {\n            if (err) cb(err);\n            else if (d) {\n                maybeRealpath(realpath, d, opts, function (err, realD) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realD, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function loadAsFile(x, thePackage, callback) {\n        var loadAsFilePackage = thePackage;\n        var cb = callback;\n        if (typeof loadAsFilePackage === 'function') {\n            cb = loadAsFilePackage;\n            loadAsFilePackage = undefined;\n        }\n\n        var exts = [''].concat(extensions);\n        load(exts, x, loadAsFilePackage);\n\n        function load(exts, x, loadPackage) {\n            if (exts.length === 0) return cb(null, undefined, loadPackage);\n            var file = x + exts[0];\n\n            var pkg = loadPackage;\n            if (pkg) onpkg(null, pkg);\n            else loadpkg(path.dirname(file), onpkg);\n\n            function onpkg(err, pkg_, dir) {\n                pkg = pkg_;\n                if (err) return cb(err);\n                if (dir && pkg && opts.pathFilter) {\n                    var rfile = path.relative(dir, file);\n                    var rel = rfile.slice(0, rfile.length - exts[0].length);\n                    var r = opts.pathFilter(pkg, x, rel);\n                    if (r) return load(\n                        [''].concat(extensions.slice()),\n                        path.resolve(dir, r),\n                        pkg\n                    );\n                }\n                isFile(file, onex);\n            }\n            function onex(err, ex) {\n                if (err) return cb(err);\n                if (ex) return cb(null, file, pkg);\n                load(exts.slice(1), x, pkg);\n            }\n        }\n    }\n\n    function loadpkg(dir, cb) {\n        if (dir === '' || dir === '/') return cb(null);\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return cb(null);\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return cb(null);\n\n        maybeRealpath(realpath, dir, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return loadpkg(path.dirname(dir), cb);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                // on err, ex is false\n                if (!ex) return loadpkg(path.dirname(dir), cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n                    cb(null, pkg, dir);\n                });\n            });\n        });\n    }\n\n    function loadAsDirectory(x, loadAsDirectoryPackage, callback) {\n        var cb = callback;\n        var fpkg = loadAsDirectoryPackage;\n        if (typeof fpkg === 'function') {\n            cb = fpkg;\n            fpkg = opts.package;\n        }\n\n        maybeRealpath(realpath, x, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return cb(unwrapErr);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                if (err) return cb(err);\n                if (!ex) return loadAsFile(path.join(x, 'index'), fpkg, cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) return cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n\n                    if (pkg && pkg.main) {\n                        if (typeof pkg.main !== 'string') {\n                            var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                            mainError.code = 'INVALID_PACKAGE_MAIN';\n                            return cb(mainError);\n                        }\n                        if (pkg.main === '.' || pkg.main === './') {\n                            pkg.main = 'index';\n                        }\n                        loadAsFile(path.resolve(x, pkg.main), pkg, function (err, m, pkg) {\n                            if (err) return cb(err);\n                            if (m) return cb(null, m, pkg);\n                            if (!pkg) return loadAsFile(path.join(x, 'index'), pkg, cb);\n\n                            var dir = path.resolve(x, pkg.main);\n                            loadAsDirectory(dir, pkg, function (err, n, pkg) {\n                                if (err) return cb(err);\n                                if (n) return cb(null, n, pkg);\n                                loadAsFile(path.join(x, 'index'), pkg, cb);\n                            });\n                        });\n                        return;\n                    }\n\n                    loadAsFile(path.join(x, '/index'), pkg, cb);\n                });\n            });\n        });\n    }\n\n    function processDirs(cb, dirs) {\n        if (dirs.length === 0) return cb(null, undefined);\n        var dir = dirs[0];\n\n        isDirectory(path.dirname(dir), isdir);\n\n        function isdir(err, isdir) {\n            if (err) return cb(err);\n            if (!isdir) return processDirs(cb, dirs.slice(1));\n            loadAsFile(dir, opts.package, onfile);\n        }\n\n        function onfile(err, m, pkg) {\n            if (err) return cb(err);\n            if (m) return cb(null, m, pkg);\n            loadAsDirectory(dir, opts.package, ondir);\n        }\n\n        function ondir(err, n, pkg) {\n            if (err) return cb(err);\n            if (n) return cb(null, n, pkg);\n            processDirs(cb, dirs.slice(1));\n        }\n    }\n    function loadNodeModules(x, start, cb) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        processDirs(\n            cb,\n            packageIterator ? packageIterator(x, start, thunk, opts) : thunk()\n        );\n    }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7127, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/core.js"],"sourcesContent":["'use strict';\n\nvar isCoreModule = require('is-core-module');\nvar data = require('./core.json');\n\nvar core = {};\nfor (var mod in data) { // eslint-disable-line no-restricted-syntax\n    if (Object.prototype.hasOwnProperty.call(data, mod)) {\n        core[mod] = isCoreModule(mod);\n    }\n}\nmodule.exports = core;\n"],"names":[],"mappings":"AAAA;AAEA,IAAI;AACJ,IAAI;AAEJ,IAAI,OAAO,CAAC;AACZ,IAAK,IAAI,OAAO,KAAM;IAClB,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,MAAM;QACjD,IAAI,CAAC,IAAI,GAAG,aAAa;IAC7B;AACJ;AACA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 7137, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7141, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/is-core.js"],"sourcesContent":["var isCoreModule = require('is-core-module');\n\nmodule.exports = function isCore(x) {\n    return isCoreModule(x);\n};\n"],"names":[],"mappings":"AAAA,IAAI;AAEJ,OAAO,OAAO,GAAG,SAAS,OAAO,CAAC;IAC9B,OAAO,aAAa;AACxB"}},
    {"offset": {"line": 7145, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7149, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/lib/sync.js"],"sourcesContent":["var isCore = require('is-core-module');\nvar fs = require('fs');\nvar path = require('path');\nvar getHomedir = require('./homedir');\nvar caller = require('./caller');\nvar nodeModulesPaths = require('./node-modules-paths');\nvar normalizeOptions = require('./normalize-options');\n\nvar realpathFS = process.platform !== 'win32' && fs.realpathSync && typeof fs.realpathSync.native === 'function' ? fs.realpathSync.native : fs.realpathSync;\n\nvar homedir = getHomedir();\nvar defaultPaths = function () {\n    return [\n        path.join(homedir, '.node_modules'),\n        path.join(homedir, '.node_libraries')\n    ];\n};\n\nvar defaultIsFile = function isFile(file) {\n    try {\n        var stat = fs.statSync(file, { throwIfNoEntry: false });\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return !!stat && (stat.isFile() || stat.isFIFO());\n};\n\nvar defaultIsDir = function isDirectory(dir) {\n    try {\n        var stat = fs.statSync(dir, { throwIfNoEntry: false });\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return !!stat && stat.isDirectory();\n};\n\nvar defaultRealpathSync = function realpathSync(x) {\n    try {\n        return realpathFS(x);\n    } catch (realpathErr) {\n        if (realpathErr.code !== 'ENOENT') {\n            throw realpathErr;\n        }\n    }\n    return x;\n};\n\nvar maybeRealpathSync = function maybeRealpathSync(realpathSync, x, opts) {\n    if (opts && opts.preserveSymlinks === false) {\n        return realpathSync(x);\n    }\n    return x;\n};\n\nvar defaultReadPackageSync = function defaultReadPackageSync(readFileSync, pkgfile) {\n    var body = readFileSync(pkgfile);\n    try {\n        var pkg = JSON.parse(body);\n        return pkg;\n    } catch (jsonErr) {}\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolveSync(x, options) {\n    if (typeof x !== 'string') {\n        throw new TypeError('Path must be a string.');\n    }\n    var opts = normalizeOptions(x, options);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var readFileSync = opts.readFileSync || fs.readFileSync;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var realpathSync = opts.realpathSync || defaultRealpathSync;\n    var readPackageSync = opts.readPackageSync || defaultReadPackageSync;\n    if (opts.readFileSync && opts.readPackageSync) {\n        throw new TypeError('`readFileSync` and `readPackageSync` are mutually exclusive.');\n    }\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var includeCoreModules = opts.includeCoreModules !== false;\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || defaultPaths();\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = maybeRealpathSync(realpathSync, path.resolve(basedir), opts);\n\n    if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n        var res = path.resolve(absoluteStart, x);\n        if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n        var m = loadAsFileSync(res) || loadAsDirectorySync(res);\n        if (m) return maybeRealpathSync(realpathSync, m, opts);\n    } else if (includeCoreModules && isCore(x)) {\n        return x;\n    } else {\n        var n = loadNodeModulesSync(x, absoluteStart);\n        if (n) return maybeRealpathSync(realpathSync, n, opts);\n    }\n\n    var err = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n\n    function loadAsFileSync(x) {\n        var pkg = loadpkg(path.dirname(x));\n\n        if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {\n            var rfile = path.relative(pkg.dir, x);\n            var r = opts.pathFilter(pkg.pkg, x, rfile);\n            if (r) {\n                x = path.resolve(pkg.dir, r); // eslint-disable-line no-param-reassign\n            }\n        }\n\n        if (isFile(x)) {\n            return x;\n        }\n\n        for (var i = 0; i < extensions.length; i++) {\n            var file = x + extensions[i];\n            if (isFile(file)) {\n                return file;\n            }\n        }\n    }\n\n    function loadpkg(dir) {\n        if (dir === '' || dir === '/') return;\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return;\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return;\n\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, dir, opts), 'package.json');\n\n        if (!isFile(pkgfile)) {\n            return loadpkg(path.dirname(dir));\n        }\n\n        var pkg = readPackageSync(readFileSync, pkgfile);\n\n        if (pkg && opts.packageFilter) {\n            // v2 will pass pkgfile\n            pkg = opts.packageFilter(pkg, /*pkgfile,*/ dir); // eslint-disable-line spaced-comment\n        }\n\n        return { pkg: pkg, dir: dir };\n    }\n\n    function loadAsDirectorySync(x) {\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, x, opts), '/package.json');\n        if (isFile(pkgfile)) {\n            try {\n                var pkg = readPackageSync(readFileSync, pkgfile);\n            } catch (e) {}\n\n            if (pkg && opts.packageFilter) {\n                // v2 will pass pkgfile\n                pkg = opts.packageFilter(pkg, /*pkgfile,*/ x); // eslint-disable-line spaced-comment\n            }\n\n            if (pkg && pkg.main) {\n                if (typeof pkg.main !== 'string') {\n                    var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                    mainError.code = 'INVALID_PACKAGE_MAIN';\n                    throw mainError;\n                }\n                if (pkg.main === '.' || pkg.main === './') {\n                    pkg.main = 'index';\n                }\n                try {\n                    var m = loadAsFileSync(path.resolve(x, pkg.main));\n                    if (m) return m;\n                    var n = loadAsDirectorySync(path.resolve(x, pkg.main));\n                    if (n) return n;\n                } catch (e) {}\n            }\n        }\n\n        return loadAsFileSync(path.join(x, '/index'));\n    }\n\n    function loadNodeModulesSync(x, start) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        var dirs = packageIterator ? packageIterator(x, start, thunk, opts) : thunk();\n\n        for (var i = 0; i < dirs.length; i++) {\n            var dir = dirs[i];\n            if (isDirectory(path.dirname(dir))) {\n                var m = loadAsFileSync(dir);\n                if (m) return m;\n                var n = loadAsDirectorySync(dir);\n                if (n) return n;\n            }\n        }\n    }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7337, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7341, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/resolve@1.22.8/node_modules/resolve/index.js"],"sourcesContent":["var async = require('./lib/async');\nasync.core = require('./lib/core');\nasync.isCore = require('./lib/is-core');\nasync.sync = require('./lib/sync');\n\nmodule.exports = async;\n"],"names":[],"mappings":"AAAA,IAAI;AACJ,MAAM,IAAI;AACV,MAAM,MAAM;AACZ,MAAM,IAAI;AAEV,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 7346, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7350, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/path-parse@1.0.7/node_modules/path-parse/index.js"],"sourcesContent":["'use strict';\n\nvar isWindows = process.platform === 'win32';\n\n// Regex to split a windows path into into [dir, root, basename, name, ext]\nvar splitWindowsRe =\n    /^(((?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?[\\\\\\/]?)(?:[^\\\\\\/]*[\\\\\\/])*)((\\.{1,2}|[^\\\\\\/]+?|)(\\.[^.\\/\\\\]*|))[\\\\\\/]*$/;\n\nvar win32 = {};\n\nfunction win32SplitPath(filename) {\n  return splitWindowsRe.exec(filename).slice(1);\n}\n\nwin32.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = win32SplitPath(pathString);\n  if (!allParts || allParts.length !== 5) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  return {\n    root: allParts[1],\n    dir: allParts[0] === allParts[1] ? allParts[0] : allParts[0].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[4],\n    name: allParts[3]\n  };\n};\n\n\n\n// Split a filename into [dir, root, basename, name, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^((\\/?)(?:[^\\/]*\\/)*)((\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))[\\/]*$/;\nvar posix = {};\n\n\nfunction posixSplitPath(filename) {\n  return splitPathRe.exec(filename).slice(1);\n}\n\n\nposix.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = posixSplitPath(pathString);\n  if (!allParts || allParts.length !== 5) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  \n  return {\n    root: allParts[1],\n    dir: allParts[0].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[4],\n    name: allParts[3],\n  };\n};\n\n\nif (isWindows)\n  module.exports = win32.parse;\nelse /* posix */\n  module.exports = posix.parse;\n\nmodule.exports.posix = posix.parse;\nmodule.exports.win32 = win32.parse;\n"],"names":[],"mappings":"AAAA;AAEA,IAAI,YAAY,QAAQ,QAAQ,KAAK;AAErC,2EAA2E;AAC3E,IAAI,iBACA;AAEJ,IAAI,QAAQ,CAAC;AAEb,SAAS,eAAe,QAAQ;IAC9B,OAAO,eAAe,IAAI,CAAC,UAAU,KAAK,CAAC;AAC7C;AAEA,MAAM,KAAK,GAAG,SAAS,UAAU;IAC/B,IAAI,OAAO,eAAe,UAAU;QAClC,MAAM,IAAI,UACN,kDAAkD,OAAO;IAE/D;IACA,IAAI,WAAW,eAAe;IAC9B,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;QACtC,MAAM,IAAI,UAAU,mBAAmB,aAAa;IACtD;IACA,OAAO;QACL,MAAM,QAAQ,CAAC,EAAE;QACjB,KAAK,QAAQ,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;QACvE,MAAM,QAAQ,CAAC,EAAE;QACjB,KAAK,QAAQ,CAAC,EAAE;QAChB,MAAM,QAAQ,CAAC,EAAE;IACnB;AACF;AAIA,uEAAuE;AACvE,sCAAsC;AACtC,IAAI,cACA;AACJ,IAAI,QAAQ,CAAC;AAGb,SAAS,eAAe,QAAQ;IAC9B,OAAO,YAAY,IAAI,CAAC,UAAU,KAAK,CAAC;AAC1C;AAGA,MAAM,KAAK,GAAG,SAAS,UAAU;IAC/B,IAAI,OAAO,eAAe,UAAU;QAClC,MAAM,IAAI,UACN,kDAAkD,OAAO;IAE/D;IACA,IAAI,WAAW,eAAe;IAC9B,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;QACtC,MAAM,IAAI,UAAU,mBAAmB,aAAa;IACtD;IAEA,OAAO;QACL,MAAM,QAAQ,CAAC,EAAE;QACjB,KAAK,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;QAC3B,MAAM,QAAQ,CAAC,EAAE;QACjB,KAAK,QAAQ,CAAC,EAAE;QAChB,MAAM,QAAQ,CAAC,EAAE;IACnB;AACF;AAGA,wCACE,OAAO,OAAO,GAAG,MAAM,KAAK;;;;AAI9B,OAAO,OAAO,CAAC,KAAK,GAAG,MAAM,KAAK;AAClC,OAAO,OAAO,CAAC,KAAK,GAAG,MAAM,KAAK"}},
    {"offset": {"line": 7403, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7407, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/implementation.js"],"sourcesContent":["'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n"],"names":[],"mappings":"AAAA;AAEA,6BAA6B,GAE7B,IAAI,gBAAgB;AACpB,IAAI,QAAQ,OAAO,SAAS,CAAC,QAAQ;AACrC,IAAI,MAAM,KAAK,GAAG;AAClB,IAAI,WAAW;AAEf,IAAI,WAAW,SAAS,SAAS,CAAC,EAAE,CAAC;IACjC,IAAI,MAAM,EAAE;IAEZ,IAAK,IAAI,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,KAAK,EAAG;QAClC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACjB;IACA,IAAK,IAAI,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,KAAK,EAAG;QAClC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;IAC5B;IAEA,OAAO;AACX;AAEA,IAAI,QAAQ,SAAS,MAAM,OAAO,EAAE,MAAM;IACtC,IAAI,MAAM,EAAE;IACZ,IAAK,IAAI,IAAI,UAAU,GAAG,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,KAAK,GAAG,KAAK,EAAG;QACjE,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE;IACvB;IACA,OAAO;AACX;AAEA,IAAI,QAAQ,SAAU,GAAG,EAAE,MAAM;IAC7B,IAAI,MAAM;IACV,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,KAAK,EAAG;QACpC,OAAO,GAAG,CAAC,EAAE;QACb,IAAI,IAAI,IAAI,IAAI,MAAM,EAAE;YACpB,OAAO;QACX;IACJ;IACA,OAAO;AACX;AAEA,OAAO,OAAO,GAAG,SAAS,KAAK,IAAI;IAC/B,IAAI,SAAS,IAAI;IACjB,IAAI,OAAO,WAAW,cAAc,MAAM,KAAK,CAAC,YAAY,UAAU;QAClE,MAAM,IAAI,UAAU,gBAAgB;IACxC;IACA,IAAI,OAAO,MAAM,WAAW;IAE5B,IAAI;IACJ,IAAI,SAAS;QACT,IAAI,IAAI,YAAY,OAAO;YACvB,IAAI,SAAS,OAAO,KAAK,CACrB,IAAI,EACJ,SAAS,MAAM;YAEnB,IAAI,OAAO,YAAY,QAAQ;gBAC3B,OAAO;YACX;YACA,OAAO,IAAI;QACf;QACA,OAAO,OAAO,KAAK,CACf,MACA,SAAS,MAAM;IAGvB;IAEA,IAAI,cAAc,IAAI,GAAG,OAAO,MAAM,GAAG,KAAK,MAAM;IACpD,IAAI,YAAY,EAAE;IAClB,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,IAAK;QAClC,SAAS,CAAC,EAAE,GAAG,MAAM;IACzB;IAEA,QAAQ,SAAS,UAAU,sBAAsB,MAAM,WAAW,OAAO,6CAA6C;IAEtH,IAAI,OAAO,SAAS,EAAE;QAClB,IAAI,QAAQ,SAAS,SAAS;QAC9B,MAAM,SAAS,GAAG,OAAO,SAAS;QAClC,MAAM,SAAS,GAAG,IAAI;QACtB,MAAM,SAAS,GAAG;IACtB;IAEA,OAAO;AACX"}},
    {"offset": {"line": 7470, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7474, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/index.js"],"sourcesContent":["'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n"],"names":[],"mappings":"AAAA;AAEA,IAAI;AAEJ,OAAO,OAAO,GAAG,SAAS,SAAS,CAAC,IAAI,IAAI"}},
    {"offset": {"line": 7477, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7481, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/hasown@2.0.2/node_modules/hasown/index.js"],"sourcesContent":["'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n"],"names":[],"mappings":"AAAA;AAEA,IAAI,OAAO,SAAS,SAAS,CAAC,IAAI;AAClC,IAAI,UAAU,OAAO,SAAS,CAAC,cAAc;AAC7C,IAAI;AAEJ,wBAAwB,GACxB,OAAO,OAAO,GAAG,KAAK,IAAI,CAAC,MAAM"}},
    {"offset": {"line": 7486, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7494, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/is-core-module@2.16.1/node_modules/is-core-module/index.js"],"sourcesContent":["'use strict';\n\nvar hasOwn = require('hasown');\n\nfunction specifierIncluded(current, specifier) {\n\tvar nodeParts = current.split('.');\n\tvar parts = specifier.split(' ');\n\tvar op = parts.length > 1 ? parts[0] : '=';\n\tvar versionParts = (parts.length > 1 ? parts[1] : parts[0]).split('.');\n\n\tfor (var i = 0; i < 3; ++i) {\n\t\tvar cur = parseInt(nodeParts[i] || 0, 10);\n\t\tvar ver = parseInt(versionParts[i] || 0, 10);\n\t\tif (cur === ver) {\n\t\t\tcontinue; // eslint-disable-line no-restricted-syntax, no-continue\n\t\t}\n\t\tif (op === '<') {\n\t\t\treturn cur < ver;\n\t\t}\n\t\tif (op === '>=') {\n\t\t\treturn cur >= ver;\n\t\t}\n\t\treturn false;\n\t}\n\treturn op === '>=';\n}\n\nfunction matchesRange(current, range) {\n\tvar specifiers = range.split(/ ?&& ?/);\n\tif (specifiers.length === 0) {\n\t\treturn false;\n\t}\n\tfor (var i = 0; i < specifiers.length; ++i) {\n\t\tif (!specifierIncluded(current, specifiers[i])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction versionIncluded(nodeVersion, specifierValue) {\n\tif (typeof specifierValue === 'boolean') {\n\t\treturn specifierValue;\n\t}\n\n\tvar current = typeof nodeVersion === 'undefined'\n\t\t? process.versions && process.versions.node\n\t\t: nodeVersion;\n\n\tif (typeof current !== 'string') {\n\t\tthrow new TypeError(typeof nodeVersion === 'undefined' ? 'Unable to determine current node version' : 'If provided, a valid node version is required');\n\t}\n\n\tif (specifierValue && typeof specifierValue === 'object') {\n\t\tfor (var i = 0; i < specifierValue.length; ++i) {\n\t\t\tif (matchesRange(current, specifierValue[i])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\treturn matchesRange(current, specifierValue);\n}\n\nvar data = require('./core.json');\n\nmodule.exports = function isCore(x, nodeVersion) {\n\treturn hasOwn(data, x) && versionIncluded(nodeVersion, data[x]);\n};\n"],"names":[],"mappings":"AAAA;AAEA,IAAI;AAEJ,SAAS,kBAAkB,OAAO,EAAE,SAAS;IAC5C,IAAI,YAAY,QAAQ,KAAK,CAAC;IAC9B,IAAI,QAAQ,UAAU,KAAK,CAAC;IAC5B,IAAI,KAAK,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG;IACvC,IAAI,eAAe,CAAC,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC;IAElE,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,EAAE,EAAG;QAC3B,IAAI,MAAM,SAAS,SAAS,CAAC,EAAE,IAAI,GAAG;QACtC,IAAI,MAAM,SAAS,YAAY,CAAC,EAAE,IAAI,GAAG;QACzC,IAAI,QAAQ,KAAK;YAChB,UAAU,wDAAwD;QACnE;QACA,IAAI,OAAO,KAAK;YACf,OAAO,MAAM;QACd;QACA,IAAI,OAAO,MAAM;YAChB,OAAO,OAAO;QACf;QACA,OAAO;IACR;IACA,OAAO,OAAO;AACf;AAEA,SAAS,aAAa,OAAO,EAAE,KAAK;IACnC,IAAI,aAAa,MAAM,KAAK,CAAC;IAC7B,IAAI,WAAW,MAAM,KAAK,GAAG;QAC5B,OAAO;IACR;IACA,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,MAAM,EAAE,EAAE,EAAG;QAC3C,IAAI,CAAC,kBAAkB,SAAS,UAAU,CAAC,EAAE,GAAG;YAC/C,OAAO;QACR;IACD;IACA,OAAO;AACR;AAEA,SAAS,gBAAgB,WAAW,EAAE,cAAc;IACnD,IAAI,OAAO,mBAAmB,WAAW;QACxC,OAAO;IACR;IAEA,IAAI,UAAU,OAAO,gBAAgB,cAClC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,IAAI,GACzC;IAEH,IAAI,OAAO,YAAY,UAAU;QAChC,MAAM,IAAI,UAAU,OAAO,gBAAgB,cAAc,6CAA6C;IACvG;IAEA,IAAI,kBAAkB,OAAO,mBAAmB,UAAU;QACzD,IAAK,IAAI,IAAI,GAAG,IAAI,eAAe,MAAM,EAAE,EAAE,EAAG;YAC/C,IAAI,aAAa,SAAS,cAAc,CAAC,EAAE,GAAG;gBAC7C,OAAO;YACR;QACD;QACA,OAAO;IACR;IACA,OAAO,aAAa,SAAS;AAC9B;AAEA,IAAI;AAEJ,OAAO,OAAO,GAAG,SAAS,OAAO,CAAC,EAAE,WAAW;IAC9C,OAAO,OAAO,MAAM,MAAM,gBAAgB,aAAa,IAAI,CAAC,EAAE;AAC/D"}},
    {"offset": {"line": 7551, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7559, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/require-in-the-middle@7.5.2/node_modules/require-in-the-middle/index.js"],"sourcesContent":["'use strict'\n\nconst path = require('path')\nconst Module = require('module')\nconst debug = require('debug')('require-in-the-middle')\nconst moduleDetailsFromPath = require('module-details-from-path')\n\n// Using the default export is discouraged, but kept for backward compatibility.\n// Use this instead:\n//    const { Hook } = require('require-in-the-middle')\nmodule.exports = Hook\nmodule.exports.Hook = Hook\n\nlet builtinModules // Set<string>\n\n/**\n * Is the given module a \"core\" module?\n * https://nodejs.org/api/modules.html#core-modules\n *\n * @type {(moduleName: string) => boolean}\n */\nlet isCore\nif (Module.isBuiltin) { // Added in node v18.6.0, v16.17.0\n  isCore = Module.isBuiltin\n} else if (Module.builtinModules) { // Added in node v9.3.0, v8.10.0, v6.13.0\n  isCore = moduleName => {\n    if (moduleName.startsWith('node:')) {\n      return true\n    }\n\n    if (builtinModules === undefined) {\n      builtinModules = new Set(Module.builtinModules)\n    }\n\n    return builtinModules.has(moduleName)\n  }\n} else {\n  const _resolve = require('resolve')\n  const [major, minor] = process.versions.node.split('.').map(Number)\n  if (major === 8 && minor < 8) {\n    // For node versions `[8.0, 8.8)` the \"http2\" module was built-in but\n    // behind the `--expose-http2` flag. `resolve` only considers unflagged\n    // modules to be core: https://github.com/browserify/resolve/issues/139\n    // However, for `ExportsCache` to work for \"http2\" we need it to be\n    // considered core.\n    isCore = moduleName => {\n      if (moduleName === 'http2') {\n        return true\n      }\n      // Prefer `resolve.core` lookup to `resolve.isCore(moduleName)` because\n      // the latter is doing version range matches for every call.\n      return !!_resolve.core[moduleName]\n    }\n  } else {\n    isCore = moduleName => {\n      // Prefer `resolve.core` lookup to `resolve.isCore(moduleName)` because\n      // the latter is doing version range matches for every call.\n      return !!_resolve.core[moduleName]\n    }\n  }\n}\n\nlet _resolve\n\nfunction resolve (moduleName, basedir) {\n  // Feature detection: This property was added in Node.js 8.9.0, the same time\n  // as the `paths` options argument was added to the `require.resolve` function,\n  // which is the one we want\n  if (!_resolve) {\n    // require.resolve might be undefined when using Node SEA mode:\n    // https://nodejs.org/api/single-executable-applications.html\n    // Also see https://github.com/nodejs/require-in-the-middle/issues/105\n    if (require.resolve && require.resolve.paths) {\n      _resolve = function (moduleName, basedir) {\n        return require.resolve(moduleName, { paths: [basedir] })\n      }\n    } else {\n      const resolve = require('resolve')\n      _resolve = function (moduleName, basedir) {\n        return resolve.sync(moduleName, { basedir })\n      }\n    }\n  }\n\n  return _resolve(moduleName, basedir)\n}\n\n// 'foo/bar.js' or 'foo/bar/index.js' => 'foo/bar'\nconst normalize = /([/\\\\]index)?(\\.js)?$/\n\n// Cache `onrequire`-patched exports for modules.\n//\n// Exports for built-in (a.k.a. \"core\") modules are stored in an internal Map.\n//\n// Exports for non-core modules are stored on a private field on the `Module`\n// object in `require.cache`. This allows users to delete from `require.cache`\n// to trigger a re-load (and re-run of the hook's `onrequire`) of a module the\n// next time it is required.\n// https://nodejs.org/docs/latest/api/all.html#all_modules_requirecache\n//\n// In some special cases -- e.g. some other `require()` hook swapping out\n// `Module._cache` like `@babel/register` -- a non-core module won't be in\n// `require.cache`. In that case this falls back to caching on the internal Map.\nclass ExportsCache {\n  constructor () {\n    this._localCache = new Map() // <module filename or id> -> <exports>\n    this._kRitmExports = Symbol('RitmExports')\n  }\n\n  has (filename, isBuiltin) {\n    if (this._localCache.has(filename)) {\n      return true\n    } else if (!isBuiltin) {\n      const mod = require.cache[filename]\n      return !!(mod && this._kRitmExports in mod)\n    } else {\n      return false\n    }\n  }\n\n  get (filename, isBuiltin) {\n    const cachedExports = this._localCache.get(filename)\n    if (cachedExports !== undefined) {\n      return cachedExports\n    } else if (!isBuiltin) {\n      const mod = require.cache[filename]\n      return (mod && mod[this._kRitmExports])\n    }\n  }\n\n  set (filename, exports, isBuiltin) {\n    if (isBuiltin) {\n      this._localCache.set(filename, exports)\n    } else if (filename in require.cache) {\n      require.cache[filename][this._kRitmExports] = exports\n    } else {\n      debug('non-core module is unexpectedly not in require.cache: \"%s\"', filename)\n      this._localCache.set(filename, exports)\n    }\n  }\n}\n\nfunction Hook (modules, options, onrequire) {\n  if ((this instanceof Hook) === false) return new Hook(modules, options, onrequire)\n  if (typeof modules === 'function') {\n    onrequire = modules\n    modules = null\n    options = null\n  } else if (typeof options === 'function') {\n    onrequire = options\n    options = null\n  }\n\n  if (typeof Module._resolveFilename !== 'function') {\n    console.error('Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!', typeof Module._resolveFilename)\n    console.error('Please report this error as an issue related to Node.js %s at %s', process.version, require('./package.json').bugs.url)\n    return\n  }\n\n  this._cache = new ExportsCache()\n\n  this._unhooked = false\n  this._origRequire = Module.prototype.require\n\n  const self = this\n  const patching = new Set()\n  const internals = options ? options.internals === true : false\n  const hasWhitelist = Array.isArray(modules)\n\n  debug('registering require hook')\n\n  this._require = Module.prototype.require = function (id) {\n    if (self._unhooked === true) {\n      // if the patched require function could not be removed because\n      // someone else patched it after it was patched here, we just\n      // abort and pass the request onwards to the original require\n      debug('ignoring require call - module is soft-unhooked')\n      return self._origRequire.apply(this, arguments)\n    }\n\n    return patchedRequire.call(this, arguments, false)\n  }\n\n  if (typeof process.getBuiltinModule === 'function') {\n    this._origGetBuiltinModule = process.getBuiltinModule\n    this._getBuiltinModule = process.getBuiltinModule = function (id) {\n      if (self._unhooked === true) {\n        // if the patched process.getBuiltinModule function could not be removed because\n        // someone else patched it after it was patched here, we just abort and pass the\n        // request onwards to the original process.getBuiltinModule\n        debug('ignoring process.getBuiltinModule call - module is soft-unhooked')\n        return self._origGetBuiltinModule.apply(this, arguments)\n      }\n\n      return patchedRequire.call(this, arguments, true)\n    }\n  }\n\n  // Preserve the original require/process.getBuiltinModule arguments in `args`\n  function patchedRequire (args, coreOnly) {\n    const id = args[0]\n    const core = isCore(id)\n    let filename // the string used for caching\n    if (core) {\n      filename = id\n      // If this is a builtin module that can be identified both as 'foo' and\n      // 'node:foo', then prefer 'foo' as the caching key.\n      if (id.startsWith('node:')) {\n        const idWithoutPrefix = id.slice(5)\n        if (isCore(idWithoutPrefix)) {\n          filename = idWithoutPrefix\n        }\n      }\n    } else if (coreOnly) {\n      // `coreOnly` is `true` if this was a call to `process.getBuiltinModule`, in which case\n      // we don't want to return anything if the requested `id` isn't a core module. Falling\n      // back to default behaviour, which at the time of this wrting is simply returning `undefined`\n      debug('call to process.getBuiltinModule with unknown built-in id')\n      return self._origGetBuiltinModule.apply(this, args)\n    } else {\n      try {\n        filename = Module._resolveFilename(id, this)\n      } catch (resolveErr) {\n        // If someone *else* monkey-patches before this monkey-patch, then that\n        // code might expect `require(someId)` to get through so it can be\n        // handled, even if `someId` cannot be resolved to a filename. In this\n        // case, instead of throwing we defer to the underlying `require`.\n        //\n        // For example the Azure Functions Node.js worker module does this,\n        // where `@azure/functions-core` resolves to an internal object.\n        // https://github.com/Azure/azure-functions-nodejs-worker/blob/v3.5.2/src/setupCoreModule.ts#L46-L54\n        debug('Module._resolveFilename(\"%s\") threw %j, calling original Module.require', id, resolveErr.message)\n        return self._origRequire.apply(this, args)\n      }\n    }\n\n    let moduleName, basedir\n\n    debug('processing %s module require(\\'%s\\'): %s', core === true ? 'core' : 'non-core', id, filename)\n\n    // return known patched modules immediately\n    if (self._cache.has(filename, core) === true) {\n      debug('returning already patched cached module: %s', filename)\n      return self._cache.get(filename, core)\n    }\n\n    // Check if this module has a patcher in-progress already.\n    // Otherwise, mark this module as patching in-progress.\n    const isPatching = patching.has(filename)\n    if (isPatching === false) {\n      patching.add(filename)\n    }\n\n    const exports = coreOnly\n      ? self._origGetBuiltinModule.apply(this, args)\n      : self._origRequire.apply(this, args)\n\n    // If it's already patched, just return it as-is.\n    if (isPatching === true) {\n      debug('module is in the process of being patched already - ignoring: %s', filename)\n      return exports\n    }\n\n    // The module has already been loaded,\n    // so the patching mark can be cleaned up.\n    patching.delete(filename)\n\n    if (core === true) {\n      if (hasWhitelist === true && modules.includes(filename) === false) {\n        debug('ignoring core module not on whitelist: %s', filename)\n        return exports // abort if module name isn't on whitelist\n      }\n      moduleName = filename\n    } else if (hasWhitelist === true && modules.includes(filename)) {\n      // whitelist includes the absolute path to the file including extension\n      const parsedPath = path.parse(filename)\n      moduleName = parsedPath.name\n      basedir = parsedPath.dir\n    } else {\n      const stat = moduleDetailsFromPath(filename)\n      if (stat === undefined) {\n        debug('could not parse filename: %s', filename)\n        return exports // abort if filename could not be parsed\n      }\n      moduleName = stat.name\n      basedir = stat.basedir\n\n      // Ex: require('foo/lib/../bar.js')\n      // moduleName = 'foo'\n      // fullModuleName = 'foo/bar'\n      const fullModuleName = resolveModuleName(stat)\n\n      debug('resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)', moduleName, id, fullModuleName, basedir)\n\n      let matchFound = false\n      if (hasWhitelist) {\n        if (!id.startsWith('.') && modules.includes(id)) {\n          // Not starting with '.' means `id` is identifying a module path,\n          // as opposed to a local file path. (Note: I'm not sure about\n          // absolute paths, but those are handled above.)\n          // If this `id` is in `modules`, then this could be a match to an\n          // package \"exports\" entry point that wouldn't otherwise match below.\n          moduleName = id\n          matchFound = true\n        }\n\n        // abort if module name isn't on whitelist\n        if (!modules.includes(moduleName) && !modules.includes(fullModuleName)) {\n          return exports\n        }\n\n        if (modules.includes(fullModuleName) && fullModuleName !== moduleName) {\n          // if we get to this point, it means that we're requiring a whitelisted sub-module\n          moduleName = fullModuleName\n          matchFound = true\n        }\n      }\n\n      if (!matchFound) {\n        // figure out if this is the main module file, or a file inside the module\n        let res\n        try {\n          res = resolve(moduleName, basedir)\n        } catch (e) {\n          debug('could not resolve module: %s', moduleName)\n          self._cache.set(filename, exports, core)\n          return exports // abort if module could not be resolved (e.g. no main in package.json and no index.js file)\n        }\n\n        if (res !== filename) {\n          // this is a module-internal file\n          if (internals === true) {\n            // use the module-relative path to the file, prefixed by original module name\n            moduleName = moduleName + path.sep + path.relative(basedir, filename)\n            debug('preparing to process require of internal file: %s', moduleName)\n          } else {\n            debug('ignoring require of non-main module file: %s', res)\n            self._cache.set(filename, exports, core)\n            return exports // abort if not main module file\n          }\n        }\n      }\n    }\n\n    // ensure that the cache entry is assigned a value before calling\n    // onrequire, in case calling onrequire requires the same module.\n    self._cache.set(filename, exports, core)\n    debug('calling require hook: %s', moduleName)\n    const patchedExports = onrequire(exports, moduleName, basedir)\n    self._cache.set(filename, patchedExports, core)\n\n    debug('returning module: %s', moduleName)\n    return patchedExports\n  }\n}\n\nHook.prototype.unhook = function () {\n  this._unhooked = true\n\n  if (this._require === Module.prototype.require) {\n    Module.prototype.require = this._origRequire\n    debug('require unhook successful')\n  } else {\n    debug('require unhook unsuccessful')\n  }\n\n  if (process.getBuiltinModule !== undefined) {\n    if (this._getBuiltinModule === process.getBuiltinModule) {\n      process.getBuiltinModule = this._origGetBuiltinModule\n      debug('process.getBuiltinModule unhook successful')\n    } else {\n      debug('process.getBuiltinModule unhook unsuccessful')\n    }\n  }\n}\n\nfunction resolveModuleName (stat) {\n  const normalizedPath = path.sep !== '/' ? stat.path.split(path.sep).join('/') : stat.path\n  return path.posix.join(stat.name, normalizedPath).replace(normalize, '')\n}\n"],"names":[],"mappings":"AAAA;AAEA,MAAM;AACN,MAAM;AACN,MAAM,QAAQ,yHAAiB;AAC/B,MAAM;AAEN,gFAAgF;AAChF,oBAAoB;AACpB,uDAAuD;AACvD,OAAO,OAAO,GAAG;AACjB,OAAO,OAAO,CAAC,IAAI,GAAG;AAEtB,IAAI,eAAe,cAAc;;AAEjC;;;;;CAKC,GACD,IAAI;AACJ,IAAI,OAAO,SAAS,EAAE;IACpB,SAAS,OAAO,SAAS;AAC3B,OAAO,IAAI,OAAO,cAAc,EAAE;IAChC,SAAS,CAAA;QACP,IAAI,WAAW,UAAU,CAAC,UAAU;YAClC,OAAO;QACT;QAEA,IAAI,mBAAmB,WAAW;YAChC,iBAAiB,IAAI,IAAI,OAAO,cAAc;QAChD;QAEA,OAAO,eAAe,GAAG,CAAC;IAC5B;AACF,OAAO;IACL,MAAM;IACN,MAAM,CAAC,OAAO,MAAM,GAAG,QAAQ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC;IAC5D,IAAI,UAAU,KAAK,QAAQ,GAAG;QAC5B,qEAAqE;QACrE,uEAAuE;QACvE,uEAAuE;QACvE,mEAAmE;QACnE,mBAAmB;QACnB,SAAS,CAAA;YACP,IAAI,eAAe,SAAS;gBAC1B,OAAO;YACT;YACA,uEAAuE;YACvE,4DAA4D;YAC5D,OAAO,CAAC,CAAC,SAAS,IAAI,CAAC,WAAW;QACpC;IACF,OAAO;QACL,SAAS,CAAA;YACP,uEAAuE;YACvE,4DAA4D;YAC5D,OAAO,CAAC,CAAC,SAAS,IAAI,CAAC,WAAW;QACpC;IACF;AACF;AAEA,IAAI;AAEJ,SAAS,QAAS,UAAU,EAAE,OAAO;IACnC,6EAA6E;IAC7E,+EAA+E;IAC/E,2BAA2B;IAC3B,IAAI,CAAC,UAAU;QACb,+DAA+D;QAC/D,6DAA6D;QAC7D,sEAAsE;QACtE,IAAI,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,KAAK,EAAE;YAC5C,WAAW,SAAU,UAAU,EAAE,OAAO;gBACtC,OAAO,QAAQ,OAAO,CAAC,YAAY;oBAAE,OAAO;wBAAC;qBAAQ;gBAAC;YACxD;QACF,OAAO;YACL,MAAM;YACN,WAAW,SAAU,UAAU,EAAE,OAAO;gBACtC,OAAO,QAAQ,IAAI,CAAC,YAAY;oBAAE;gBAAQ;YAC5C;QACF;IACF;IAEA,OAAO,SAAS,YAAY;AAC9B;AAEA,kDAAkD;AAClD,MAAM,YAAY;AAElB,iDAAiD;AACjD,EAAE;AACF,8EAA8E;AAC9E,EAAE;AACF,6EAA6E;AAC7E,8EAA8E;AAC9E,8EAA8E;AAC9E,4BAA4B;AAC5B,uEAAuE;AACvE,EAAE;AACF,yEAAyE;AACzE,0EAA0E;AAC1E,gFAAgF;AAChF,MAAM;IACJ,aAAe;QACb,IAAI,CAAC,WAAW,GAAG,IAAI,MAAM,uCAAuC;;QACpE,IAAI,CAAC,aAAa,GAAG,OAAO;IAC9B;IAEA,IAAK,QAAQ,EAAE,SAAS,EAAE;QACxB,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW;YAClC,OAAO;QACT,OAAO,IAAI,CAAC,WAAW;YACrB,MAAM,MAAM,mBAAa,CAAC,SAAS;YACnC,OAAO,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,aAAa,IAAI,GAAG;QAC5C,OAAO;YACL,OAAO;QACT;IACF;IAEA,IAAK,QAAQ,EAAE,SAAS,EAAE;QACxB,MAAM,gBAAgB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;QAC3C,IAAI,kBAAkB,WAAW;YAC/B,OAAO;QACT,OAAO,IAAI,CAAC,WAAW;YACrB,MAAM,MAAM,mBAAa,CAAC,SAAS;YACnC,OAAQ,OAAO,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;QACxC;IACF;IAEA,IAAK,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE;QACjC,IAAI,WAAW;YACb,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU;QACjC,OAAO,IAAI,iCAA2B;YACpC,mBAAa,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG;QAChD,OAAO;YACL,MAAM,8DAA8D;YACpE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU;QACjC;IACF;AACF;AAEA,SAAS,KAAM,OAAO,EAAE,OAAO,EAAE,SAAS;IACxC,IAAI,AAAC,IAAI,YAAY,SAAU,OAAO,OAAO,IAAI,KAAK,SAAS,SAAS;IACxE,IAAI,OAAO,YAAY,YAAY;QACjC,YAAY;QACZ,UAAU;QACV,UAAU;IACZ,OAAO,IAAI,OAAO,YAAY,YAAY;QACxC,YAAY;QACZ,UAAU;IACZ;IAEA,IAAI,OAAO,OAAO,gBAAgB,KAAK,YAAY;QACjD,QAAQ,KAAK,CAAC,kFAAkF,OAAO,OAAO,gBAAgB;QAC9H,QAAQ,KAAK,CAAC,oEAAoE,QAAQ,OAAO,EAAE,yIAA0B,IAAI,CAAC,GAAG;QACrI;IACF;IAEA,IAAI,CAAC,MAAM,GAAG,IAAI;IAElB,IAAI,CAAC,SAAS,GAAG;IACjB,IAAI,CAAC,YAAY,GAAG,OAAO,SAAS,CAAC,OAAO;IAE5C,MAAM,OAAO,IAAI;IACjB,MAAM,WAAW,IAAI;IACrB,MAAM,YAAY,UAAU,QAAQ,SAAS,KAAK,OAAO;IACzD,MAAM,eAAe,MAAM,OAAO,CAAC;IAEnC,MAAM;IAEN,IAAI,CAAC,QAAQ,GAAG,OAAO,SAAS,CAAC,OAAO,GAAG,SAAU,EAAE;QACrD,IAAI,KAAK,SAAS,KAAK,MAAM;YAC3B,+DAA+D;YAC/D,6DAA6D;YAC7D,6DAA6D;YAC7D,MAAM;YACN,OAAO,KAAK,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE;QACvC;QAEA,OAAO,eAAe,IAAI,CAAC,IAAI,EAAE,WAAW;IAC9C;IAEA,IAAI,OAAO,QAAQ,gBAAgB,KAAK,YAAY;QAClD,IAAI,CAAC,qBAAqB,GAAG,QAAQ,gBAAgB;QACrD,IAAI,CAAC,iBAAiB,GAAG,QAAQ,gBAAgB,GAAG,SAAU,EAAE;YAC9D,IAAI,KAAK,SAAS,KAAK,MAAM;gBAC3B,gFAAgF;gBAChF,gFAAgF;gBAChF,2DAA2D;gBAC3D,MAAM;gBACN,OAAO,KAAK,qBAAqB,CAAC,KAAK,CAAC,IAAI,EAAE;YAChD;YAEA,OAAO,eAAe,IAAI,CAAC,IAAI,EAAE,WAAW;QAC9C;IACF;IAEA,6EAA6E;IAC7E,SAAS,eAAgB,IAAI,EAAE,QAAQ;QACrC,MAAM,KAAK,IAAI,CAAC,EAAE;QAClB,MAAM,OAAO,OAAO;QACpB,IAAI,SAAS,8BAA8B;;QAC3C,IAAI,MAAM;YACR,WAAW;YACX,uEAAuE;YACvE,oDAAoD;YACpD,IAAI,GAAG,UAAU,CAAC,UAAU;gBAC1B,MAAM,kBAAkB,GAAG,KAAK,CAAC;gBACjC,IAAI,OAAO,kBAAkB;oBAC3B,WAAW;gBACb;YACF;QACF,OAAO,IAAI,UAAU;YACnB,uFAAuF;YACvF,sFAAsF;YACtF,8FAA8F;YAC9F,MAAM;YACN,OAAO,KAAK,qBAAqB,CAAC,KAAK,CAAC,IAAI,EAAE;QAChD,OAAO;YACL,IAAI;gBACF,WAAW,OAAO,gBAAgB,CAAC,IAAI,IAAI;YAC7C,EAAE,OAAO,YAAY;gBACnB,uEAAuE;gBACvE,kEAAkE;gBAClE,sEAAsE;gBACtE,kEAAkE;gBAClE,EAAE;gBACF,mEAAmE;gBACnE,gEAAgE;gBAChE,oGAAoG;gBACpG,MAAM,2EAA2E,IAAI,WAAW,OAAO;gBACvG,OAAO,KAAK,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE;YACvC;QACF;QAEA,IAAI,YAAY;QAEhB,MAAM,4CAA4C,SAAS,OAAO,SAAS,YAAY,IAAI;QAE3F,2CAA2C;QAC3C,IAAI,KAAK,MAAM,CAAC,GAAG,CAAC,UAAU,UAAU,MAAM;YAC5C,MAAM,+CAA+C;YACrD,OAAO,KAAK,MAAM,CAAC,GAAG,CAAC,UAAU;QACnC;QAEA,0DAA0D;QAC1D,uDAAuD;QACvD,MAAM,aAAa,SAAS,GAAG,CAAC;QAChC,IAAI,eAAe,OAAO;YACxB,SAAS,GAAG,CAAC;QACf;QAEA,MAAM,UAAU,WACZ,KAAK,qBAAqB,CAAC,KAAK,CAAC,IAAI,EAAE,QACvC,KAAK,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE;QAElC,iDAAiD;QACjD,IAAI,eAAe,MAAM;YACvB,MAAM,oEAAoE;YAC1E,OAAO;QACT;QAEA,sCAAsC;QACtC,0CAA0C;QAC1C,SAAS,MAAM,CAAC;QAEhB,IAAI,SAAS,MAAM;YACjB,IAAI,iBAAiB,QAAQ,QAAQ,QAAQ,CAAC,cAAc,OAAO;gBACjE,MAAM,6CAA6C;gBACnD,OAAO,QAAQ,0CAA0C;;YAC3D;YACA,aAAa;QACf,OAAO,IAAI,iBAAiB,QAAQ,QAAQ,QAAQ,CAAC,WAAW;YAC9D,uEAAuE;YACvE,MAAM,aAAa,KAAK,KAAK,CAAC;YAC9B,aAAa,WAAW,IAAI;YAC5B,UAAU,WAAW,GAAG;QAC1B,OAAO;YACL,MAAM,OAAO,sBAAsB;YACnC,IAAI,SAAS,WAAW;gBACtB,MAAM,gCAAgC;gBACtC,OAAO,QAAQ,wCAAwC;;YACzD;YACA,aAAa,KAAK,IAAI;YACtB,UAAU,KAAK,OAAO;YAEtB,mCAAmC;YACnC,qBAAqB;YACrB,6BAA6B;YAC7B,MAAM,iBAAiB,kBAAkB;YAEzC,MAAM,uEAAuE,YAAY,IAAI,gBAAgB;YAE7G,IAAI,aAAa;YACjB,IAAI,cAAc;gBAChB,IAAI,CAAC,GAAG,UAAU,CAAC,QAAQ,QAAQ,QAAQ,CAAC,KAAK;oBAC/C,iEAAiE;oBACjE,6DAA6D;oBAC7D,gDAAgD;oBAChD,iEAAiE;oBACjE,qEAAqE;oBACrE,aAAa;oBACb,aAAa;gBACf;gBAEA,0CAA0C;gBAC1C,IAAI,CAAC,QAAQ,QAAQ,CAAC,eAAe,CAAC,QAAQ,QAAQ,CAAC,iBAAiB;oBACtE,OAAO;gBACT;gBAEA,IAAI,QAAQ,QAAQ,CAAC,mBAAmB,mBAAmB,YAAY;oBACrE,kFAAkF;oBAClF,aAAa;oBACb,aAAa;gBACf;YACF;YAEA,IAAI,CAAC,YAAY;gBACf,0EAA0E;gBAC1E,IAAI;gBACJ,IAAI;oBACF,MAAM,QAAQ,YAAY;gBAC5B,EAAE,OAAO,GAAG;oBACV,MAAM,gCAAgC;oBACtC,KAAK,MAAM,CAAC,GAAG,CAAC,UAAU,SAAS;oBACnC,OAAO,QAAQ,4FAA4F;;gBAC7G;gBAEA,IAAI,QAAQ,UAAU;oBACpB,iCAAiC;oBACjC,IAAI,cAAc,MAAM;wBACtB,6EAA6E;wBAC7E,aAAa,aAAa,KAAK,GAAG,GAAG,KAAK,QAAQ,CAAC,SAAS;wBAC5D,MAAM,qDAAqD;oBAC7D,OAAO;wBACL,MAAM,gDAAgD;wBACtD,KAAK,MAAM,CAAC,GAAG,CAAC,UAAU,SAAS;wBACnC,OAAO,QAAQ,gCAAgC;;oBACjD;gBACF;YACF;QACF;QAEA,iEAAiE;QACjE,iEAAiE;QACjE,KAAK,MAAM,CAAC,GAAG,CAAC,UAAU,SAAS;QACnC,MAAM,4BAA4B;QAClC,MAAM,iBAAiB,UAAU,SAAS,YAAY;QACtD,KAAK,MAAM,CAAC,GAAG,CAAC,UAAU,gBAAgB;QAE1C,MAAM,wBAAwB;QAC9B,OAAO;IACT;AACF;AAEA,KAAK,SAAS,CAAC,MAAM,GAAG;IACtB,IAAI,CAAC,SAAS,GAAG;IAEjB,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,SAAS,CAAC,OAAO,EAAE;QAC9C,OAAO,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY;QAC5C,MAAM;IACR,OAAO;QACL,MAAM;IACR;IAEA,IAAI,QAAQ,gBAAgB,KAAK,WAAW;QAC1C,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,gBAAgB,EAAE;YACvD,QAAQ,gBAAgB,GAAG,IAAI,CAAC,qBAAqB;YACrD,MAAM;QACR,OAAO;YACL,MAAM;QACR;IACF;AACF;AAEA,SAAS,kBAAmB,IAAI;IAC9B,MAAM,iBAAiB,KAAK,GAAG,KAAK,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,IAAI,CAAC,OAAO,KAAK,IAAI;IACzF,OAAO,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,gBAAgB,OAAO,CAAC,WAAW;AACvE"}},
    {"offset": {"line": 7903, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7907, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/import-in-the-middle@1.14.2/node_modules/import-in-the-middle/lib/register.js"],"sourcesContent":["// Unless explicitly stated otherwise all files in this repository are licensed under the Apache 2.0 License.\n//\n// This product includes software developed at Datadog (https://www.datadoghq.com/). Copyright 2021 Datadog, Inc.\n\nconst importHooks = [] // TODO should this be a Set?\nconst setters = new WeakMap()\nconst getters = new WeakMap()\nconst specifiers = new Map()\nconst toHook = []\n\nconst proxyHandler = {\n  set (target, name, value) {\n    return setters.get(target)[name](value)\n  },\n\n  get (target, name) {\n    if (name === Symbol.toStringTag) {\n      return 'Module'\n    }\n\n    const getter = getters.get(target)[name]\n\n    if (typeof getter === 'function') {\n      return getter()\n    }\n  },\n\n  defineProperty (target, property, descriptor) {\n    if ((!('value' in descriptor))) {\n      throw new Error('Getters/setters are not supported for exports property descriptors.')\n    }\n\n    return setters.get(target)[property](descriptor.value)\n  }\n}\n\nfunction register (name, namespace, set, get, specifier) {\n  specifiers.set(name, specifier)\n  setters.set(namespace, set)\n  getters.set(namespace, get)\n  const proxy = new Proxy(namespace, proxyHandler)\n  importHooks.forEach(hook => hook(name, proxy))\n  toHook.push([name, proxy])\n}\n\nlet experimentalPatchInternals = false\n\nfunction getExperimentalPatchInternals () {\n  return experimentalPatchInternals\n}\n\nfunction setExperimentalPatchInternals (value) {\n  experimentalPatchInternals = value\n}\n\nexports.register = register\nexports.importHooks = importHooks\nexports.specifiers = specifiers\nexports.toHook = toHook\nexports.getExperimentalPatchInternals = getExperimentalPatchInternals\nexports.setExperimentalPatchInternals = setExperimentalPatchInternals\n"],"names":[],"mappings":"AAAA,6GAA6G;AAC7G,EAAE;AACF,iHAAiH;AAEjH,MAAM,cAAc,EAAE,CAAC,6BAA6B;;AACpD,MAAM,UAAU,IAAI;AACpB,MAAM,UAAU,IAAI;AACpB,MAAM,aAAa,IAAI;AACvB,MAAM,SAAS,EAAE;AAEjB,MAAM,eAAe;IACnB,KAAK,MAAM,EAAE,IAAI,EAAE,KAAK;QACtB,OAAO,QAAQ,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC;IACnC;IAEA,KAAK,MAAM,EAAE,IAAI;QACf,IAAI,SAAS,OAAO,WAAW,EAAE;YAC/B,OAAO;QACT;QAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,OAAO,CAAC,KAAK;QAExC,IAAI,OAAO,WAAW,YAAY;YAChC,OAAO;QACT;IACF;IAEA,gBAAgB,MAAM,EAAE,QAAQ,EAAE,UAAU;QAC1C,IAAK,CAAC,CAAC,WAAW,UAAU,GAAI;YAC9B,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,QAAQ,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,KAAK;IACvD;AACF;AAEA,SAAS,SAAU,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS;IACrD,WAAW,GAAG,CAAC,MAAM;IACrB,QAAQ,GAAG,CAAC,WAAW;IACvB,QAAQ,GAAG,CAAC,WAAW;IACvB,MAAM,QAAQ,IAAI,MAAM,WAAW;IACnC,YAAY,OAAO,CAAC,CAAA,OAAQ,KAAK,MAAM;IACvC,OAAO,IAAI,CAAC;QAAC;QAAM;KAAM;AAC3B;AAEA,IAAI,6BAA6B;AAEjC,SAAS;IACP,OAAO;AACT;AAEA,SAAS,8BAA+B,KAAK;IAC3C,6BAA6B;AAC/B;AAEA,QAAQ,QAAQ,GAAG;AACnB,QAAQ,WAAW,GAAG;AACtB,QAAQ,UAAU,GAAG;AACrB,QAAQ,MAAM,GAAG;AACjB,QAAQ,6BAA6B,GAAG;AACxC,QAAQ,6BAA6B,GAAG"}},
    {"offset": {"line": 7960, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7964, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/import-in-the-middle@1.14.2/node_modules/import-in-the-middle/index.js"],"sourcesContent":["// Unless explicitly stated otherwise all files in this repository are licensed under the Apache 2.0 License.\n//\n// This product includes software developed at Datadog (https://www.datadoghq.com/). Copyright 2021 Datadog, Inc.\n\nconst path = require('path')\nconst parse = require('module-details-from-path')\nconst { fileURLToPath } = require('url')\nconst { MessageChannel } = require('worker_threads')\n\nconst {\n  importHooks,\n  specifiers,\n  toHook,\n  getExperimentalPatchInternals\n} = require('./lib/register')\n\nfunction addHook (hook) {\n  importHooks.push(hook)\n  toHook.forEach(([name, namespace]) => hook(name, namespace))\n}\n\nfunction removeHook (hook) {\n  const index = importHooks.indexOf(hook)\n  if (index > -1) {\n    importHooks.splice(index, 1)\n  }\n}\n\nfunction callHookFn (hookFn, namespace, name, baseDir) {\n  const newDefault = hookFn(namespace, name, baseDir)\n  if (newDefault && newDefault !== namespace) {\n    namespace.default = newDefault\n  }\n}\n\nlet sendModulesToLoader\n\n/**\n * EXPERIMENTAL\n * This feature is experimental and may change in minor versions.\n * **NOTE** This feature is incompatible with the {internals: true} Hook option.\n *\n * Creates a message channel with a port that can be used to add hooks to the\n * list of exclusively included modules.\n *\n * This can be used to only wrap modules that are Hook'ed, however modules need\n * to be hooked before they are imported.\n *\n * ```ts\n * import { register } from 'module'\n * import { Hook, createAddHookMessageChannel } from 'import-in-the-middle'\n *\n * const { registerOptions, waitForAllMessagesAcknowledged } = createAddHookMessageChannel()\n *\n * register('import-in-the-middle/hook.mjs', import.meta.url, registerOptions)\n *\n * Hook(['fs'], (exported, name, baseDir) => {\n *   // Instrument the fs module\n * })\n *\n * // Ensure that the loader has acknowledged all the modules\n * // before we allow execution to continue\n * await waitForAllMessagesAcknowledged()\n * ```\n */\nfunction createAddHookMessageChannel () {\n  const { port1, port2 } = new MessageChannel()\n  let pendingAckCount = 0\n  let resolveFn\n\n  sendModulesToLoader = (modules) => {\n    pendingAckCount++\n    port1.postMessage(modules)\n  }\n\n  port1.on('message', () => {\n    pendingAckCount--\n\n    if (resolveFn && pendingAckCount <= 0) {\n      resolveFn()\n    }\n  }).unref()\n\n  function waitForAllMessagesAcknowledged () {\n    // This timer is to prevent the process from exiting with code 13:\n    // 13: Unsettled Top-Level Await.\n    const timer = setInterval(() => { }, 1000)\n    const promise = new Promise((resolve) => {\n      resolveFn = resolve\n    }).then(() => { clearInterval(timer) })\n\n    if (pendingAckCount === 0) {\n      resolveFn()\n    }\n\n    return promise\n  }\n\n  const addHookMessagePort = port2\n  const registerOptions = { data: { addHookMessagePort, include: [] }, transferList: [addHookMessagePort] }\n\n  return { registerOptions, addHookMessagePort, waitForAllMessagesAcknowledged }\n}\n\nfunction Hook (modules, options, hookFn) {\n  if ((this instanceof Hook) === false) return new Hook(modules, options, hookFn)\n  if (typeof modules === 'function') {\n    hookFn = modules\n    modules = null\n    options = null\n  } else if (typeof options === 'function') {\n    hookFn = options\n    options = null\n  }\n  const internals = options ? options.internals === true : false\n\n  if (sendModulesToLoader && Array.isArray(modules)) {\n    sendModulesToLoader(modules)\n  }\n\n  this._iitmHook = (name, namespace) => {\n    const filename = name\n    const isBuiltin = name.startsWith('node:')\n    let baseDir\n\n    if (isBuiltin) {\n      name = name.replace(/^node:/, '')\n    } else {\n      if (name.startsWith('file://')) {\n        try {\n          name = fileURLToPath(name)\n        } catch (e) {}\n      }\n      const details = parse(name)\n      if (details) {\n        name = details.name\n        baseDir = details.basedir\n      }\n    }\n\n    if (modules) {\n      for (const moduleName of modules) {\n        if (moduleName === name) {\n          if (baseDir) {\n            if (internals) {\n              name = name + path.sep + path.relative(baseDir, fileURLToPath(filename))\n            } else {\n              if (!getExperimentalPatchInternals() && !baseDir.endsWith(specifiers.get(filename))) continue\n            }\n          }\n          callHookFn(hookFn, namespace, name, baseDir)\n        }\n      }\n    } else {\n      callHookFn(hookFn, namespace, name, baseDir)\n    }\n  }\n\n  addHook(this._iitmHook)\n}\n\nHook.prototype.unhook = function () {\n  removeHook(this._iitmHook)\n}\n\nmodule.exports = Hook\nmodule.exports.Hook = Hook\nmodule.exports.addHook = addHook\nmodule.exports.removeHook = removeHook\nmodule.exports.createAddHookMessageChannel = createAddHookMessageChannel\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8123, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/forwarded-parse@2.1.2/node_modules/forwarded-parse/lib/error.js"],"sourcesContent":["'use strict';\n\nvar util = require('util');\n\n/**\n * An error thrown by the parser on unexpected input.\n *\n * @constructor\n * @param {string} message The error message.\n * @param {string} input The unexpected input.\n * @public\n */\nfunction ParseError(message, input) {\n  Error.captureStackTrace(this, ParseError);\n\n  this.name = this.constructor.name;\n  this.message = message;\n  this.input = input;\n}\n\nutil.inherits(ParseError, Error);\n\nmodule.exports = ParseError;\n"],"names":[],"mappings":"AAAA;AAEA,IAAI;AAEJ;;;;;;;CAOC,GACD,SAAS,WAAW,OAAO,EAAE,KAAK;IAChC,MAAM,iBAAiB,CAAC,IAAI,EAAE;IAE9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI;IACjC,IAAI,CAAC,OAAO,GAAG;IACf,IAAI,CAAC,KAAK,GAAG;AACf;AAEA,KAAK,QAAQ,CAAC,YAAY;AAE1B,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 8140, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8144, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/forwarded-parse@2.1.2/node_modules/forwarded-parse/lib/ascii.js"],"sourcesContent":["'use strict';\n\n/**\n * Check if a character is a delimiter as defined in section 3.2.6 of RFC 7230.\n *\n *\n * @param {number} code The code of the character to check.\n * @returns {boolean} `true` if the character is a delimiter, else `false`.\n * @public\n */\nfunction isDelimiter(code) {\n  return code === 0x22                // '\"'\n    || code === 0x28                  // '('\n    || code === 0x29                  // ')'\n    || code === 0x2C                  // ','\n    || code === 0x2F                  // '/'\n    || code >= 0x3A && code <= 0x40   // ':', ';', '<', '=', '>', '?' '@'\n    || code >= 0x5B && code <= 0x5D   // '[', '\\', ']'\n    || code === 0x7B                  // '{'\n    || code === 0x7D;                 // '}'\n}\n\n/**\n * Check if a character is allowed in a token as defined in section 3.2.6\n * of RFC 7230.\n *\n * @param {number} code The code of the character to check.\n * @returns {boolean} `true` if the character is allowed, else `false`.\n * @public\n */\nfunction isTokenChar(code) {\n  return code === 0x21                // '!'\n    || code >= 0x23 && code <= 0x27   // '#', '$', '%', '&', '''\n    || code === 0x2A                  // '*'\n    || code === 0x2B                  // '+'\n    || code === 0x2D                  // '-'\n    || code === 0x2E                  // '.'\n    || code >= 0x30 && code <= 0x39   // 0-9\n    || code >= 0x41 && code <= 0x5A   // A-Z\n    || code >= 0x5E && code <= 0x7A   // '^', '_', '`', a-z\n    || code === 0x7C                  // '|'\n    || code === 0x7E;                 // '~'\n}\n\n/**\n * Check if a character is a printable ASCII character.\n *\n * @param {number} code The code of the character to check.\n * @returns {boolean} `true` if `code` is in the %x20-7E range, else `false`.\n * @public\n */\nfunction isPrint(code) {\n  return code >= 0x20 && code <= 0x7E;\n}\n\n/**\n * Check if a character is an extended ASCII character.\n *\n * @param {number} code The code of the character to check.\n * @returns {boolean} `true` if `code` is in the %x80-FF range, else `false`.\n * @public\n */\nfunction isExtended(code) {\n  return code >= 0x80 && code <= 0xFF;\n}\n\nmodule.exports = {\n  isDelimiter: isDelimiter,\n  isTokenChar: isTokenChar,\n  isExtended: isExtended,\n  isPrint: isPrint\n};\n"],"names":[],"mappings":"AAAA;AAEA;;;;;;;CAOC,GACD,SAAS,YAAY,IAAI;IACvB,OAAO,SAAS,KAAoB,MAAM;QACrC,SAAS,KAAsB,MAAM;QACrC,SAAS,KAAsB,MAAM;QACrC,SAAS,KAAsB,MAAM;QACrC,SAAS,KAAsB,MAAM;QACrC,QAAQ,QAAQ,QAAQ,KAAO,mCAAmC;QAClE,QAAQ,QAAQ,QAAQ,KAAO,gBAAgB;QAC/C,SAAS,KAAsB,MAAM;QACrC,SAAS,MAAsB,MAAM;AAC5C;AAEA;;;;;;;CAOC,GACD,SAAS,YAAY,IAAI;IACvB,OAAO,SAAS,KAAoB,MAAM;QACrC,QAAQ,QAAQ,QAAQ,KAAO,0BAA0B;QACzD,SAAS,KAAsB,MAAM;QACrC,SAAS,KAAsB,MAAM;QACrC,SAAS,KAAsB,MAAM;QACrC,SAAS,KAAsB,MAAM;QACrC,QAAQ,QAAQ,QAAQ,KAAO,MAAM;QACrC,QAAQ,QAAQ,QAAQ,KAAO,MAAM;QACrC,QAAQ,QAAQ,QAAQ,KAAO,qBAAqB;QACpD,SAAS,KAAsB,MAAM;QACrC,SAAS,MAAsB,MAAM;AAC5C;AAEA;;;;;;CAMC,GACD,SAAS,QAAQ,IAAI;IACnB,OAAO,QAAQ,QAAQ,QAAQ;AACjC;AAEA;;;;;;CAMC,GACD,SAAS,WAAW,IAAI;IACtB,OAAO,QAAQ,QAAQ,QAAQ;AACjC;AAEA,OAAO,OAAO,GAAG;IACf,aAAa;IACb,aAAa;IACb,YAAY;IACZ,SAAS;AACX"}},
    {"offset": {"line": 8207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8211, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/forwarded-parse@2.1.2/node_modules/forwarded-parse/index.js"],"sourcesContent":["'use strict';\n\nvar util = require('util');\n\nvar ParseError = require('./lib/error');\nvar ascii = require('./lib/ascii');\n\nvar isDelimiter = ascii.isDelimiter;\nvar isTokenChar = ascii.isTokenChar;\nvar isExtended = ascii.isExtended;\nvar isPrint = ascii.isPrint;\n\n/**\n * Unescape a string.\n *\n * @param {string} str The string to unescape.\n * @returns {string} A new unescaped string.\n * @private\n */\nfunction decode(str) {\n  return str.replace(/\\\\(.)/g, '$1');\n}\n\n/**\n * Build an error message when an unexpected character is found.\n *\n * @param {string} header The header field value.\n * @param {number} position The position of the unexpected character.\n * @returns {string} The error message.\n * @private\n */\nfunction unexpectedCharacterMessage(header, position) {\n  return util.format(\n    \"Unexpected character '%s' at index %d\",\n    header.charAt(position),\n    position\n  );\n}\n\n/**\n * Parse the `Forwarded` header field value into an array of objects.\n *\n * @param {string} header The header field value.\n * @returns {Object[]}\n * @public\n */\nfunction parse(header) {\n  var mustUnescape = false;\n  var isEscaping = false;\n  var inQuotes = false;\n  var forwarded = {};\n  var output = [];\n  var start = -1;\n  var end = -1;\n  var parameter;\n  var code;\n\n  for (var i = 0; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (parameter === undefined) {\n      if (\n        i !== 0 &&\n        start === -1 &&\n        (code === 0x20/*' '*/ || code === 0x09/*'\\t'*/)\n      ) {\n        continue;\n      }\n\n      if (isTokenChar(code)) {\n        if (start === -1) start = i;\n      } else if (code === 0x3D/*'='*/ && start !== -1) {\n        parameter = header.slice(start, i).toLowerCase();\n        start = -1;\n      } else {\n        throw new ParseError(unexpectedCharacterMessage(header, i), header);\n      }\n    } else {\n      if (isEscaping && (code === 0x09 || isPrint(code) || isExtended(code))) {\n        isEscaping = false;\n      } else if (isTokenChar(code)) {\n        if (end !== -1) {\n          throw new ParseError(unexpectedCharacterMessage(header, i), header);\n        }\n\n        if (start === -1) start = i;\n      } else if (isDelimiter(code) || isExtended(code)) {\n        if (inQuotes) {\n          if (code === 0x22/*'\"'*/) {\n            inQuotes = false;\n            end = i;\n          } else if (code === 0x5C/*'\\'*/) {\n            if (start === -1) start = i;\n            isEscaping = mustUnescape = true;\n          } else if (start === -1) {\n            start = i;\n          }\n        } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3D) {\n          inQuotes = true;\n        } else if (\n          (code === 0x2C/*','*/|| code === 0x3B/*';'*/) &&\n          (start !== -1 || end !== -1)\n        ) {\n          if (start !== -1) {\n            if (end === -1) end = i;\n            forwarded[parameter] = mustUnescape\n              ? decode(header.slice(start, end))\n              : header.slice(start, end);\n          } else {\n            forwarded[parameter] = '';\n          }\n\n          if (code === 0x2C) {\n            output.push(forwarded);\n            forwarded = {};\n          }\n\n          parameter = undefined;\n          start = end = -1;\n        } else {\n          throw new ParseError(unexpectedCharacterMessage(header, i), header);\n        }\n      } else if (code === 0x20 || code === 0x09) {\n        if (end !== -1) continue;\n\n        if (inQuotes) {\n          if (start === -1) start = i;\n        } else if (start !== -1) {\n          end = i;\n        } else {\n          throw new ParseError(unexpectedCharacterMessage(header, i), header);\n        }\n      } else {\n        throw new ParseError(unexpectedCharacterMessage(header, i), header);\n      }\n    }\n  }\n\n  if (\n    parameter === undefined ||\n    inQuotes ||\n    (start === -1 && end === -1) ||\n    code === 0x20 ||\n    code === 0x09\n  ) {\n    throw new ParseError('Unexpected end of input', header);\n  }\n\n  if (start !== -1) {\n    if (end === -1) end = i;\n    forwarded[parameter] = mustUnescape\n      ? decode(header.slice(start, end))\n      : header.slice(start, end);\n  } else {\n    forwarded[parameter] = '';\n  }\n\n  output.push(forwarded);\n  return output;\n}\n\nmodule.exports = parse;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8332, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8336, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/semanticAttributes.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/getParentSpanId.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/spanTypes.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/getRequestSpanData.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/custom/client.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/getSpanKind.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/constants.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/contextData.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/isSentryRequest.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/getSamplingDecision.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/parseSpanDescription.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/enhanceDscWithOpenTelemetryRootSpanName.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/getActiveSpan.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/debug-build.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/makeTraceState.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/setupCheck.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/propagator.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/trace.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/suppressTracing.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/setupEventContextTrace.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/getTraceData.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/asyncContextStrategy.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/contextManager.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/groupSpansWithParents.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/utils/mapStatus.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/spanExporter.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/spanProcessor.ts","/turbopack/[project]/node_modules/.pnpm/@sentry+opentelemetry@9.36._89aeb3b8297fdae3a44eb06e8a27b9b5/node_modules/@sentry/opentelemetry/src/sampler.ts"],"sourcesContent":["/** If this attribute is true, it means that the parent is a remote span. */\nexport const SEMANTIC_ATTRIBUTE_SENTRY_PARENT_IS_REMOTE = 'sentry.parentIsRemote';\n\n// These are not standardized yet, but used by the graphql instrumentation\nexport const SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION = 'sentry.graphql.operation';\n","import type { ReadableSpan } from '@opentelemetry/sdk-trace-base';\n\n/**\n * Get the parent span id from a span.\n * In OTel v1, the parent span id is accessed as `parentSpanId`\n * In OTel v2, the parent span id is accessed as `spanId` on the `parentSpanContext`\n */\nexport function getParentSpanId(span: ReadableSpan): string | undefined {\n  if ('parentSpanId' in span) {\n    return span.parentSpanId as string | undefined;\n  } else if ('parentSpanContext' in span) {\n    return (span.parentSpanContext as { spanId?: string } | undefined)?.spanId;\n  }\n\n  return undefined;\n}\n","import type { SpanKind, SpanStatus } from '@opentelemetry/api';\nimport type { ReadableSpan, TimedEvent } from '@opentelemetry/sdk-trace-base';\nimport type { AbstractSpan } from '../types';\nimport { getParentSpanId } from './getParentSpanId';\n\n/**\n * Check if a given span has attributes.\n * This is necessary because the base `Span` type does not have attributes,\n * so in places where we are passed a generic span, we need to check if we want to access them.\n */\nexport function spanHasAttributes<SpanType extends AbstractSpan>(\n  span: SpanType,\n): span is SpanType & { attributes: ReadableSpan['attributes'] } {\n  const castSpan = span as ReadableSpan;\n  return !!castSpan.attributes && typeof castSpan.attributes === 'object';\n}\n\n/**\n * Check if a given span has a kind.\n * This is necessary because the base `Span` type does not have a kind,\n * so in places where we are passed a generic span, we need to check if we want to access it.\n */\nexport function spanHasKind<SpanType extends AbstractSpan>(span: SpanType): span is SpanType & { kind: SpanKind } {\n  const castSpan = span as ReadableSpan;\n  return typeof castSpan.kind === 'number';\n}\n\n/**\n * Check if a given span has a status.\n * This is necessary because the base `Span` type does not have a status,\n * so in places where we are passed a generic span, we need to check if we want to access it.\n */\nexport function spanHasStatus<SpanType extends AbstractSpan>(\n  span: SpanType,\n): span is SpanType & { status: SpanStatus } {\n  const castSpan = span as ReadableSpan;\n  return !!castSpan.status;\n}\n\n/**\n * Check if a given span has a name.\n * This is necessary because the base `Span` type does not have a name,\n * so in places where we are passed a generic span, we need to check if we want to access it.\n */\nexport function spanHasName<SpanType extends AbstractSpan>(span: SpanType): span is SpanType & { name: string } {\n  const castSpan = span as ReadableSpan;\n  return !!castSpan.name;\n}\n\n/**\n * Check if a given span has a kind.\n * This is necessary because the base `Span` type does not have a kind,\n * so in places where we are passed a generic span, we need to check if we want to access it.\n */\nexport function spanHasParentId<SpanType extends AbstractSpan>(\n  span: SpanType,\n): span is SpanType & { parentSpanId: string } {\n  const castSpan = span as ReadableSpan;\n  return !!getParentSpanId(castSpan);\n}\n\n/**\n * Check if a given span has events.\n * This is necessary because the base `Span` type does not have events,\n * so in places where we are passed a generic span, we need to check if we want to access it.\n */\nexport function spanHasEvents<SpanType extends AbstractSpan>(\n  span: SpanType,\n): span is SpanType & { events: TimedEvent[] } {\n  const castSpan = span as ReadableSpan;\n  return Array.isArray(castSpan.events);\n}\n","import type { Span } from '@opentelemetry/api';\nimport type { ReadableSpan } from '@opentelemetry/sdk-trace-base';\nimport {\n  ATTR_HTTP_REQUEST_METHOD,\n  ATTR_URL_FULL,\n  SEMATTRS_HTTP_METHOD,\n  SEMATTRS_HTTP_URL,\n} from '@opentelemetry/semantic-conventions';\nimport type { SanitizedRequestData } from '@sentry/core';\nimport { getSanitizedUrlString, parseUrl } from '@sentry/core';\nimport { spanHasAttributes } from './spanTypes';\n\n/**\n * Get sanitizied request data from an OTEL span.\n */\nexport function getRequestSpanData(span: Span | ReadableSpan): Partial<SanitizedRequestData> {\n  // The base `Span` type has no `attributes`, so we need to guard here against that\n  if (!spanHasAttributes(span)) {\n    return {};\n  }\n\n  // eslint-disable-next-line deprecation/deprecation\n  const maybeUrlAttribute = (span.attributes[ATTR_URL_FULL] || span.attributes[SEMATTRS_HTTP_URL]) as\n    | string\n    | undefined;\n\n  const data: Partial<SanitizedRequestData> = {\n    url: maybeUrlAttribute,\n    // eslint-disable-next-line deprecation/deprecation\n    'http.method': (span.attributes[ATTR_HTTP_REQUEST_METHOD] || span.attributes[SEMATTRS_HTTP_METHOD]) as\n      | string\n      | undefined,\n  };\n\n  // Default to GET if URL is set but method is not\n  if (!data['http.method'] && data.url) {\n    data['http.method'] = 'GET';\n  }\n\n  try {\n    if (typeof maybeUrlAttribute === 'string') {\n      const url = parseUrl(maybeUrlAttribute);\n\n      data.url = getSanitizedUrlString(url);\n\n      if (url.search) {\n        data['http.query'] = url.search;\n      }\n      if (url.hash) {\n        data['http.fragment'] = url.hash;\n      }\n    }\n  } catch {\n    // ignore\n  }\n\n  return data;\n}\n","import type { Tracer } from '@opentelemetry/api';\nimport { trace } from '@opentelemetry/api';\nimport type { BasicTracerProvider } from '@opentelemetry/sdk-trace-base';\nimport type { Client } from '@sentry/core';\nimport { SDK_VERSION } from '@sentry/core';\nimport type { OpenTelemetryClient as OpenTelemetryClientInterface } from '../types';\n\n// Typescript complains if we do not use `...args: any[]` for the mixin, with:\n// A mixin class must have a constructor with a single rest parameter of type 'any[]'.ts(2545)\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * Wrap an Client class with things we need for OpenTelemetry support.\n * Make sure that the Client class passed in is non-abstract!\n *\n * Usage:\n * const OpenTelemetryClient = getWrappedClientClass(NodeClient);\n * const client = new OpenTelemetryClient(options);\n */\nexport function wrapClientClass<\n  ClassConstructor extends new (...args: any[]) => Client,\n  WrappedClassConstructor extends new (...args: any[]) => Client & OpenTelemetryClientInterface,\n>(ClientClass: ClassConstructor): WrappedClassConstructor {\n  // @ts-expect-error We just assume that this is non-abstract, if you pass in an abstract class this would make it non-abstract\n  class OpenTelemetryClient extends ClientClass implements OpenTelemetryClientInterface {\n    public traceProvider: BasicTracerProvider | undefined;\n    private _tracer: Tracer | undefined;\n\n    public constructor(...args: any[]) {\n      super(...args);\n    }\n\n    /** Get the OTEL tracer. */\n    public get tracer(): Tracer {\n      if (this._tracer) {\n        return this._tracer;\n      }\n\n      const name = '@sentry/opentelemetry';\n      const version = SDK_VERSION;\n      const tracer = trace.getTracer(name, version);\n      this._tracer = tracer;\n\n      return tracer;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    public async flush(timeout?: number): Promise<boolean> {\n      const provider = this.traceProvider;\n      await provider?.forceFlush();\n      return super.flush(timeout);\n    }\n  }\n\n  return OpenTelemetryClient as unknown as WrappedClassConstructor;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n","import { SpanKind } from '@opentelemetry/api';\nimport type { AbstractSpan } from '../types';\nimport { spanHasKind } from './spanTypes';\n\n/**\n * Get the span kind from a span.\n * For whatever reason, this is not public API on the generic \"Span\" type,\n * so we need to check if we actually have a `SDKTraceBaseSpan` where we can fetch this from.\n * Otherwise, we fall back to `SpanKind.INTERNAL`.\n */\nexport function getSpanKind(span: AbstractSpan): SpanKind {\n  if (spanHasKind(span)) {\n    return span.kind;\n  }\n\n  return SpanKind.INTERNAL;\n}\n","import { createContextKey } from '@opentelemetry/api';\n\nexport const SENTRY_TRACE_HEADER = 'sentry-trace';\nexport const SENTRY_BAGGAGE_HEADER = 'baggage';\n\nexport const SENTRY_TRACE_STATE_DSC = 'sentry.dsc';\nexport const SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING = 'sentry.sampled_not_recording';\nexport const SENTRY_TRACE_STATE_URL = 'sentry.url';\nexport const SENTRY_TRACE_STATE_SAMPLE_RAND = 'sentry.sample_rand';\nexport const SENTRY_TRACE_STATE_SAMPLE_RATE = 'sentry.sample_rate';\n\nexport const SENTRY_SCOPES_CONTEXT_KEY = createContextKey('sentry_scopes');\n\nexport const SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY = createContextKey('sentry_fork_isolation_scope');\n\nexport const SENTRY_FORK_SET_SCOPE_CONTEXT_KEY = createContextKey('sentry_fork_set_scope');\n\nexport const SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY = createContextKey('sentry_fork_set_isolation_scope');\n","import type { Context } from '@opentelemetry/api';\nimport type { Scope } from '@sentry/core';\nimport { addNonEnumerableProperty } from '@sentry/core';\nimport { SENTRY_SCOPES_CONTEXT_KEY } from '../constants';\nimport type { CurrentScopes } from '../types';\n\nconst SCOPE_CONTEXT_FIELD = '_scopeContext';\n\n/**\n * Try to get the current scopes from the given OTEL context.\n * This requires a Context Manager that was wrapped with getWrappedContextManager.\n */\nexport function getScopesFromContext(context: Context): CurrentScopes | undefined {\n  return context.getValue(SENTRY_SCOPES_CONTEXT_KEY) as CurrentScopes | undefined;\n}\n\n/**\n * Set the current scopes on an OTEL context.\n * This will return a forked context with the Propagation Context set.\n */\nexport function setScopesOnContext(context: Context, scopes: CurrentScopes): Context {\n  return context.setValue(SENTRY_SCOPES_CONTEXT_KEY, scopes);\n}\n\n/**\n * Set the context on the scope so we can later look it up.\n * We need this to get the context from the scope in the `trace` functions.\n */\nexport function setContextOnScope(scope: Scope, context: Context): void {\n  addNonEnumerableProperty(scope, SCOPE_CONTEXT_FIELD, context);\n}\n\n/**\n * Get the context related to a scope.\n */\nexport function getContextFromScope(scope: Scope): Context | undefined {\n  return (scope as { [SCOPE_CONTEXT_FIELD]?: Context })[SCOPE_CONTEXT_FIELD];\n}\n","import { ATTR_URL_FULL, SEMATTRS_HTTP_URL } from '@opentelemetry/semantic-conventions';\nimport { getClient, isSentryRequestUrl } from '@sentry/core';\nimport type { AbstractSpan } from '../types';\nimport { spanHasAttributes } from './spanTypes';\n\n/**\n *\n * @param otelSpan Checks whether a given OTEL Span is an http request to sentry.\n * @returns boolean\n */\nexport function isSentryRequestSpan(span: AbstractSpan): boolean {\n  if (!spanHasAttributes(span)) {\n    return false;\n  }\n\n  const { attributes } = span;\n\n  // `ATTR_URL_FULL` is the new attribute, but we still support the old one, `ATTR_HTTP_URL`, for now.\n  // eslint-disable-next-line deprecation/deprecation\n  const httpUrl = attributes[SEMATTRS_HTTP_URL] || attributes[ATTR_URL_FULL];\n\n  if (!httpUrl) {\n    return false;\n  }\n\n  return isSentryRequestUrl(httpUrl.toString(), getClient());\n}\n","import type { SpanContext } from '@opentelemetry/api';\nimport { TraceFlags } from '@opentelemetry/api';\nimport { baggageHeaderToDynamicSamplingContext } from '@sentry/core';\nimport { SENTRY_TRACE_STATE_DSC, SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING } from '../constants';\n\n/**\n * OpenTelemetry only knows about SAMPLED or NONE decision,\n * but for us it is important to differentiate between unset and unsampled.\n *\n * Both of these are identified as `traceFlags === TracegFlags.NONE`,\n * but we additionally look at a special trace state to differentiate between them.\n */\nexport function getSamplingDecision(spanContext: SpanContext): boolean | undefined {\n  const { traceFlags, traceState } = spanContext;\n\n  const sampledNotRecording = traceState ? traceState.get(SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING) === '1' : false;\n\n  // If trace flag is `SAMPLED`, we interpret this as sampled\n  // If it is `NONE`, it could mean either it was sampled to be not recorder, or that it was not sampled at all\n  // For us this is an important difference, sow e look at the SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING\n  // to identify which it is\n  if (traceFlags === TraceFlags.SAMPLED) {\n    return true;\n  }\n\n  if (sampledNotRecording) {\n    return false;\n  }\n\n  // Fall back to DSC as a last resort, that may also contain `sampled`...\n  const dscString = traceState ? traceState.get(SENTRY_TRACE_STATE_DSC) : undefined;\n  const dsc = dscString ? baggageHeaderToDynamicSamplingContext(dscString) : undefined;\n\n  if (dsc?.sampled === 'true') {\n    return true;\n  }\n  if (dsc?.sampled === 'false') {\n    return false;\n  }\n\n  return undefined;\n}\n","import type { Attributes, AttributeValue } from '@opentelemetry/api';\nimport { SpanKind } from '@opentelemetry/api';\nimport {\n  ATTR_HTTP_REQUEST_METHOD,\n  ATTR_HTTP_ROUTE,\n  ATTR_URL_FULL,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n  SEMATTRS_FAAS_TRIGGER,\n  SEMATTRS_HTTP_METHOD,\n  SEMATTRS_HTTP_TARGET,\n  SEMATTRS_HTTP_URL,\n  SEMATTRS_MESSAGING_SYSTEM,\n  SEMATTRS_RPC_SERVICE,\n} from '@opentelemetry/semantic-conventions';\nimport type { SpanAttributes, TransactionSource } from '@sentry/core';\nimport {\n  getSanitizedUrlString,\n  parseUrl,\n  SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,\n  stripUrlQueryAndFragment,\n} from '@sentry/core';\nimport { SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION } from '../semanticAttributes';\nimport type { AbstractSpan } from '../types';\nimport { getSpanKind } from './getSpanKind';\nimport { spanHasAttributes, spanHasName } from './spanTypes';\n\ninterface SpanDescription {\n  op: string | undefined;\n  description: string;\n  source: TransactionSource;\n  data?: Record<string, string | undefined>;\n}\n\n/**\n * Infer the op & description for a set of name, attributes and kind of a span.\n */\nexport function inferSpanData(spanName: string, attributes: SpanAttributes, kind: SpanKind): SpanDescription {\n  // if http.method exists, this is an http request span\n  // eslint-disable-next-line deprecation/deprecation\n  const httpMethod = attributes[ATTR_HTTP_REQUEST_METHOD] || attributes[SEMATTRS_HTTP_METHOD];\n  if (httpMethod) {\n    return descriptionForHttpMethod({ attributes, name: spanName, kind }, httpMethod);\n  }\n\n  // eslint-disable-next-line deprecation/deprecation\n  const dbSystem = attributes[SEMATTRS_DB_SYSTEM];\n  const opIsCache =\n    typeof attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] === 'string' &&\n    attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP].startsWith('cache.');\n\n  // If db.type exists then this is a database call span\n  // If the Redis DB is used as a cache, the span description should not be changed\n  if (dbSystem && !opIsCache) {\n    return descriptionForDbSystem({ attributes, name: spanName });\n  }\n\n  const customSourceOrRoute = attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] === 'custom' ? 'custom' : 'route';\n\n  // If rpc.service exists then this is a rpc call span.\n  // eslint-disable-next-line deprecation/deprecation\n  const rpcService = attributes[SEMATTRS_RPC_SERVICE];\n  if (rpcService) {\n    return {\n      ...getUserUpdatedNameAndSource(spanName, attributes, 'route'),\n      op: 'rpc',\n    };\n  }\n\n  // If messaging.system exists then this is a messaging system span.\n  // eslint-disable-next-line deprecation/deprecation\n  const messagingSystem = attributes[SEMATTRS_MESSAGING_SYSTEM];\n  if (messagingSystem) {\n    return {\n      ...getUserUpdatedNameAndSource(spanName, attributes, customSourceOrRoute),\n      op: 'message',\n    };\n  }\n\n  // If faas.trigger exists then this is a function as a service span.\n  // eslint-disable-next-line deprecation/deprecation\n  const faasTrigger = attributes[SEMATTRS_FAAS_TRIGGER];\n  if (faasTrigger) {\n    return {\n      ...getUserUpdatedNameAndSource(spanName, attributes, customSourceOrRoute),\n      op: faasTrigger.toString(),\n    };\n  }\n\n  return { op: undefined, description: spanName, source: 'custom' };\n}\n\n/**\n * Extract better op/description from an otel span.\n *\n * Does not overwrite the span name if the source is already set to custom to ensure\n * that user-updated span names are preserved. In this case, we only adjust the op but\n * leave span description and source unchanged.\n *\n * Based on https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/7422ce2a06337f68a59b552b8c5a2ac125d6bae5/exporter/sentryexporter/sentry_exporter.go#L306\n */\nexport function parseSpanDescription(span: AbstractSpan): SpanDescription {\n  const attributes = spanHasAttributes(span) ? span.attributes : {};\n  const name = spanHasName(span) ? span.name : '<unknown>';\n  const kind = getSpanKind(span);\n\n  return inferSpanData(name, attributes, kind);\n}\n\nfunction descriptionForDbSystem({ attributes, name }: { attributes: Attributes; name: string }): SpanDescription {\n  // if we already have a custom name, we don't overwrite it but only set the op\n  const userDefinedName = attributes[SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];\n  if (typeof userDefinedName === 'string') {\n    return {\n      op: 'db',\n      description: userDefinedName,\n      source: (attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] as TransactionSource) || 'custom',\n    };\n  }\n\n  // if we already have the source set to custom, we don't overwrite the span description but only set the op\n  if (attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] === 'custom') {\n    return { op: 'db', description: name, source: 'custom' };\n  }\n\n  // Use DB statement (Ex \"SELECT * FROM table\") if possible as description.\n  // eslint-disable-next-line deprecation/deprecation\n  const statement = attributes[SEMATTRS_DB_STATEMENT];\n\n  const description = statement ? statement.toString() : name;\n\n  return { op: 'db', description, source: 'task' };\n}\n\n/** Only exported for tests. */\nexport function descriptionForHttpMethod(\n  { name, kind, attributes }: { name: string; attributes: Attributes; kind: SpanKind },\n  httpMethod: AttributeValue,\n): SpanDescription {\n  const opParts = ['http'];\n\n  switch (kind) {\n    case SpanKind.CLIENT:\n      opParts.push('client');\n      break;\n    case SpanKind.SERVER:\n      opParts.push('server');\n      break;\n  }\n\n  // Spans for HTTP requests we have determined to be prefetch requests will have a `.prefetch` postfix in the op\n  if (attributes['sentry.http.prefetch']) {\n    opParts.push('prefetch');\n  }\n\n  const { urlPath, url, query, fragment, hasRoute } = getSanitizedUrl(attributes, kind);\n\n  if (!urlPath) {\n    return { ...getUserUpdatedNameAndSource(name, attributes), op: opParts.join('.') };\n  }\n\n  const graphqlOperationsAttribute = attributes[SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION];\n\n  // Ex. GET /api/users\n  const baseDescription = `${httpMethod} ${urlPath}`;\n\n  // When the http span has a graphql operation, append it to the description\n  // We add these in the graphqlIntegration\n  const inferredDescription = graphqlOperationsAttribute\n    ? `${baseDescription} (${getGraphqlOperationNamesFromAttribute(graphqlOperationsAttribute)})`\n    : baseDescription;\n\n  // If `httpPath` is a root path, then we can categorize the transaction source as route.\n  const inferredSource: TransactionSource = hasRoute || urlPath === '/' ? 'route' : 'url';\n\n  const data: Record<string, string> = {};\n\n  if (url) {\n    data.url = url;\n  }\n  if (query) {\n    data['http.query'] = query;\n  }\n  if (fragment) {\n    data['http.fragment'] = fragment;\n  }\n\n  // If the span kind is neither client nor server, we use the original name\n  // this infers that somebody manually started this span, in which case we don't want to overwrite the name\n  const isClientOrServerKind = kind === SpanKind.CLIENT || kind === SpanKind.SERVER;\n\n  // If the span is an auto-span (=it comes from one of our instrumentations),\n  // we always want to infer the name\n  // this is necessary because some of the auto-instrumentation we use uses kind=INTERNAL\n  const origin = attributes[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN] || 'manual';\n  const isManualSpan = !`${origin}`.startsWith('auto');\n\n  // If users (or in very rare occasions we) set the source to custom, we don't overwrite the name\n  const alreadyHasCustomSource = attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] === 'custom';\n  const customSpanName = attributes[SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];\n\n  const useInferredDescription =\n    !alreadyHasCustomSource && customSpanName == null && (isClientOrServerKind || !isManualSpan);\n\n  const { description, source } = useInferredDescription\n    ? { description: inferredDescription, source: inferredSource }\n    : getUserUpdatedNameAndSource(name, attributes);\n\n  return {\n    op: opParts.join('.'),\n    description,\n    source,\n    data,\n  };\n}\n\nfunction getGraphqlOperationNamesFromAttribute(attr: AttributeValue): string {\n  if (Array.isArray(attr)) {\n    const sorted = attr.slice().sort();\n\n    // Up to 5 items, we just add all of them\n    if (sorted.length <= 5) {\n      return sorted.join(', ');\n    } else {\n      // Else, we add the first 5 and the diff of other operations\n      return `${sorted.slice(0, 5).join(', ')}, +${sorted.length - 5}`;\n    }\n  }\n\n  return `${attr}`;\n}\n\n/** Exported for tests only */\nexport function getSanitizedUrl(\n  attributes: Attributes,\n  kind: SpanKind,\n): {\n  url: string | undefined;\n  urlPath: string | undefined;\n  query: string | undefined;\n  fragment: string | undefined;\n  hasRoute: boolean;\n} {\n  // This is the relative path of the URL, e.g. /sub\n  // eslint-disable-next-line deprecation/deprecation\n  const httpTarget = attributes[SEMATTRS_HTTP_TARGET];\n  // This is the full URL, including host & query params etc., e.g. https://example.com/sub?foo=bar\n  // eslint-disable-next-line deprecation/deprecation\n  const httpUrl = attributes[SEMATTRS_HTTP_URL] || attributes[ATTR_URL_FULL];\n  // This is the normalized route name - may not always be available!\n  const httpRoute = attributes[ATTR_HTTP_ROUTE];\n\n  const parsedUrl = typeof httpUrl === 'string' ? parseUrl(httpUrl) : undefined;\n  const url = parsedUrl ? getSanitizedUrlString(parsedUrl) : undefined;\n  const query = parsedUrl?.search || undefined;\n  const fragment = parsedUrl?.hash || undefined;\n\n  if (typeof httpRoute === 'string') {\n    return { urlPath: httpRoute, url, query, fragment, hasRoute: true };\n  }\n\n  if (kind === SpanKind.SERVER && typeof httpTarget === 'string') {\n    return { urlPath: stripUrlQueryAndFragment(httpTarget), url, query, fragment, hasRoute: false };\n  }\n\n  if (parsedUrl) {\n    return { urlPath: url, url, query, fragment, hasRoute: false };\n  }\n\n  // fall back to target even for client spans, if no URL is present\n  if (typeof httpTarget === 'string') {\n    return { urlPath: stripUrlQueryAndFragment(httpTarget), url, query, fragment, hasRoute: false };\n  }\n\n  return { urlPath: undefined, url, query, fragment, hasRoute: false };\n}\n\n/**\n * Because Otel instrumentation sometimes mutates span names via `span.updateName`, the only way\n * to ensure that a user-set span name is preserved is to store it as a tmp attribute on the span.\n * We delete this attribute once we're done with it when preparing the event envelope.\n *\n * This temp attribute always takes precedence over the original name.\n *\n * We also need to take care of setting the correct source. Users can always update the source\n * after updating the name, so we need to respect that.\n *\n * @internal exported only for testing\n */\nexport function getUserUpdatedNameAndSource(\n  originalName: string,\n  attributes: Attributes,\n  fallbackSource: TransactionSource = 'custom',\n): {\n  description: string;\n  source: TransactionSource;\n} {\n  const source = (attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] as TransactionSource) || fallbackSource;\n  const description = attributes[SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];\n\n  if (description && typeof description === 'string') {\n    return {\n      description,\n      source,\n    };\n  }\n\n  return { description: originalName, source };\n}\n","import type { Client } from '@sentry/core';\nimport { hasSpansEnabled, SEMANTIC_ATTRIBUTE_SENTRY_SOURCE, spanToJSON } from '@sentry/core';\nimport { getSamplingDecision } from './getSamplingDecision';\nimport { parseSpanDescription } from './parseSpanDescription';\nimport { spanHasName } from './spanTypes';\n\n/**\n * Setup a DSC handler on the passed client,\n * ensuring that the transaction name is inferred from the span correctly.\n */\nexport function enhanceDscWithOpenTelemetryRootSpanName(client: Client): void {\n  client.on('createDsc', (dsc, rootSpan) => {\n    if (!rootSpan) {\n      return;\n    }\n\n    // We want to overwrite the transaction on the DSC that is created by default in core\n    // The reason for this is that we want to infer the span name, not use the initial one\n    // Otherwise, we'll get names like \"GET\" instead of e.g. \"GET /foo\"\n    // `parseSpanDescription` takes the attributes of the span into account for the name\n    // This mutates the passed-in DSC\n\n    const jsonSpan = spanToJSON(rootSpan);\n    const attributes = jsonSpan.data;\n    const source = attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];\n\n    const { description } = spanHasName(rootSpan) ? parseSpanDescription(rootSpan) : { description: undefined };\n    if (source !== 'url' && description) {\n      dsc.transaction = description;\n    }\n\n    // Also ensure sampling decision is correctly inferred\n    // In core, we use `spanIsSampled`, which just looks at the trace flags\n    // but in OTEL, we use a slightly more complex logic to be able to differntiate between unsampled and deferred sampling\n    if (hasSpansEnabled()) {\n      const sampled = getSamplingDecision(rootSpan.spanContext());\n      dsc.sampled = sampled == undefined ? undefined : String(sampled);\n    }\n  });\n}\n","import type { Span } from '@opentelemetry/api';\nimport { trace } from '@opentelemetry/api';\n\n/**\n * Returns the currently active span.\n */\nexport function getActiveSpan(): Span | undefined {\n  return trace.getActiveSpan();\n}\n","declare const __DEBUG_BUILD__: boolean;\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nexport const DEBUG_BUILD = __DEBUG_BUILD__;\n","import { TraceState } from '@opentelemetry/core';\nimport type { DynamicSamplingContext } from '@sentry/core';\nimport { dynamicSamplingContextToSentryBaggageHeader } from '@sentry/core';\nimport { SENTRY_TRACE_STATE_DSC, SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING } from '../constants';\n\n/**\n * Generate a TraceState for the given data.\n */\nexport function makeTraceState({\n  dsc,\n  sampled,\n}: {\n  dsc?: Partial<DynamicSamplingContext>;\n  sampled?: boolean;\n}): TraceState {\n  // We store the DSC as OTEL trace state on the span context\n  const dscString = dsc ? dynamicSamplingContextToSentryBaggageHeader(dsc) : undefined;\n\n  const traceStateBase = new TraceState();\n\n  const traceStateWithDsc = dscString ? traceStateBase.set(SENTRY_TRACE_STATE_DSC, dscString) : traceStateBase;\n\n  // We also specifically want to store if this is sampled to be not recording,\n  // or unsampled (=could be either sampled or not)\n  return sampled === false ? traceStateWithDsc.set(SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING, '1') : traceStateWithDsc;\n}\n","type OpenTelemetryElement = 'SentrySpanProcessor' | 'SentryContextManager' | 'SentryPropagator' | 'SentrySampler';\n\nconst setupElements = new Set<OpenTelemetryElement>();\n\n/** Get all the OpenTelemetry elements that have been set up. */\nexport function openTelemetrySetupCheck(): OpenTelemetryElement[] {\n  return Array.from(setupElements);\n}\n\n/** Mark an OpenTelemetry element as setup. */\nexport function setIsSetup(element: OpenTelemetryElement): void {\n  setupElements.add(element);\n}\n\n/** Only exported for tests. */\nexport function clearOpenTelemetrySetupCheck(): void {\n  setupElements.clear();\n}\n","import type { Baggage, Context, Span, SpanContext, TextMapGetter, TextMapSetter } from '@opentelemetry/api';\nimport { context, INVALID_TRACEID, propagation, trace, TraceFlags } from '@opentelemetry/api';\nimport { isTracingSuppressed, W3CBaggagePropagator } from '@opentelemetry/core';\nimport { ATTR_URL_FULL, SEMATTRS_HTTP_URL } from '@opentelemetry/semantic-conventions';\nimport type { Client, continueTrace, DynamicSamplingContext, Options, Scope } from '@sentry/core';\nimport {\n  generateSentryTraceHeader,\n  getClient,\n  getCurrentScope,\n  getDynamicSamplingContextFromScope,\n  getDynamicSamplingContextFromSpan,\n  getIsolationScope,\n  logger,\n  LRUMap,\n  parseBaggageHeader,\n  propagationContextFromHeaders,\n  SENTRY_BAGGAGE_KEY_PREFIX,\n  spanToJSON,\n  stringMatchesSomePattern,\n} from '@sentry/core';\nimport { SENTRY_BAGGAGE_HEADER, SENTRY_TRACE_HEADER, SENTRY_TRACE_STATE_URL } from './constants';\nimport { DEBUG_BUILD } from './debug-build';\nimport { getScopesFromContext, setScopesOnContext } from './utils/contextData';\nimport { getSamplingDecision } from './utils/getSamplingDecision';\nimport { makeTraceState } from './utils/makeTraceState';\nimport { setIsSetup } from './utils/setupCheck';\n\n/**\n * Injects and extracts `sentry-trace` and `baggage` headers from carriers.\n */\nexport class SentryPropagator extends W3CBaggagePropagator {\n  /** A map of URLs that have already been checked for if they match tracePropagationTargets. */\n  private _urlMatchesTargetsMap: LRUMap<string, boolean>;\n\n  public constructor() {\n    super();\n    setIsSetup('SentryPropagator');\n\n    // We're caching results so we don't have to recompute regexp every time we create a request.\n    this._urlMatchesTargetsMap = new LRUMap<string, boolean>(100);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public inject(context: Context, carrier: unknown, setter: TextMapSetter): void {\n    if (isTracingSuppressed(context)) {\n      DEBUG_BUILD && logger.log('[Tracing] Not injecting trace data for url because tracing is suppressed.');\n      return;\n    }\n\n    const activeSpan = trace.getSpan(context);\n    const url = activeSpan && getCurrentURL(activeSpan);\n\n    const tracePropagationTargets = getClient()?.getOptions()?.tracePropagationTargets;\n    if (!shouldPropagateTraceForUrl(url, tracePropagationTargets, this._urlMatchesTargetsMap)) {\n      DEBUG_BUILD &&\n        logger.log(\n          '[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:',\n          url,\n        );\n      return;\n    }\n\n    const existingBaggageHeader = getExistingBaggage(carrier);\n    let baggage = propagation.getBaggage(context) || propagation.createBaggage({});\n\n    const { dynamicSamplingContext, traceId, spanId, sampled } = getInjectionData(context);\n\n    if (existingBaggageHeader) {\n      const baggageEntries = parseBaggageHeader(existingBaggageHeader);\n\n      if (baggageEntries) {\n        Object.entries(baggageEntries).forEach(([key, value]) => {\n          baggage = baggage.setEntry(key, { value });\n        });\n      }\n    }\n\n    if (dynamicSamplingContext) {\n      baggage = Object.entries(dynamicSamplingContext).reduce<Baggage>((b, [dscKey, dscValue]) => {\n        if (dscValue) {\n          return b.setEntry(`${SENTRY_BAGGAGE_KEY_PREFIX}${dscKey}`, { value: dscValue });\n        }\n        return b;\n      }, baggage);\n    }\n\n    // We also want to avoid setting the default OTEL trace ID, if we get that for whatever reason\n    if (traceId && traceId !== INVALID_TRACEID) {\n      setter.set(carrier, SENTRY_TRACE_HEADER, generateSentryTraceHeader(traceId, spanId, sampled));\n    }\n\n    super.inject(propagation.setBaggage(context, baggage), carrier, setter);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public extract(context: Context, carrier: unknown, getter: TextMapGetter): Context {\n    const maybeSentryTraceHeader: string | string[] | undefined = getter.get(carrier, SENTRY_TRACE_HEADER);\n    const baggage = getter.get(carrier, SENTRY_BAGGAGE_HEADER);\n\n    const sentryTrace = maybeSentryTraceHeader\n      ? Array.isArray(maybeSentryTraceHeader)\n        ? maybeSentryTraceHeader[0]\n        : maybeSentryTraceHeader\n      : undefined;\n\n    // Add remote parent span context\n    // If there is no incoming trace, this will return the context as-is\n    return ensureScopesOnContext(getContextWithRemoteActiveSpan(context, { sentryTrace, baggage }));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public fields(): string[] {\n    return [SENTRY_TRACE_HEADER, SENTRY_BAGGAGE_HEADER];\n  }\n}\n\nconst NOT_PROPAGATED_MESSAGE =\n  '[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:';\n\n/**\n * Check if a given URL should be propagated to or not.\n * If no url is defined, or no trace propagation targets are defined, this will always return `true`.\n * You can also optionally provide a decision map, to cache decisions and avoid repeated regex lookups.\n */\nexport function shouldPropagateTraceForUrl(\n  url: string | undefined,\n  tracePropagationTargets: Options['tracePropagationTargets'],\n  decisionMap?: LRUMap<string, boolean>,\n): boolean {\n  if (typeof url !== 'string' || !tracePropagationTargets) {\n    return true;\n  }\n\n  const cachedDecision = decisionMap?.get(url);\n  if (cachedDecision !== undefined) {\n    DEBUG_BUILD && !cachedDecision && logger.log(NOT_PROPAGATED_MESSAGE, url);\n    return cachedDecision;\n  }\n\n  const decision = stringMatchesSomePattern(url, tracePropagationTargets);\n  decisionMap?.set(url, decision);\n\n  DEBUG_BUILD && !decision && logger.log(NOT_PROPAGATED_MESSAGE, url);\n  return decision;\n}\n\n/**\n * Get propagation injection data for the given context.\n * The additional options can be passed to override the scope and client that is otherwise derived from the context.\n */\nexport function getInjectionData(\n  context: Context,\n  options: { scope?: Scope; client?: Client } = {},\n): {\n  dynamicSamplingContext: Partial<DynamicSamplingContext> | undefined;\n  traceId: string | undefined;\n  spanId: string | undefined;\n  sampled: boolean | undefined;\n} {\n  const span = trace.getSpan(context);\n\n  // If we have a remote span, the spanId should be considered as the parentSpanId, not spanId itself\n  // Instead, we use a virtual (generated) spanId for propagation\n  if (span?.spanContext().isRemote) {\n    const spanContext = span.spanContext();\n    const dynamicSamplingContext = getDynamicSamplingContextFromSpan(span);\n\n    return {\n      dynamicSamplingContext,\n      traceId: spanContext.traceId,\n      spanId: undefined,\n      sampled: getSamplingDecision(spanContext), // TODO: Do we need to change something here?\n    };\n  }\n\n  // If we have a local span, we just use this\n  if (span) {\n    const spanContext = span.spanContext();\n    const dynamicSamplingContext = getDynamicSamplingContextFromSpan(span);\n\n    return {\n      dynamicSamplingContext,\n      traceId: spanContext.traceId,\n      spanId: spanContext.spanId,\n      sampled: getSamplingDecision(spanContext), // TODO: Do we need to change something here?\n    };\n  }\n\n  // Else we try to use the propagation context from the scope\n  // The only scenario where this should happen is when we neither have a span, nor an incoming trace\n  const scope = options.scope || getScopesFromContext(context)?.scope || getCurrentScope();\n  const client = options.client || getClient();\n\n  const propagationContext = scope.getPropagationContext();\n  const dynamicSamplingContext = client ? getDynamicSamplingContextFromScope(client, scope) : undefined;\n  return {\n    dynamicSamplingContext,\n    traceId: propagationContext.traceId,\n    spanId: propagationContext.propagationSpanId,\n    sampled: propagationContext.sampled,\n  };\n}\n\nfunction getContextWithRemoteActiveSpan(\n  ctx: Context,\n  { sentryTrace, baggage }: Parameters<typeof continueTrace>[0],\n): Context {\n  const propagationContext = propagationContextFromHeaders(sentryTrace, baggage);\n\n  const { traceId, parentSpanId, sampled, dsc } = propagationContext;\n\n  // We only want to set the virtual span if we are continuing a concrete trace\n  // Otherwise, we ignore the incoming trace here, e.g. if we have no trace headers\n  if (!parentSpanId) {\n    return ctx;\n  }\n\n  const spanContext = generateRemoteSpanContext({\n    traceId,\n    spanId: parentSpanId,\n    sampled,\n    dsc,\n  });\n\n  return trace.setSpanContext(ctx, spanContext);\n}\n\n/**\n * Takes trace strings and propagates them as a remote active span.\n * This should be used in addition to `continueTrace` in OTEL-powered environments.\n */\nexport function continueTraceAsRemoteSpan<T>(\n  ctx: Context,\n  options: Parameters<typeof continueTrace>[0],\n  callback: () => T,\n): T {\n  const ctxWithSpanContext = ensureScopesOnContext(getContextWithRemoteActiveSpan(ctx, options));\n\n  return context.with(ctxWithSpanContext, callback);\n}\n\nfunction ensureScopesOnContext(ctx: Context): Context {\n  // If there are no scopes yet on the context, ensure we have them\n  const scopes = getScopesFromContext(ctx);\n  const newScopes = {\n    // If we have no scope here, this is most likely either the root context or a context manually derived from it\n    // In this case, we want to fork the current scope, to ensure we do not pollute the root scope\n    scope: scopes ? scopes.scope : getCurrentScope().clone(),\n    isolationScope: scopes ? scopes.isolationScope : getIsolationScope(),\n  };\n\n  return setScopesOnContext(ctx, newScopes);\n}\n\n/** Try to get the existing baggage header so we can merge this in. */\nfunction getExistingBaggage(carrier: unknown): string | undefined {\n  try {\n    const baggage = (carrier as Record<string, string | string[]>)[SENTRY_BAGGAGE_HEADER];\n    return Array.isArray(baggage) ? baggage.join(',') : baggage;\n  } catch {\n    return undefined;\n  }\n}\n\n/**\n * It is pretty tricky to get access to the outgoing request URL of a request in the propagator.\n * As we only have access to the context of the span to be sent and the carrier (=headers),\n * but the span may be unsampled and thus have no attributes.\n *\n * So we use the following logic:\n * 1. If we have an active span, we check if it has a URL attribute.\n * 2. Else, if the active span has no URL attribute (e.g. it is unsampled), we check a special trace state (which we set in our sampler).\n */\nfunction getCurrentURL(span: Span): string | undefined {\n  const spanData = spanToJSON(span).data;\n  // `ATTR_URL_FULL` is the new attribute, but we still support the old one, `SEMATTRS_HTTP_URL`, for now.\n  // eslint-disable-next-line deprecation/deprecation\n  const urlAttribute = spanData[SEMATTRS_HTTP_URL] || spanData[ATTR_URL_FULL];\n  if (typeof urlAttribute === 'string') {\n    return urlAttribute;\n  }\n\n  // Also look at the traceState, which we may set in the sampler even for unsampled spans\n  const urlTraceState = span.spanContext().traceState?.get(SENTRY_TRACE_STATE_URL);\n  if (urlTraceState) {\n    return urlTraceState;\n  }\n\n  return undefined;\n}\n\nfunction generateRemoteSpanContext({\n  spanId,\n  traceId,\n  sampled,\n  dsc,\n}: {\n  spanId: string;\n  traceId: string;\n  sampled: boolean | undefined;\n  dsc?: Partial<DynamicSamplingContext>;\n}): SpanContext {\n  // We store the DSC as OTEL trace state on the span context\n  const traceState = makeTraceState({\n    dsc,\n    sampled,\n  });\n\n  const spanContext: SpanContext = {\n    traceId,\n    spanId,\n    isRemote: true,\n    traceFlags: sampled ? TraceFlags.SAMPLED : TraceFlags.NONE,\n    traceState,\n  };\n\n  return spanContext;\n}\n","import type { Context, Span, SpanContext, SpanOptions, Tracer } from '@opentelemetry/api';\nimport { context, SpanStatusCode, trace, TraceFlags } from '@opentelemetry/api';\nimport { suppressTracing } from '@opentelemetry/core';\nimport type {\n  Client,\n  continueTrace as baseContinueTrace,\n  DynamicSamplingContext,\n  Scope,\n  Span as SentrySpan,\n  TraceContext,\n} from '@sentry/core';\nimport {\n  getClient,\n  getCurrentScope,\n  getDynamicSamplingContextFromScope,\n  getDynamicSamplingContextFromSpan,\n  getRootSpan,\n  getTraceContextFromScope,\n  handleCallbackErrors,\n  SDK_VERSION,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  spanToJSON,\n  spanToTraceContext,\n} from '@sentry/core';\nimport { continueTraceAsRemoteSpan } from './propagator';\nimport type { OpenTelemetryClient, OpenTelemetrySpanContext } from './types';\nimport { getContextFromScope } from './utils/contextData';\nimport { getSamplingDecision } from './utils/getSamplingDecision';\nimport { makeTraceState } from './utils/makeTraceState';\n\n/**\n * Wraps a function with a transaction/span and finishes the span after the function is done.\n * The created span is the active span and will be used as parent by other spans created inside the function\n * and can be accessed via `Sentry.getActiveSpan()`, as long as the function is executed while the scope is active.\n *\n * If you want to create a span that is not set as active, use {@link startInactiveSpan}.\n *\n * You'll always get a span passed to the callback,\n * it may just be a non-recording span if the span is not sampled or if tracing is disabled.\n */\nexport function startSpan<T>(options: OpenTelemetrySpanContext, callback: (span: Span) => T): T {\n  const tracer = getTracer();\n\n  const { name, parentSpan: customParentSpan } = options;\n\n  // If `options.parentSpan` is defined, we want to wrap the callback in `withActiveSpan`\n  const wrapper = getActiveSpanWrapper<T>(customParentSpan);\n\n  return wrapper(() => {\n    const activeCtx = getContext(options.scope, options.forceTransaction);\n    const shouldSkipSpan = options.onlyIfParent && !trace.getSpan(activeCtx);\n    const ctx = shouldSkipSpan ? suppressTracing(activeCtx) : activeCtx;\n\n    const spanOptions = getSpanOptions(options);\n\n    return tracer.startActiveSpan(name, spanOptions, ctx, span => {\n      return handleCallbackErrors(\n        () => callback(span),\n        () => {\n          // Only set the span status to ERROR when there wasn't any status set before, in order to avoid stomping useful span statuses\n          if (spanToJSON(span).status === undefined) {\n            span.setStatus({ code: SpanStatusCode.ERROR });\n          }\n        },\n        () => span.end(),\n      );\n    });\n  });\n}\n\n/**\n * Similar to `Sentry.startSpan`. Wraps a function with a span, but does not finish the span\n * after the function is done automatically. You'll have to call `span.end()` manually.\n *\n * The created span is the active span and will be used as parent by other spans created inside the function\n * and can be accessed via `Sentry.getActiveSpan()`, as long as the function is executed while the scope is active.\n *\n * You'll always get a span passed to the callback,\n * it may just be a non-recording span if the span is not sampled or if tracing is disabled.\n */\nexport function startSpanManual<T>(\n  options: OpenTelemetrySpanContext,\n  callback: (span: Span, finish: () => void) => T,\n): T {\n  const tracer = getTracer();\n\n  const { name, parentSpan: customParentSpan } = options;\n\n  // If `options.parentSpan` is defined, we want to wrap the callback in `withActiveSpan`\n  const wrapper = getActiveSpanWrapper<T>(customParentSpan);\n\n  return wrapper(() => {\n    const activeCtx = getContext(options.scope, options.forceTransaction);\n    const shouldSkipSpan = options.onlyIfParent && !trace.getSpan(activeCtx);\n    const ctx = shouldSkipSpan ? suppressTracing(activeCtx) : activeCtx;\n\n    const spanOptions = getSpanOptions(options);\n\n    return tracer.startActiveSpan(name, spanOptions, ctx, span => {\n      return handleCallbackErrors(\n        () => callback(span, () => span.end()),\n        () => {\n          // Only set the span status to ERROR when there wasn't any status set before, in order to avoid stomping useful span statuses\n          if (spanToJSON(span).status === undefined) {\n            span.setStatus({ code: SpanStatusCode.ERROR });\n          }\n        },\n      );\n    });\n  });\n}\n\n/**\n * Creates a span. This span is not set as active, so will not get automatic instrumentation spans\n * as children or be able to be accessed via `Sentry.getActiveSpan()`.\n *\n * If you want to create a span that is set as active, use {@link startSpan}.\n *\n * This function will always return a span,\n * it may just be a non-recording span if the span is not sampled or if tracing is disabled.\n */\nexport function startInactiveSpan(options: OpenTelemetrySpanContext): Span {\n  const tracer = getTracer();\n\n  const { name, parentSpan: customParentSpan } = options;\n\n  // If `options.parentSpan` is defined, we want to wrap the callback in `withActiveSpan`\n  const wrapper = getActiveSpanWrapper<Span>(customParentSpan);\n\n  return wrapper(() => {\n    const activeCtx = getContext(options.scope, options.forceTransaction);\n    const shouldSkipSpan = options.onlyIfParent && !trace.getSpan(activeCtx);\n    const ctx = shouldSkipSpan ? suppressTracing(activeCtx) : activeCtx;\n\n    const spanOptions = getSpanOptions(options);\n\n    const span = tracer.startSpan(name, spanOptions, ctx);\n\n    return span;\n  });\n}\n\n/**\n * Forks the current scope and sets the provided span as active span in the context of the provided callback. Can be\n * passed `null` to start an entirely new span tree.\n *\n * @param span Spans started in the context of the provided callback will be children of this span. If `null` is passed,\n * spans started within the callback will be root spans.\n * @param callback Execution context in which the provided span will be active. Is passed the newly forked scope.\n * @returns the value returned from the provided callback function.\n */\nexport function withActiveSpan<T>(span: Span | null, callback: (scope: Scope) => T): T {\n  const newContextWithActiveSpan = span ? trace.setSpan(context.active(), span) : trace.deleteSpan(context.active());\n  return context.with(newContextWithActiveSpan, () => callback(getCurrentScope()));\n}\n\nfunction getTracer(): Tracer {\n  const client = getClient<Client & OpenTelemetryClient>();\n  return client?.tracer || trace.getTracer('@sentry/opentelemetry', SDK_VERSION);\n}\n\nfunction getSpanOptions(options: OpenTelemetrySpanContext): SpanOptions {\n  const { startTime, attributes, kind, op, links } = options;\n\n  // OTEL expects timestamps in ms, not seconds\n  const fixedStartTime = typeof startTime === 'number' ? ensureTimestampInMilliseconds(startTime) : startTime;\n\n  return {\n    attributes: op\n      ? {\n          [SEMANTIC_ATTRIBUTE_SENTRY_OP]: op,\n          ...attributes,\n        }\n      : attributes,\n    kind,\n    links,\n    startTime: fixedStartTime,\n  };\n}\n\nfunction ensureTimestampInMilliseconds(timestamp: number): number {\n  const isMs = timestamp < 9999999999;\n  return isMs ? timestamp * 1000 : timestamp;\n}\n\nfunction getContext(scope: Scope | undefined, forceTransaction: boolean | undefined): Context {\n  const ctx = getContextForScope(scope);\n  const parentSpan = trace.getSpan(ctx);\n\n  // In the case that we have no parent span, we start a new trace\n  // Note that if we continue a trace, we'll always have a remote parent span here anyhow\n  if (!parentSpan) {\n    return ctx;\n  }\n\n  // If we don't want to force a transaction, and we have a parent span, all good, we just return as-is!\n  if (!forceTransaction) {\n    return ctx;\n  }\n\n  // Else, if we do have a parent span but want to force a transaction, we have to simulate a \"root\" context\n\n  // Else, we need to do two things:\n  // 1. Unset the parent span from the context, so we'll create a new root span\n  // 2. Ensure the propagation context is correct, so we'll continue from the parent span\n  const ctxWithoutSpan = trace.deleteSpan(ctx);\n\n  const { spanId, traceId } = parentSpan.spanContext();\n  const sampled = getSamplingDecision(parentSpan.spanContext());\n\n  // In this case, when we are forcing a transaction, we want to treat this like continuing an incoming trace\n  // so we set the traceState according to the root span\n  const rootSpan = getRootSpan(parentSpan);\n  const dsc = getDynamicSamplingContextFromSpan(rootSpan);\n\n  const traceState = makeTraceState({\n    dsc,\n    sampled,\n  });\n\n  const spanOptions: SpanContext = {\n    traceId,\n    spanId,\n    isRemote: true,\n    traceFlags: sampled ? TraceFlags.SAMPLED : TraceFlags.NONE,\n    traceState,\n  };\n\n  const ctxWithSpanContext = trace.setSpanContext(ctxWithoutSpan, spanOptions);\n\n  return ctxWithSpanContext;\n}\n\nfunction getContextForScope(scope?: Scope): Context {\n  if (scope) {\n    const ctx = getContextFromScope(scope);\n    if (ctx) {\n      return ctx;\n    }\n  }\n\n  return context.active();\n}\n\n/**\n * Continue a trace from `sentry-trace` and `baggage` values.\n * These values can be obtained from incoming request headers, or in the browser from `<meta name=\"sentry-trace\">`\n * and `<meta name=\"baggage\">` HTML tags.\n *\n * Spans started with `startSpan`, `startSpanManual` and `startInactiveSpan`, within the callback will automatically\n * be attached to the incoming trace.\n *\n * This is a custom version of `continueTrace` that is used in OTEL-powered environments.\n * It propagates the trace as a remote span, in addition to setting it on the propagation context.\n */\nexport function continueTrace<T>(options: Parameters<typeof baseContinueTrace>[0], callback: () => T): T {\n  return continueTraceAsRemoteSpan(context.active(), options, callback);\n}\n\n/**\n * Get the trace context for a given scope.\n * We have a custom implemention here because we need an OTEL-specific way to get the span from a scope.\n */\nexport function getTraceContextForScope(\n  client: Client,\n  scope: Scope,\n): [dynamicSamplingContext: Partial<DynamicSamplingContext>, traceContext: TraceContext] {\n  const ctx = getContextFromScope(scope);\n  const span = ctx && trace.getSpan(ctx);\n\n  const traceContext = span ? spanToTraceContext(span) : getTraceContextFromScope(scope);\n\n  const dynamicSamplingContext = span\n    ? getDynamicSamplingContextFromSpan(span)\n    : getDynamicSamplingContextFromScope(client, scope);\n  return [dynamicSamplingContext, traceContext];\n}\n\nfunction getActiveSpanWrapper<T>(parentSpan: Span | SentrySpan | undefined | null): (callback: () => T) => T {\n  return parentSpan !== undefined\n    ? (callback: () => T) => {\n        return withActiveSpan(parentSpan, callback);\n      }\n    : (callback: () => T) => callback();\n}\n","import { context } from '@opentelemetry/api';\nimport { suppressTracing as suppressTracingImpl } from '@opentelemetry/core';\n\n/** Suppress tracing in the given callback, ensuring no spans are generated inside of it. */\nexport function suppressTracing<T>(callback: () => T): T {\n  const ctx = suppressTracingImpl(context.active());\n  return context.with(ctx, callback);\n}\n","import type { Client } from '@sentry/core';\nimport { getDynamicSamplingContextFromSpan, getRootSpan, spanToTraceContext } from '@sentry/core';\nimport { getActiveSpan } from './utils/getActiveSpan';\n\n/** Ensure the `trace` context is set on all events. */\nexport function setupEventContextTrace(client: Client): void {\n  client.on('preprocessEvent', event => {\n    const span = getActiveSpan();\n    // For transaction events, this is handled separately\n    // Because the active span may not be the span that is actually the transaction event\n    if (!span || event.type === 'transaction') {\n      return;\n    }\n\n    // If event has already set `trace` context, use that one.\n    event.contexts = {\n      trace: spanToTraceContext(span),\n      ...event.contexts,\n    };\n\n    const rootSpan = getRootSpan(span);\n\n    event.sdkProcessingMetadata = {\n      dynamicSamplingContext: getDynamicSamplingContextFromSpan(rootSpan),\n      ...event.sdkProcessingMetadata,\n    };\n\n    return event;\n  });\n}\n","import * as api from '@opentelemetry/api';\nimport type { Client, Scope, SerializedTraceData, Span } from '@sentry/core';\nimport {\n  dynamicSamplingContextToSentryBaggageHeader,\n  generateSentryTraceHeader,\n  getCapturedScopesOnSpan,\n} from '@sentry/core';\nimport { getInjectionData } from '../propagator';\nimport { getContextFromScope } from './contextData';\n\n/**\n * Otel-specific implementation of `getTraceData`.\n * @see `@sentry/core` version of `getTraceData` for more information\n */\nexport function getTraceData({\n  span,\n  scope,\n  client,\n}: { span?: Span; scope?: Scope; client?: Client } = {}): SerializedTraceData {\n  let ctx = (scope && getContextFromScope(scope)) ?? api.context.active();\n\n  if (span) {\n    const { scope } = getCapturedScopesOnSpan(span);\n    // fall back to current context if for whatever reason we can't find the one of the span\n    ctx = (scope && getContextFromScope(scope)) || api.trace.setSpan(api.context.active(), span);\n  }\n\n  const { traceId, spanId, sampled, dynamicSamplingContext } = getInjectionData(ctx, { scope, client });\n\n  return {\n    'sentry-trace': generateSentryTraceHeader(traceId, spanId, sampled),\n    baggage: dynamicSamplingContextToSentryBaggageHeader(dynamicSamplingContext),\n  };\n}\n","import * as api from '@opentelemetry/api';\nimport type { Scope, withActiveSpan as defaultWithActiveSpan } from '@sentry/core';\nimport { getDefaultCurrentScope, getDefaultIsolationScope, setAsyncContextStrategy } from '@sentry/core';\nimport {\n  SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY,\n  SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY,\n  SENTRY_FORK_SET_SCOPE_CONTEXT_KEY,\n} from './constants';\nimport { continueTrace, startInactiveSpan, startSpan, startSpanManual, withActiveSpan } from './trace';\nimport type { CurrentScopes } from './types';\nimport { getContextFromScope, getScopesFromContext } from './utils/contextData';\nimport { getActiveSpan } from './utils/getActiveSpan';\nimport { getTraceData } from './utils/getTraceData';\nimport { suppressTracing } from './utils/suppressTracing';\n\n/**\n * Sets the async context strategy to use follow the OTEL context under the hood.\n * We handle forking a hub inside of our custom OTEL Context Manager (./otelContextManager.ts)\n */\nexport function setOpenTelemetryContextAsyncContextStrategy(): void {\n  function getScopes(): CurrentScopes {\n    const ctx = api.context.active();\n    const scopes = getScopesFromContext(ctx);\n\n    if (scopes) {\n      return scopes;\n    }\n\n    // fallback behavior:\n    // if, for whatever reason, we can't find scopes on the context here, we have to fix this somehow\n    return {\n      scope: getDefaultCurrentScope(),\n      isolationScope: getDefaultIsolationScope(),\n    };\n  }\n\n  function withScope<T>(callback: (scope: Scope) => T): T {\n    const ctx = api.context.active();\n\n    // We depend on the otelContextManager to handle the context/hub\n    // We set the `SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY` context value, which is picked up by\n    // the OTEL context manager, which uses the presence of this key to determine if it should\n    // fork the isolation scope, or not\n    // as by default, we don't want to fork this, unless triggered explicitly by `withScope`\n    return api.context.with(ctx, () => {\n      return callback(getCurrentScope());\n    });\n  }\n\n  function withSetScope<T>(scope: Scope, callback: (scope: Scope) => T): T {\n    const ctx = getContextFromScope(scope) || api.context.active();\n\n    // We depend on the otelContextManager to handle the context/hub\n    // We set the `SENTRY_FORK_SET_SCOPE_CONTEXT_KEY` context value, which is picked up by\n    // the OTEL context manager, which picks up this scope as the current scope\n    return api.context.with(ctx.setValue(SENTRY_FORK_SET_SCOPE_CONTEXT_KEY, scope), () => {\n      return callback(scope);\n    });\n  }\n\n  function withIsolationScope<T>(callback: (isolationScope: Scope) => T): T {\n    const ctx = api.context.active();\n\n    // We depend on the otelContextManager to handle the context/hub\n    // We set the `SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY` context value, which is picked up by\n    // the OTEL context manager, which uses the presence of this key to determine if it should\n    // fork the isolation scope, or not\n    return api.context.with(ctx.setValue(SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY, true), () => {\n      return callback(getIsolationScope());\n    });\n  }\n\n  function withSetIsolationScope<T>(isolationScope: Scope, callback: (isolationScope: Scope) => T): T {\n    const ctx = api.context.active();\n\n    // We depend on the otelContextManager to handle the context/hub\n    // We set the `SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY` context value, which is picked up by\n    // the OTEL context manager, which uses the presence of this key to determine if it should\n    // fork the isolation scope, or not\n    return api.context.with(ctx.setValue(SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY, isolationScope), () => {\n      return callback(getIsolationScope());\n    });\n  }\n\n  function getCurrentScope(): Scope {\n    return getScopes().scope;\n  }\n\n  function getIsolationScope(): Scope {\n    return getScopes().isolationScope;\n  }\n\n  setAsyncContextStrategy({\n    withScope,\n    withSetScope,\n    withSetIsolationScope,\n    withIsolationScope,\n    getCurrentScope,\n    getIsolationScope,\n    startSpan,\n    startSpanManual,\n    startInactiveSpan,\n    getActiveSpan,\n    suppressTracing,\n    getTraceData,\n    continueTrace,\n    // The types here don't fully align, because our own `Span` type is narrower\n    // than the OTEL one - but this is OK for here, as we now we'll only have OTEL spans passed around\n    withActiveSpan: withActiveSpan as typeof defaultWithActiveSpan,\n  });\n}\n","import type { Context, ContextManager } from '@opentelemetry/api';\nimport type { Scope } from '@sentry/core';\nimport { getCurrentScope, getIsolationScope } from '@sentry/core';\nimport {\n  SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY,\n  SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY,\n  SENTRY_FORK_SET_SCOPE_CONTEXT_KEY,\n} from './constants';\nimport { getScopesFromContext, setContextOnScope, setScopesOnContext } from './utils/contextData';\nimport { setIsSetup } from './utils/setupCheck';\n\n/**\n * Wrap an OpenTelemetry ContextManager in a way that ensures the context is kept in sync with the Sentry Scope.\n *\n * Usage:\n * import { AsyncLocalStorageContextManager } from '@opentelemetry/context-async-hooks';\n * const SentryContextManager = wrapContextManagerClass(AsyncLocalStorageContextManager);\n * const contextManager = new SentryContextManager();\n */\nexport function wrapContextManagerClass<ContextManagerInstance extends ContextManager>(\n  ContextManagerClass: new (...args: unknown[]) => ContextManagerInstance,\n): typeof ContextManagerClass {\n  /**\n   * This is a custom ContextManager for OpenTelemetry, which extends the default AsyncLocalStorageContextManager.\n   * It ensures that we create new scopes per context, so that the OTEL Context & the Sentry Scope are always in sync.\n   *\n   * Note that we currently only support AsyncHooks with this,\n   * but since this should work for Node 14+ anyhow that should be good enough.\n   */\n\n  // @ts-expect-error TS does not like this, but we know this is fine\n  class SentryContextManager extends ContextManagerClass {\n    public constructor(...args: unknown[]) {\n      super(...args);\n      setIsSetup('SentryContextManager');\n    }\n    /**\n     * Overwrite with() of the original AsyncLocalStorageContextManager\n     * to ensure we also create new scopes per context.\n     */\n    public with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n      context: Context,\n      fn: F,\n      thisArg?: ThisParameterType<F>,\n      ...args: A\n    ): ReturnType<F> {\n      const currentScopes = getScopesFromContext(context);\n      const currentScope = currentScopes?.scope || getCurrentScope();\n      const currentIsolationScope = currentScopes?.isolationScope || getIsolationScope();\n\n      const shouldForkIsolationScope = context.getValue(SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY) === true;\n      const scope = context.getValue(SENTRY_FORK_SET_SCOPE_CONTEXT_KEY) as Scope | undefined;\n      const isolationScope = context.getValue(SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY) as Scope | undefined;\n\n      const newCurrentScope = scope || currentScope.clone();\n      const newIsolationScope =\n        isolationScope || (shouldForkIsolationScope ? currentIsolationScope.clone() : currentIsolationScope);\n      const scopes = { scope: newCurrentScope, isolationScope: newIsolationScope };\n\n      const ctx1 = setScopesOnContext(context, scopes);\n\n      // Remove the unneeded values again\n      const ctx2 = ctx1\n        .deleteValue(SENTRY_FORK_ISOLATION_SCOPE_CONTEXT_KEY)\n        .deleteValue(SENTRY_FORK_SET_SCOPE_CONTEXT_KEY)\n        .deleteValue(SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY);\n\n      setContextOnScope(newCurrentScope, ctx2);\n\n      return super.with(ctx2, fn, thisArg, ...args);\n    }\n  }\n\n  return SentryContextManager as unknown as typeof ContextManagerClass;\n}\n","import type { ReadableSpan } from '@opentelemetry/sdk-trace-base';\nimport { SEMANTIC_ATTRIBUTE_SENTRY_PARENT_IS_REMOTE } from '../semanticAttributes';\nimport { getParentSpanId } from './getParentSpanId';\n\nexport interface SpanNode {\n  id: string;\n  span?: ReadableSpan;\n  parentNode?: SpanNode | undefined;\n  children: SpanNode[];\n}\n\ntype SpanMap = Map<string, SpanNode>;\n\n/**\n * This function runs through a list of OTEL Spans, and wraps them in an `SpanNode`\n * where each node holds a reference to their parent node.\n */\nexport function groupSpansWithParents(spans: ReadableSpan[]): SpanNode[] {\n  const nodeMap: SpanMap = new Map<string, SpanNode>();\n\n  for (const span of spans) {\n    createOrUpdateSpanNodeAndRefs(nodeMap, span);\n  }\n\n  return Array.from(nodeMap, function ([_id, spanNode]) {\n    return spanNode;\n  });\n}\n\n/**\n * This returns the _local_ parent ID - `parentId` on the span may point to a remote span.\n */\nexport function getLocalParentId(span: ReadableSpan): string | undefined {\n  const parentIsRemote = span.attributes[SEMANTIC_ATTRIBUTE_SENTRY_PARENT_IS_REMOTE] === true;\n  // If the parentId is the trace parent ID, we pretend it's undefined\n  // As this means the parent exists somewhere else\n  return !parentIsRemote ? getParentSpanId(span) : undefined;\n}\n\nfunction createOrUpdateSpanNodeAndRefs(nodeMap: SpanMap, span: ReadableSpan): void {\n  const id = span.spanContext().spanId;\n  const parentId = getLocalParentId(span);\n\n  if (!parentId) {\n    createOrUpdateNode(nodeMap, { id, span, children: [] });\n    return;\n  }\n\n  // Else make sure to create parent node as well\n  // Note that the parent may not know it's parent _yet_, this may be updated in a later pass\n  const parentNode = createOrGetParentNode(nodeMap, parentId);\n  const node = createOrUpdateNode(nodeMap, { id, span, parentNode, children: [] });\n  parentNode.children.push(node);\n}\n\nfunction createOrGetParentNode(nodeMap: SpanMap, id: string): SpanNode {\n  const existing = nodeMap.get(id);\n\n  if (existing) {\n    return existing;\n  }\n\n  return createOrUpdateNode(nodeMap, { id, children: [] });\n}\n\nfunction createOrUpdateNode(nodeMap: SpanMap, spanNode: SpanNode): SpanNode {\n  const existing = nodeMap.get(spanNode.id);\n\n  // If span is already set, nothing to do here\n  if (existing?.span) {\n    return existing;\n  }\n\n  // If it exists but span is not set yet, we update it\n  if (existing && !existing.span) {\n    existing.span = spanNode.span;\n    existing.parentNode = spanNode.parentNode;\n    return existing;\n  }\n\n  // Else, we create a new one...\n  nodeMap.set(spanNode.id, spanNode);\n  return spanNode;\n}\n","import { SpanStatusCode } from '@opentelemetry/api';\nimport {\n  ATTR_HTTP_RESPONSE_STATUS_CODE,\n  SEMATTRS_HTTP_STATUS_CODE,\n  SEMATTRS_RPC_GRPC_STATUS_CODE,\n} from '@opentelemetry/semantic-conventions';\nimport type { SpanAttributes, SpanStatus } from '@sentry/core';\nimport { getSpanStatusFromHttpCode, SPAN_STATUS_ERROR, SPAN_STATUS_OK } from '@sentry/core';\nimport type { AbstractSpan } from '../types';\nimport { spanHasAttributes, spanHasStatus } from './spanTypes';\n\n// canonicalCodesGrpcMap maps some GRPC codes to Sentry's span statuses. See description in grpc documentation.\nconst canonicalGrpcErrorCodesMap: Record<string, SpanStatus['message']> = {\n  '1': 'cancelled',\n  '2': 'unknown_error',\n  '3': 'invalid_argument',\n  '4': 'deadline_exceeded',\n  '5': 'not_found',\n  '6': 'already_exists',\n  '7': 'permission_denied',\n  '8': 'resource_exhausted',\n  '9': 'failed_precondition',\n  '10': 'aborted',\n  '11': 'out_of_range',\n  '12': 'unimplemented',\n  '13': 'internal_error',\n  '14': 'unavailable',\n  '15': 'data_loss',\n  '16': 'unauthenticated',\n} as const;\n\nconst isStatusErrorMessageValid = (message: string): boolean => {\n  return Object.values(canonicalGrpcErrorCodesMap).includes(message as SpanStatus['message']);\n};\n\n/**\n * Get a Sentry span status from an otel span.\n */\nexport function mapStatus(span: AbstractSpan): SpanStatus {\n  const attributes = spanHasAttributes(span) ? span.attributes : {};\n  const status = spanHasStatus(span) ? span.status : undefined;\n\n  if (status) {\n    // Since span status OK is not set by default, we give it priority: https://opentelemetry.io/docs/concepts/signals/traces/#span-status\n    if (status.code === SpanStatusCode.OK) {\n      return { code: SPAN_STATUS_OK };\n      // If the span is already marked as erroneous we return that exact status\n    } else if (status.code === SpanStatusCode.ERROR) {\n      if (typeof status.message === 'undefined') {\n        const inferredStatus = inferStatusFromAttributes(attributes);\n        if (inferredStatus) {\n          return inferredStatus;\n        }\n      }\n\n      if (status.message && isStatusErrorMessageValid(status.message)) {\n        return { code: SPAN_STATUS_ERROR, message: status.message };\n      } else {\n        return { code: SPAN_STATUS_ERROR, message: 'unknown_error' };\n      }\n    }\n  }\n\n  // If the span status is UNSET, we try to infer it from HTTP or GRPC status codes.\n  const inferredStatus = inferStatusFromAttributes(attributes);\n\n  if (inferredStatus) {\n    return inferredStatus;\n  }\n\n  // We default to setting the spans status to ok.\n  if (status?.code === SpanStatusCode.UNSET) {\n    return { code: SPAN_STATUS_OK };\n  } else {\n    return { code: SPAN_STATUS_ERROR, message: 'unknown_error' };\n  }\n}\n\nfunction inferStatusFromAttributes(attributes: SpanAttributes): SpanStatus | undefined {\n  // If the span status is UNSET, we try to infer it from HTTP or GRPC status codes.\n\n  // eslint-disable-next-line deprecation/deprecation\n  const httpCodeAttribute = attributes[ATTR_HTTP_RESPONSE_STATUS_CODE] || attributes[SEMATTRS_HTTP_STATUS_CODE];\n  // eslint-disable-next-line deprecation/deprecation\n  const grpcCodeAttribute = attributes[SEMATTRS_RPC_GRPC_STATUS_CODE];\n\n  const numberHttpCode =\n    typeof httpCodeAttribute === 'number'\n      ? httpCodeAttribute\n      : typeof httpCodeAttribute === 'string'\n        ? parseInt(httpCodeAttribute)\n        : undefined;\n\n  if (typeof numberHttpCode === 'number') {\n    return getSpanStatusFromHttpCode(numberHttpCode);\n  }\n\n  if (typeof grpcCodeAttribute === 'string') {\n    return { code: SPAN_STATUS_ERROR, message: canonicalGrpcErrorCodesMap[grpcCodeAttribute] || 'unknown_error' };\n  }\n\n  return undefined;\n}\n","/* eslint-disable max-lines */\nimport type { Span } from '@opentelemetry/api';\nimport { SpanKind } from '@opentelemetry/api';\nimport type { ReadableSpan } from '@opentelemetry/sdk-trace-base';\nimport { ATTR_HTTP_RESPONSE_STATUS_CODE, SEMATTRS_HTTP_STATUS_CODE } from '@opentelemetry/semantic-conventions';\nimport type {\n  SpanAttributes,\n  SpanJSON,\n  SpanOrigin,\n  TraceContext,\n  TransactionEvent,\n  TransactionSource,\n} from '@sentry/core';\nimport {\n  captureEvent,\n  convertSpanLinksForEnvelope,\n  debounce,\n  getCapturedScopesOnSpan,\n  getDynamicSamplingContextFromSpan,\n  getStatusMessage,\n  logger,\n  SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,\n  SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,\n  spanTimeInputToSeconds,\n  timedEventsToMeasurements,\n} from '@sentry/core';\nimport { DEBUG_BUILD } from './debug-build';\nimport { SEMANTIC_ATTRIBUTE_SENTRY_PARENT_IS_REMOTE } from './semanticAttributes';\nimport { getParentSpanId } from './utils/getParentSpanId';\nimport { getRequestSpanData } from './utils/getRequestSpanData';\nimport type { SpanNode } from './utils/groupSpansWithParents';\nimport { getLocalParentId, groupSpansWithParents } from './utils/groupSpansWithParents';\nimport { mapStatus } from './utils/mapStatus';\nimport { parseSpanDescription } from './utils/parseSpanDescription';\n\ntype SpanNodeCompleted = SpanNode & { span: ReadableSpan };\n\nconst MAX_SPAN_COUNT = 1000;\nconst DEFAULT_TIMEOUT = 300; // 5 min\n\ninterface FinishedSpanBucket {\n  timestampInS: number;\n  spans: Set<ReadableSpan>;\n}\n\n/**\n * A Sentry-specific exporter that converts OpenTelemetry Spans to Sentry Spans & Transactions.\n */\nexport class SentrySpanExporter {\n  /*\n   * A quick explanation on the buckets: We do bucketing of finished spans for efficiency. This span exporter is\n   * accumulating spans until a root span is encountered and then it flushes all the spans that are descendants of that\n   * root span. Because it is totally in the realm of possibilities that root spans are never finished, and we don't\n   * want to accumulate spans indefinitely in memory, we need to periodically evacuate spans. Naively we could simply\n   * store the spans in an array and each time a new span comes in we could iterate through the entire array and\n   * evacuate all spans that have an end-timestamp that is older than our limit. This could get quite expensive because\n   * we would have to iterate a potentially large number of spans every time we evacuate. We want to avoid these large\n   * bursts of computation.\n   *\n   * Instead we go for a bucketing approach and put spans into buckets, based on what second\n   * (modulo the time limit) the span was put into the exporter. With buckets, when we decide to evacuate, we can\n   * iterate through the bucket entries instead, which have an upper bound of items, making the evacuation much more\n   * efficient. Cleaning up also becomes much more efficient since it simply involves de-referencing a bucket within the\n   * bucket array, and letting garbage collection take care of the rest.\n   */\n  private _finishedSpanBuckets: (FinishedSpanBucket | undefined)[];\n  private _finishedSpanBucketSize: number;\n  private _spansToBucketEntry: WeakMap<ReadableSpan, FinishedSpanBucket>;\n  private _lastCleanupTimestampInS: number;\n  // Essentially a a set of span ids that are already sent. The values are expiration\n  // times in this cache so we don't hold onto them indefinitely.\n  private _sentSpans: Map<string, number>;\n  /* Internally, we use a debounced flush to give some wiggle room to the span processor to accumulate more spans. */\n  private _debouncedFlush: ReturnType<typeof debounce>;\n\n  public constructor(options?: {\n    /** Lower bound of time in seconds until spans that are buffered but have not been sent as part of a transaction get cleared from memory. */\n    timeout?: number;\n  }) {\n    this._finishedSpanBucketSize = options?.timeout || DEFAULT_TIMEOUT;\n    this._finishedSpanBuckets = new Array(this._finishedSpanBucketSize).fill(undefined);\n    this._lastCleanupTimestampInS = Math.floor(Date.now() / 1000);\n    this._spansToBucketEntry = new WeakMap();\n    this._sentSpans = new Map<string, number>();\n    this._debouncedFlush = debounce(this.flush.bind(this), 1, { maxWait: 100 });\n  }\n\n  /**\n   * Export a single span.\n   * This is called by the span processor whenever a span is ended.\n   */\n  public export(span: ReadableSpan): void {\n    const currentTimestampInS = Math.floor(Date.now() / 1000);\n\n    if (this._lastCleanupTimestampInS !== currentTimestampInS) {\n      let droppedSpanCount = 0;\n      this._finishedSpanBuckets.forEach((bucket, i) => {\n        if (bucket && bucket.timestampInS <= currentTimestampInS - this._finishedSpanBucketSize) {\n          droppedSpanCount += bucket.spans.size;\n          this._finishedSpanBuckets[i] = undefined;\n        }\n      });\n      if (droppedSpanCount > 0) {\n        DEBUG_BUILD &&\n          logger.log(\n            `SpanExporter dropped ${droppedSpanCount} spans because they were pending for more than ${this._finishedSpanBucketSize} seconds.`,\n          );\n      }\n      this._lastCleanupTimestampInS = currentTimestampInS;\n    }\n\n    const currentBucketIndex = currentTimestampInS % this._finishedSpanBucketSize;\n    const currentBucket = this._finishedSpanBuckets[currentBucketIndex] || {\n      timestampInS: currentTimestampInS,\n      spans: new Set(),\n    };\n    this._finishedSpanBuckets[currentBucketIndex] = currentBucket;\n    currentBucket.spans.add(span);\n    this._spansToBucketEntry.set(span, currentBucket);\n\n    // If the span doesn't have a local parent ID (it's a root span), we're gonna flush all the ended spans\n    const localParentId = getLocalParentId(span);\n    if (!localParentId || this._sentSpans.has(localParentId)) {\n      this._debouncedFlush();\n    }\n  }\n\n  /**\n   * Try to flush any pending spans immediately.\n   * This is called internally by the exporter (via _debouncedFlush),\n   * but can also be triggered externally if we force-flush.\n   */\n  public flush(): void {\n    const finishedSpans = this._finishedSpanBuckets.flatMap(bucket => (bucket ? Array.from(bucket.spans) : []));\n\n    this._flushSentSpanCache();\n    const sentSpans = this._maybeSend(finishedSpans);\n\n    const sentSpanCount = sentSpans.size;\n    const remainingOpenSpanCount = finishedSpans.length - sentSpanCount;\n    DEBUG_BUILD &&\n      logger.log(\n        `SpanExporter exported ${sentSpanCount} spans, ${remainingOpenSpanCount} spans are waiting for their parent spans to finish`,\n      );\n\n    const expirationDate = Date.now() + DEFAULT_TIMEOUT * 1000;\n\n    for (const span of sentSpans) {\n      this._sentSpans.set(span.spanContext().spanId, expirationDate);\n      const bucketEntry = this._spansToBucketEntry.get(span);\n      if (bucketEntry) {\n        bucketEntry.spans.delete(span);\n      }\n    }\n    // Cancel a pending debounced flush, if there is one\n    // This can be relevant if we directly flush, circumventing the debounce\n    // in that case, we want to cancel any pending debounced flush\n    this._debouncedFlush.cancel();\n  }\n\n  /**\n   * Clear the exporter.\n   * This is called when the span processor is shut down.\n   */\n  public clear(): void {\n    this._finishedSpanBuckets = this._finishedSpanBuckets.fill(undefined);\n    this._sentSpans.clear();\n    this._debouncedFlush.cancel();\n  }\n\n  /**\n   * Send the given spans, but only if they are part of a finished transaction.\n   *\n   * Returns the sent spans.\n   * Spans remain unsent when their parent span is not yet finished.\n   * This will happen regularly, as child spans are generally finished before their parents.\n   * But it _could_ also happen because, for whatever reason, a parent span was lost.\n   * In this case, we'll eventually need to clean this up.\n   */\n  private _maybeSend(spans: ReadableSpan[]): Set<ReadableSpan> {\n    const grouped = groupSpansWithParents(spans);\n    const sentSpans = new Set<ReadableSpan>();\n\n    const rootNodes = this._getCompletedRootNodes(grouped);\n\n    for (const root of rootNodes) {\n      const span = root.span;\n      sentSpans.add(span);\n      const transactionEvent = createTransactionForOtelSpan(span);\n\n      // We'll recursively add all the child spans to this array\n      const spans = transactionEvent.spans || [];\n\n      for (const child of root.children) {\n        createAndFinishSpanForOtelSpan(child, spans, sentSpans);\n      }\n\n      // spans.sort() mutates the array, but we do not use this anymore after this point\n      // so we can safely mutate it here\n      transactionEvent.spans =\n        spans.length > MAX_SPAN_COUNT\n          ? spans.sort((a, b) => a.start_timestamp - b.start_timestamp).slice(0, MAX_SPAN_COUNT)\n          : spans;\n\n      const measurements = timedEventsToMeasurements(span.events);\n      if (measurements) {\n        transactionEvent.measurements = measurements;\n      }\n\n      captureEvent(transactionEvent);\n    }\n\n    return sentSpans;\n  }\n\n  /** Remove \"expired\" span id entries from the _sentSpans cache. */\n  private _flushSentSpanCache(): void {\n    const currentTimestamp = Date.now();\n    // Note, it is safe to delete items from the map as we go: https://stackoverflow.com/a/35943995/90297\n    for (const [spanId, expirationTime] of this._sentSpans.entries()) {\n      if (expirationTime <= currentTimestamp) {\n        this._sentSpans.delete(spanId);\n      }\n    }\n  }\n\n  /** Check if a node is a completed root node or a node whose parent has already been sent */\n  private _nodeIsCompletedRootNodeOrHasSentParent(node: SpanNode): node is SpanNodeCompleted {\n    return !!node.span && (!node.parentNode || this._sentSpans.has(node.parentNode.id));\n  }\n\n  /** Get all completed root nodes from a list of nodes */\n  private _getCompletedRootNodes(nodes: SpanNode[]): SpanNodeCompleted[] {\n    // TODO: We should be able to remove the explicit `node is SpanNodeCompleted` type guard\n    //       once we stop supporting TS < 5.5\n    return nodes.filter((node): node is SpanNodeCompleted => this._nodeIsCompletedRootNodeOrHasSentParent(node));\n  }\n}\n\nfunction parseSpan(span: ReadableSpan): { op?: string; origin?: SpanOrigin; source?: TransactionSource } {\n  const attributes = span.attributes;\n\n  const origin = attributes[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN] as SpanOrigin | undefined;\n  const op = attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] as string | undefined;\n  const source = attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] as TransactionSource | undefined;\n\n  return { origin, op, source };\n}\n\n/** Exported only for tests. */\nexport function createTransactionForOtelSpan(span: ReadableSpan): TransactionEvent {\n  const { op, description, data, origin = 'manual', source } = getSpanData(span);\n  const capturedSpanScopes = getCapturedScopesOnSpan(span as unknown as Span);\n\n  const sampleRate = span.attributes[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE] as number | undefined;\n\n  const attributes: SpanAttributes = {\n    [SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: source,\n    [SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]: sampleRate,\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: op,\n    [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: origin,\n    ...data,\n    ...removeSentryAttributes(span.attributes),\n  };\n\n  const { links } = span;\n  const { traceId: trace_id, spanId: span_id } = span.spanContext();\n\n  // If parentSpanIdFromTraceState is defined at all, we want it to take precedence\n  // In that case, an empty string should be interpreted as \"no parent span id\",\n  // even if `span.parentSpanId` is set\n  // this is the case when we are starting a new trace, where we have a virtual span based on the propagationContext\n  // We only want to continue the traceId in this case, but ignore the parent span\n  const parent_span_id = getParentSpanId(span);\n\n  const status = mapStatus(span);\n\n  const traceContext: TraceContext = {\n    parent_span_id,\n    span_id,\n    trace_id,\n    data: attributes,\n    origin,\n    op,\n    status: getStatusMessage(status), // As per protocol, span status is allowed to be undefined\n    links: convertSpanLinksForEnvelope(links),\n  };\n\n  const statusCode = attributes[ATTR_HTTP_RESPONSE_STATUS_CODE];\n  const responseContext = typeof statusCode === 'number' ? { response: { status_code: statusCode } } : undefined;\n\n  const transactionEvent: TransactionEvent = {\n    contexts: {\n      trace: traceContext,\n      otel: {\n        resource: span.resource.attributes,\n      },\n      ...responseContext,\n    },\n    spans: [],\n    start_timestamp: spanTimeInputToSeconds(span.startTime),\n    timestamp: spanTimeInputToSeconds(span.endTime),\n    transaction: description,\n    type: 'transaction',\n    sdkProcessingMetadata: {\n      capturedSpanScope: capturedSpanScopes.scope,\n      capturedSpanIsolationScope: capturedSpanScopes.isolationScope,\n      sampleRate,\n      dynamicSamplingContext: getDynamicSamplingContextFromSpan(span as unknown as Span),\n    },\n    ...(source && {\n      transaction_info: {\n        source,\n      },\n    }),\n  };\n\n  return transactionEvent;\n}\n\nfunction createAndFinishSpanForOtelSpan(node: SpanNode, spans: SpanJSON[], sentSpans: Set<ReadableSpan>): void {\n  const span = node.span;\n\n  if (span) {\n    sentSpans.add(span);\n  }\n\n  const shouldDrop = !span;\n\n  // If this span should be dropped, we still want to create spans for the children of this\n  if (shouldDrop) {\n    node.children.forEach(child => {\n      createAndFinishSpanForOtelSpan(child, spans, sentSpans);\n    });\n    return;\n  }\n\n  const span_id = span.spanContext().spanId;\n  const trace_id = span.spanContext().traceId;\n  const parentSpanId = getParentSpanId(span);\n\n  const { attributes, startTime, endTime, links } = span;\n\n  const { op, description, data, origin = 'manual' } = getSpanData(span);\n  const allData = {\n    [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: origin,\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: op,\n    ...removeSentryAttributes(attributes),\n    ...data,\n  };\n\n  const status = mapStatus(span);\n\n  const spanJSON: SpanJSON = {\n    span_id,\n    trace_id,\n    data: allData,\n    description,\n    parent_span_id: parentSpanId,\n    start_timestamp: spanTimeInputToSeconds(startTime),\n    // This is [0,0] by default in OTEL, in which case we want to interpret this as no end time\n    timestamp: spanTimeInputToSeconds(endTime) || undefined,\n    status: getStatusMessage(status), // As per protocol, span status is allowed to be undefined\n    op,\n    origin,\n    measurements: timedEventsToMeasurements(span.events),\n    links: convertSpanLinksForEnvelope(links),\n  };\n\n  spans.push(spanJSON);\n\n  node.children.forEach(child => {\n    createAndFinishSpanForOtelSpan(child, spans, sentSpans);\n  });\n}\n\nfunction getSpanData(span: ReadableSpan): {\n  data: Record<string, unknown>;\n  op?: string;\n  description: string;\n  source?: TransactionSource;\n  origin?: SpanOrigin;\n} {\n  const { op: definedOp, source: definedSource, origin } = parseSpan(span);\n  const { op: inferredOp, description, source: inferredSource, data: inferredData } = parseSpanDescription(span);\n\n  const op = definedOp || inferredOp;\n  const source = definedSource || inferredSource;\n\n  const data = { ...inferredData, ...getData(span) };\n\n  return {\n    op,\n    description,\n    source,\n    origin,\n    data,\n  };\n}\n\n/**\n * Remove custom `sentry.` attributes we do not need to send.\n * These are more carrier attributes we use inside of the SDK, we do not need to send them to the API.\n */\nfunction removeSentryAttributes(data: Record<string, unknown>): Record<string, unknown> {\n  const cleanedData = { ...data };\n\n  /* eslint-disable @typescript-eslint/no-dynamic-delete */\n  delete cleanedData[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];\n  delete cleanedData[SEMANTIC_ATTRIBUTE_SENTRY_PARENT_IS_REMOTE];\n  delete cleanedData[SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];\n  /* eslint-enable @typescript-eslint/no-dynamic-delete */\n\n  return cleanedData;\n}\n\nfunction getData(span: ReadableSpan): Record<string, unknown> {\n  const attributes = span.attributes;\n  const data: Record<string, unknown> = {};\n\n  if (span.kind !== SpanKind.INTERNAL) {\n    data['otel.kind'] = SpanKind[span.kind];\n  }\n\n  // eslint-disable-next-line deprecation/deprecation\n  const maybeHttpStatusCodeAttribute = attributes[SEMATTRS_HTTP_STATUS_CODE];\n  if (maybeHttpStatusCodeAttribute) {\n    data[ATTR_HTTP_RESPONSE_STATUS_CODE] = maybeHttpStatusCodeAttribute as string;\n  }\n\n  const requestData = getRequestSpanData(span);\n\n  if (requestData.url) {\n    data.url = requestData.url;\n  }\n\n  if (requestData['http.query']) {\n    data['http.query'] = requestData['http.query'].slice(1);\n  }\n  if (requestData['http.fragment']) {\n    data['http.fragment'] = requestData['http.fragment'].slice(1);\n  }\n\n  return data;\n}\n","import type { Context } from '@opentelemetry/api';\nimport { ROOT_CONTEXT, trace } from '@opentelemetry/api';\nimport type { ReadableSpan, Span, SpanProcessor as SpanProcessorInterface } from '@opentelemetry/sdk-trace-base';\nimport {\n  addChildSpanToSpan,\n  getClient,\n  getDefaultCurrentScope,\n  getDefaultIsolationScope,\n  logSpanEnd,\n  logSpanStart,\n  setCapturedScopesOnSpan,\n} from '@sentry/core';\nimport { SEMANTIC_ATTRIBUTE_SENTRY_PARENT_IS_REMOTE } from './semanticAttributes';\nimport { SentrySpanExporter } from './spanExporter';\nimport { getScopesFromContext } from './utils/contextData';\nimport { setIsSetup } from './utils/setupCheck';\n\nfunction onSpanStart(span: Span, parentContext: Context): void {\n  // This is a reliable way to get the parent span - because this is exactly how the parent is identified in the OTEL SDK\n  const parentSpan = trace.getSpan(parentContext);\n\n  let scopes = getScopesFromContext(parentContext);\n\n  // We need access to the parent span in order to be able to move up the span tree for breadcrumbs\n  if (parentSpan && !parentSpan.spanContext().isRemote) {\n    addChildSpanToSpan(parentSpan, span);\n  }\n\n  // We need this in the span exporter\n  if (parentSpan?.spanContext().isRemote) {\n    span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_PARENT_IS_REMOTE, true);\n  }\n\n  // The root context does not have scopes stored, so we check for this specifically\n  // As fallback we attach the global scopes\n  if (parentContext === ROOT_CONTEXT) {\n    scopes = {\n      scope: getDefaultCurrentScope(),\n      isolationScope: getDefaultIsolationScope(),\n    };\n  }\n\n  // We need the scope at time of span creation in order to apply it to the event when the span is finished\n  if (scopes) {\n    setCapturedScopesOnSpan(span, scopes.scope, scopes.isolationScope);\n  }\n\n  logSpanStart(span);\n\n  const client = getClient();\n  client?.emit('spanStart', span);\n}\n\nfunction onSpanEnd(span: Span): void {\n  logSpanEnd(span);\n\n  const client = getClient();\n  client?.emit('spanEnd', span);\n}\n\n/**\n * Converts OpenTelemetry Spans to Sentry Spans and sends them to Sentry via\n * the Sentry SDK.\n */\nexport class SentrySpanProcessor implements SpanProcessorInterface {\n  private _exporter: SentrySpanExporter;\n\n  public constructor(options?: { timeout?: number }) {\n    setIsSetup('SentrySpanProcessor');\n    this._exporter = new SentrySpanExporter(options);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public async forceFlush(): Promise<void> {\n    this._exporter.flush();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public async shutdown(): Promise<void> {\n    this._exporter.clear();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public onStart(span: Span, parentContext: Context): void {\n    onSpanStart(span, parentContext);\n  }\n\n  /** @inheritDoc */\n  public onEnd(span: Span & ReadableSpan): void {\n    onSpanEnd(span);\n\n    this._exporter.export(span);\n  }\n}\n","/* eslint-disable complexity */\nimport type { Context, Span, TraceState as TraceStateInterface } from '@opentelemetry/api';\nimport { isSpanContextValid, SpanKind, trace } from '@opentelemetry/api';\nimport { TraceState } from '@opentelemetry/core';\nimport type { Sampler, SamplingResult } from '@opentelemetry/sdk-trace-base';\nimport { SamplingDecision } from '@opentelemetry/sdk-trace-base';\nimport {\n  ATTR_HTTP_REQUEST_METHOD,\n  ATTR_URL_FULL,\n  SEMATTRS_HTTP_METHOD,\n  SEMATTRS_HTTP_URL,\n} from '@opentelemetry/semantic-conventions';\nimport type { Client, SpanAttributes } from '@sentry/core';\nimport {\n  baggageHeaderToDynamicSamplingContext,\n  hasSpansEnabled,\n  logger,\n  parseSampleRate,\n  sampleSpan,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,\n} from '@sentry/core';\nimport {\n  SENTRY_TRACE_STATE_DSC,\n  SENTRY_TRACE_STATE_SAMPLE_RAND,\n  SENTRY_TRACE_STATE_SAMPLE_RATE,\n  SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING,\n  SENTRY_TRACE_STATE_URL,\n} from './constants';\nimport { DEBUG_BUILD } from './debug-build';\nimport { getScopesFromContext } from './utils/contextData';\nimport { getSamplingDecision } from './utils/getSamplingDecision';\nimport { inferSpanData } from './utils/parseSpanDescription';\nimport { setIsSetup } from './utils/setupCheck';\n\n/**\n * A custom OTEL sampler that uses Sentry sampling rates to make its decision\n */\nexport class SentrySampler implements Sampler {\n  private _client: Client;\n\n  public constructor(client: Client) {\n    this._client = client;\n    setIsSetup('SentrySampler');\n  }\n\n  /** @inheritDoc */\n  public shouldSample(\n    context: Context,\n    traceId: string,\n    spanName: string,\n    spanKind: SpanKind,\n    spanAttributes: SpanAttributes,\n    _links: unknown,\n  ): SamplingResult {\n    const options = this._client.getOptions();\n\n    const parentSpan = getValidSpan(context);\n    const parentContext = parentSpan?.spanContext();\n\n    if (!hasSpansEnabled(options)) {\n      return wrapSamplingDecision({ decision: undefined, context, spanAttributes });\n    }\n\n    // `ATTR_HTTP_REQUEST_METHOD` is the new attribute, but we still support the old one, `SEMATTRS_HTTP_METHOD`, for now.\n    // eslint-disable-next-line deprecation/deprecation\n    const maybeSpanHttpMethod = spanAttributes[SEMATTRS_HTTP_METHOD] || spanAttributes[ATTR_HTTP_REQUEST_METHOD];\n\n    // If we have a http.client span that has no local parent, we never want to sample it\n    // but we want to leave downstream sampling decisions up to the server\n    if (spanKind === SpanKind.CLIENT && maybeSpanHttpMethod && (!parentSpan || parentContext?.isRemote)) {\n      return wrapSamplingDecision({ decision: undefined, context, spanAttributes });\n    }\n\n    const parentSampled = parentSpan ? getParentSampled(parentSpan, traceId, spanName) : undefined;\n    const isRootSpan = !parentSpan || parentContext?.isRemote;\n\n    // We only sample based on parameters (like tracesSampleRate or tracesSampler) for root spans (which is done in sampleSpan).\n    // Non-root-spans simply inherit the sampling decision from their parent.\n    if (!isRootSpan) {\n      return wrapSamplingDecision({\n        decision: parentSampled ? SamplingDecision.RECORD_AND_SAMPLED : SamplingDecision.NOT_RECORD,\n        context,\n        spanAttributes,\n      });\n    }\n\n    // We want to pass the inferred name & attributes to the sampler method\n    const {\n      description: inferredSpanName,\n      data: inferredAttributes,\n      op,\n    } = inferSpanData(spanName, spanAttributes, spanKind);\n\n    const mergedAttributes = {\n      ...inferredAttributes,\n      ...spanAttributes,\n    };\n\n    if (op) {\n      mergedAttributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] = op;\n    }\n\n    const mutableSamplingDecision = { decision: true };\n    this._client.emit(\n      'beforeSampling',\n      {\n        spanAttributes: mergedAttributes,\n        spanName: inferredSpanName,\n        parentSampled: parentSampled,\n        parentContext: parentContext,\n      },\n      mutableSamplingDecision,\n    );\n    if (!mutableSamplingDecision.decision) {\n      return wrapSamplingDecision({ decision: undefined, context, spanAttributes });\n    }\n\n    const { isolationScope } = getScopesFromContext(context) ?? {};\n\n    const dscString = parentContext?.traceState ? parentContext.traceState.get(SENTRY_TRACE_STATE_DSC) : undefined;\n    const dsc = dscString ? baggageHeaderToDynamicSamplingContext(dscString) : undefined;\n\n    const sampleRand = parseSampleRate(dsc?.sample_rand) ?? Math.random();\n\n    const [sampled, sampleRate, localSampleRateWasApplied] = sampleSpan(\n      options,\n      {\n        name: inferredSpanName,\n        attributes: mergedAttributes,\n        normalizedRequest: isolationScope?.getScopeData().sdkProcessingMetadata.normalizedRequest,\n        parentSampled,\n        parentSampleRate: parseSampleRate(dsc?.sample_rate),\n      },\n      sampleRand,\n    );\n\n    const method = `${maybeSpanHttpMethod}`.toUpperCase();\n    if (method === 'OPTIONS' || method === 'HEAD') {\n      DEBUG_BUILD && logger.log(`[Tracing] Not sampling span because HTTP method is '${method}' for ${spanName}`);\n\n      return wrapSamplingDecision({\n        decision: SamplingDecision.NOT_RECORD,\n        context,\n        spanAttributes,\n        sampleRand,\n        downstreamTraceSampleRate: 0, // we don't want to sample anything in the downstream trace either\n      });\n    }\n\n    if (\n      !sampled &&\n      // We check for `parentSampled === undefined` because we only want to record client reports for spans that are trace roots (ie. when there was incoming trace)\n      parentSampled === undefined\n    ) {\n      DEBUG_BUILD && logger.log('[Tracing] Discarding root span because its trace was not chosen to be sampled.');\n      this._client.recordDroppedEvent('sample_rate', 'transaction');\n    }\n\n    return {\n      ...wrapSamplingDecision({\n        decision: sampled ? SamplingDecision.RECORD_AND_SAMPLED : SamplingDecision.NOT_RECORD,\n        context,\n        spanAttributes,\n        sampleRand,\n        downstreamTraceSampleRate: localSampleRateWasApplied ? sampleRate : undefined,\n      }),\n      attributes: {\n        // We set the sample rate on the span when a local sample rate was applied to better understand how traces were sampled in Sentry\n        [SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]: localSampleRateWasApplied ? sampleRate : undefined,\n      },\n    };\n  }\n\n  /** Returns the sampler name or short description with the configuration. */\n  public toString(): string {\n    return 'SentrySampler';\n  }\n}\n\nfunction getParentSampled(parentSpan: Span, traceId: string, spanName: string): boolean | undefined {\n  const parentContext = parentSpan.spanContext();\n\n  // Only inherit sample rate if `traceId` is the same\n  // Note for testing: `isSpanContextValid()` checks the format of the traceId/spanId, so we need to pass valid ones\n  if (isSpanContextValid(parentContext) && parentContext.traceId === traceId) {\n    if (parentContext.isRemote) {\n      const parentSampled = getSamplingDecision(parentSpan.spanContext());\n      DEBUG_BUILD &&\n        logger.log(`[Tracing] Inheriting remote parent's sampled decision for ${spanName}: ${parentSampled}`);\n      return parentSampled;\n    }\n\n    const parentSampled = getSamplingDecision(parentContext);\n    DEBUG_BUILD && logger.log(`[Tracing] Inheriting parent's sampled decision for ${spanName}: ${parentSampled}`);\n    return parentSampled;\n  }\n\n  return undefined;\n}\n\n/**\n * Wrap a sampling decision with data that Sentry needs to work properly with it.\n * If you pass `decision: undefined`, it will be treated as `NOT_RECORDING`, but in contrast to passing `NOT_RECORDING`\n * it will not propagate this decision to downstream Sentry SDKs.\n */\nexport function wrapSamplingDecision({\n  decision,\n  context,\n  spanAttributes,\n  sampleRand,\n  downstreamTraceSampleRate,\n}: {\n  decision: SamplingDecision | undefined;\n  context: Context;\n  spanAttributes: SpanAttributes;\n  sampleRand?: number;\n  downstreamTraceSampleRate?: number;\n}): SamplingResult {\n  let traceState = getBaseTraceState(context, spanAttributes);\n\n  // We will override the propagated sample rate downstream when\n  // - the tracesSampleRate is applied\n  // - the tracesSampler is invoked\n  // Since unsampled OTEL spans (NonRecordingSpans) cannot hold attributes we need to store this on the (trace)context.\n  if (downstreamTraceSampleRate !== undefined) {\n    traceState = traceState.set(SENTRY_TRACE_STATE_SAMPLE_RATE, `${downstreamTraceSampleRate}`);\n  }\n\n  if (sampleRand !== undefined) {\n    traceState = traceState.set(SENTRY_TRACE_STATE_SAMPLE_RAND, `${sampleRand}`);\n  }\n\n  // If the decision is undefined, we treat it as NOT_RECORDING, but we don't propagate this decision to downstream SDKs\n  // Which is done by not setting `SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING` traceState\n  if (decision == undefined) {\n    return { decision: SamplingDecision.NOT_RECORD, traceState };\n  }\n\n  if (decision === SamplingDecision.NOT_RECORD) {\n    return { decision, traceState: traceState.set(SENTRY_TRACE_STATE_SAMPLED_NOT_RECORDING, '1') };\n  }\n\n  return { decision, traceState };\n}\n\nfunction getBaseTraceState(context: Context, spanAttributes: SpanAttributes): TraceStateInterface {\n  const parentSpan = trace.getSpan(context);\n  const parentContext = parentSpan?.spanContext();\n\n  let traceState = parentContext?.traceState || new TraceState();\n\n  // We always keep the URL on the trace state, so we can access it in the propagator\n  // `ATTR_URL_FULL` is the new attribute, but we still support the old one, `ATTR_HTTP_URL`, for now.\n  // eslint-disable-next-line deprecation/deprecation\n  const url = spanAttributes[SEMATTRS_HTTP_URL] || spanAttributes[ATTR_URL_FULL];\n  if (url && typeof url === 'string') {\n    traceState = traceState.set(SENTRY_TRACE_STATE_URL, url);\n  }\n\n  return traceState;\n}\n\n/**\n * If the active span is invalid, we want to ignore it as parent.\n * This aligns with how otel tracers and default samplers handle these cases.\n */\nfunction getValidSpan(context: Context): Span | undefined {\n  const span = trace.getSpan(context);\n  return span && isSpanContextValid(span.spanContext()) ? span : undefined;\n}\n"],"names":["ATTR_URL_FULL","SEMATTRS_HTTP_URL","ATTR_HTTP_REQUEST_METHOD","SEMATTRS_HTTP_METHOD","parseUrl","getSanitizedUrlString","SDK_VERSION","trace","SpanKind","createContextKey","addNonEnumerableProperty","isSentryRequestUrl","getClient","TraceFlags","baggageHeaderToDynamicSamplingContext","SEMATTRS_DB_SYSTEM","SEMANTIC_ATTRIBUTE_SENTRY_OP","SEMANTIC_ATTRIBUTE_SENTRY_SOURCE","SEMATTRS_RPC_SERVICE","SEMATTRS_MESSAGING_SYSTEM","SEMATTRS_FAAS_TRIGGER","SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME","SEMATTRS_DB_STATEMENT","SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN","SEMATTRS_HTTP_TARGET","ATTR_HTTP_ROUTE","stripUrlQueryAndFragment","spanToJSON","hasSpansEnabled","dynamicSamplingContextToSentryBaggageHeader","TraceState","W3CBaggagePropagator","LRUMap","isTracingSuppressed","logger","propagation","parseBaggageHeader","SENTRY_BAGGAGE_KEY_PREFIX","INVALID_TRACEID","generateSentryTraceHeader","stringMatchesSomePattern","getDynamicSamplingContextFromSpan","getCurrentScope","getDynamicSamplingContextFromScope","propagationContextFromHeaders","context","getIsolationScope","suppressTracing","handleCallbackErrors","SpanStatusCode","getRootSpan","spanToTraceContext","getTraceContextFromScope","suppressTracingImpl","getCapturedScopesOnSpan","getDefaultCurrentScope","getDefaultIsolationScope","setAsyncContextStrategy","SPAN_STATUS_OK","SPAN_STATUS_ERROR","ATTR_HTTP_RESPONSE_STATUS_CODE","SEMATTRS_HTTP_STATUS_CODE","SEMATTRS_RPC_GRPC_STATUS_CODE","getSpanStatusFromHttpCode","debounce","timedEventsToMeasurements","captureEvent","SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE","getStatusMessage","convertSpanLinksForEnvelope","spanTimeInputToSeconds","addChildSpanToSpan","ROOT_CONTEXT","setCapturedScopesOnSpan","logSpanStart","logSpanEnd","SamplingDecision","parseSampleRate","sampleSpan","isSpanContextValid"],"mappings":"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"}},
    {"offset": {"line": 10218, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10222, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+context-asyn_bc35560cd7659d9c23e420c6dff6cefc/node_modules/@opentelemetry/context-async-hooks/src/AbstractAsyncHooksContextManager.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContextManager, Context } from '@opentelemetry/api';\nimport { EventEmitter } from 'events';\n\ntype Func<T> = (...args: unknown[]) => T;\n\n/**\n * Store a map for each event of all original listeners and their \"patched\"\n * version. So when a listener is removed by the user, the corresponding\n * patched function will be also removed.\n */\ninterface PatchMap {\n  [name: string]: WeakMap<Func<void>, Func<void>>;\n}\n\nconst ADD_LISTENER_METHODS = [\n  'addListener' as const,\n  'on' as const,\n  'once' as const,\n  'prependListener' as const,\n  'prependOnceListener' as const,\n];\n\nexport abstract class AbstractAsyncHooksContextManager\n  implements ContextManager\n{\n  abstract active(): Context;\n\n  abstract with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    context: Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F>;\n\n  abstract enable(): this;\n\n  abstract disable(): this;\n\n  /**\n   * Binds a the certain context or the active one to the target function and then returns the target\n   * @param context A context (span) to be bind to target\n   * @param target a function or event emitter. When target or one of its callbacks is called,\n   *  the provided context will be used as the active context for the duration of the call.\n   */\n  bind<T>(context: Context, target: T): T {\n    if (target instanceof EventEmitter) {\n      return this._bindEventEmitter(context, target);\n    }\n\n    if (typeof target === 'function') {\n      return this._bindFunction(context, target);\n    }\n    return target;\n  }\n\n  private _bindFunction<T extends Function>(context: Context, target: T): T {\n    const manager = this;\n    const contextWrapper = function (this: never, ...args: unknown[]) {\n      return manager.with(context, () => target.apply(this, args));\n    };\n    Object.defineProperty(contextWrapper, 'length', {\n      enumerable: false,\n      configurable: true,\n      writable: false,\n      value: target.length,\n    });\n    /**\n     * It isn't possible to tell Typescript that contextWrapper is the same as T\n     * so we forced to cast as any here.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return contextWrapper as any;\n  }\n\n  /**\n   * By default, EventEmitter call their callback with their context, which we do\n   * not want, instead we will bind a specific context to all callbacks that\n   * go through it.\n   * @param context the context we want to bind\n   * @param ee EventEmitter an instance of EventEmitter to patch\n   */\n  private _bindEventEmitter<T extends EventEmitter>(\n    context: Context,\n    ee: T\n  ): T {\n    const map = this._getPatchMap(ee);\n    if (map !== undefined) return ee;\n    this._createPatchMap(ee);\n\n    // patch methods that add a listener to propagate context\n    ADD_LISTENER_METHODS.forEach(methodName => {\n      if (ee[methodName] === undefined) return;\n      ee[methodName] = this._patchAddListener(ee, ee[methodName], context);\n    });\n    // patch methods that remove a listener\n    if (typeof ee.removeListener === 'function') {\n      ee.removeListener = this._patchRemoveListener(ee, ee.removeListener);\n    }\n    if (typeof ee.off === 'function') {\n      ee.off = this._patchRemoveListener(ee, ee.off);\n    }\n    // patch method that remove all listeners\n    if (typeof ee.removeAllListeners === 'function') {\n      ee.removeAllListeners = this._patchRemoveAllListeners(\n        ee,\n        ee.removeAllListeners\n      );\n    }\n    return ee;\n  }\n\n  /**\n   * Patch methods that remove a given listener so that we match the \"patched\"\n   * version of that listener (the one that propagate context).\n   * @param ee EventEmitter instance\n   * @param original reference to the patched method\n   */\n  private _patchRemoveListener(ee: EventEmitter, original: Function) {\n    const contextManager = this;\n    return function (this: never, event: string, listener: Func<void>) {\n      const events = contextManager._getPatchMap(ee)?.[event];\n      if (events === undefined) {\n        return original.call(this, event, listener);\n      }\n      const patchedListener = events.get(listener);\n      return original.call(this, event, patchedListener || listener);\n    };\n  }\n\n  /**\n   * Patch methods that remove all listeners so we remove our\n   * internal references for a given event.\n   * @param ee EventEmitter instance\n   * @param original reference to the patched method\n   */\n  private _patchRemoveAllListeners(ee: EventEmitter, original: Function) {\n    const contextManager = this;\n    return function (this: never, event: string) {\n      const map = contextManager._getPatchMap(ee);\n      if (map !== undefined) {\n        if (arguments.length === 0) {\n          contextManager._createPatchMap(ee);\n        } else if (map[event] !== undefined) {\n          delete map[event];\n        }\n      }\n      return original.apply(this, arguments);\n    };\n  }\n\n  /**\n   * Patch methods on an event emitter instance that can add listeners so we\n   * can force them to propagate a given context.\n   * @param ee EventEmitter instance\n   * @param original reference to the patched method\n   * @param [context] context to propagate when calling listeners\n   */\n  private _patchAddListener(\n    ee: EventEmitter,\n    original: Function,\n    context: Context\n  ) {\n    const contextManager = this;\n    return function (this: never, event: string, listener: Func<void>) {\n      /**\n       * This check is required to prevent double-wrapping the listener.\n       * The implementation for ee.once wraps the listener and calls ee.on.\n       * Without this check, we would wrap that wrapped listener.\n       * This causes an issue because ee.removeListener depends on the onceWrapper\n       * to properly remove the listener. If we wrap their wrapper, we break\n       * that detection.\n       */\n      if (contextManager._wrapped) {\n        return original.call(this, event, listener);\n      }\n      let map = contextManager._getPatchMap(ee);\n      if (map === undefined) {\n        map = contextManager._createPatchMap(ee);\n      }\n      let listeners = map[event];\n      if (listeners === undefined) {\n        listeners = new WeakMap();\n        map[event] = listeners;\n      }\n      const patchedListener = contextManager.bind(context, listener);\n      // store a weak reference of the user listener to ours\n      listeners.set(listener, patchedListener);\n\n      /**\n       * See comment at the start of this function for the explanation of this property.\n       */\n      contextManager._wrapped = true;\n      try {\n        return original.call(this, event, patchedListener);\n      } finally {\n        contextManager._wrapped = false;\n      }\n    };\n  }\n\n  private _createPatchMap(ee: EventEmitter): PatchMap {\n    const map = Object.create(null);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (ee as any)[this._kOtListeners] = map;\n    return map;\n  }\n  private _getPatchMap(ee: EventEmitter): PatchMap | undefined {\n    return (ee as never)[this._kOtListeners];\n  }\n\n  private readonly _kOtListeners = Symbol('OtListeners');\n  private _wrapped = false;\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAiBA,MAAA;AAaA,MAAM,uBAAuB;IAC3B;IACA;IACA;IACA;IACA;CACD;AAED,MAAsB;IAAtB,aAAA;QA4LmB,IAAA,CAAA,aAAa,GAAG,OAAO;QAChC,IAAA,CAAA,QAAQ,GAAG;IACrB;IA9KE;;;;;QAMA,KAAQ,OAAgB,EAAE,MAAS,EAAA;QACjC,IAAI,kBAAkB,SAAA,YAAY,EAAE;YAClC,OAAO,IAAI,CAAC,iBAAiB,CAAC,SAAS;;QAGzC,IAAI,OAAO,WAAW,YAAY;YAChC,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS;;QAErC,OAAO;IACT;IAEQ,cAAkC,OAAgB,EAAE,MAAS,EAAA;QACnE,MAAM,UAAU,IAAI;QACpB,MAAM,iBAAiB,SAAuB,GAAG,IAAe;YAC9D,OAAO,QAAQ,IAAI,CAAC,SAAS,IAAM,OAAO,KAAK,CAAC,IAAI,EAAE;QACxD;QACA,OAAO,cAAc,CAAC,gBAAgB,UAAU;YAC9C,YAAY;YACZ,cAAc;YACd,UAAU;YACV,OAAO,OAAO,MAAM;;QAEtB;;;YAIA,8DAA8D;QAC9D,OAAO;IACT;IAEA;;;;;;QAOQ,kBACN,OAAgB,EAChB,EAAK,EAAA;QAEL,MAAM,MAAM,IAAI,CAAC,YAAY,CAAC;QAC9B,IAAI,QAAQ,WAAW,OAAO;QAC9B,IAAI,CAAC,eAAe,CAAC;QAErB,yDAAyD;QACzD,qBAAqB,OAAO,CAAC,CAAA;YAC3B,IAAI,EAAE,CAAC,WAAW,KAAK,WAAW;YAClC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;QAC9D;QACA,uCAAuC;QACvC,IAAI,OAAO,GAAG,cAAc,KAAK,YAAY;YAC3C,GAAG,cAAc,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,GAAG,cAAc;;QAErE,IAAI,OAAO,GAAG,GAAG,KAAK,YAAY;YAChC,GAAG,GAAG,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,GAAG,GAAG;;QAE/C,yCAAyC;QACzC,IAAI,OAAO,GAAG,kBAAkB,KAAK,YAAY;YAC/C,GAAG,kBAAkB,GAAG,IAAI,CAAC,wBAAwB,CACnD,IACA,GAAG,kBAAkB;;QAGzB,OAAO;IACT;IAEA;;;;;QAMQ,qBAAqB,EAAgB,EAAE,QAAkB,EAAA;QAC/D,MAAM,iBAAiB,IAAI;QAC3B,OAAO,SAAuB,KAAa,EAAE,QAAoB;;YAC/D,MAAM,SAAS,CAAA,KAAA,eAAe,YAAY,CAAC,GAAG,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,EAAA,CAAG,MAAM;YACvD,IAAI,WAAW,WAAW;gBACxB,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,OAAO;;YAEpC,MAAM,kBAAkB,OAAO,GAAG,CAAC;YACnC,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,OAAO,mBAAmB;QACvD;IACF;IAEA;;;;;QAMQ,yBAAyB,EAAgB,EAAE,QAAkB,EAAA;QACnE,MAAM,iBAAiB,IAAI;QAC3B,OAAO,SAAuB,KAAa;YACzC,MAAM,MAAM,eAAe,YAAY,CAAC;YACxC,IAAI,QAAQ,WAAW;gBACrB,IAAI,UAAU,MAAM,KAAK,GAAG;oBAC1B,eAAe,eAAe,CAAC;uBAC1B,IAAI,GAAG,CAAC,MAAM,KAAK,WAAW;oBACnC,OAAO,GAAG,CAAC,MAAM;;;YAGrB,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;QAC9B;IACF;IAEA;;;;;;QAOQ,kBACN,EAAgB,EAChB,QAAkB,EAClB,OAAgB,EAAA;QAEhB,MAAM,iBAAiB,IAAI;QAC3B,OAAO,SAAuB,KAAa,EAAE,QAAoB;YAC/D;;;;;;;gBAQA,IAAI,eAAe,QAAQ,EAAE;gBAC3B,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,OAAO;;YAEpC,IAAI,MAAM,eAAe,YAAY,CAAC;YACtC,IAAI,QAAQ,WAAW;gBACrB,MAAM,eAAe,eAAe,CAAC;;YAEvC,IAAI,YAAY,GAAG,CAAC,MAAM;YAC1B,IAAI,cAAc,WAAW;gBAC3B,YAAY,IAAI;gBAChB,GAAG,CAAC,MAAM,GAAG;;YAEf,MAAM,kBAAkB,eAAe,IAAI,CAAC,SAAS;YACrD,sDAAsD;YACtD,UAAU,GAAG,CAAC,UAAU;YAExB;;gBAGA,eAAe,QAAQ,GAAG;YAC1B,IAAI;gBACF,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,OAAO;qBAC1B;gBACR,eAAe,QAAQ,GAAG;;QAE9B;IACF;IAEQ,gBAAgB,EAAgB,EAAA;QACtC,MAAM,MAAM,OAAO,MAAM,CAAC;QAC1B,8DAA8D;QAC7D,EAAU,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG;QAClC,OAAO;IACT;IACQ,aAAa,EAAgB,EAAA;QACnC,OAAQ,EAAY,CAAC,IAAI,CAAC,aAAa,CAAC;IAC1C;;AA1LF,QAAA,gCAAA,GAAA"}},
    {"offset": {"line": 10401, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10405, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+context-asyn_bc35560cd7659d9c23e420c6dff6cefc/node_modules/@opentelemetry/context-async-hooks/src/AsyncHooksContextManager.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context, ROOT_CONTEXT } from '@opentelemetry/api';\nimport * as asyncHooks from 'async_hooks';\nimport { AbstractAsyncHooksContextManager } from './AbstractAsyncHooksContextManager';\n\nexport class AsyncHooksContextManager extends AbstractAsyncHooksContextManager {\n  private _asyncHook: asyncHooks.AsyncHook;\n  private _contexts: Map<number, Context> = new Map();\n  private _stack: Array<Context | undefined> = [];\n\n  constructor() {\n    super();\n    this._asyncHook = asyncHooks.createHook({\n      init: this._init.bind(this),\n      before: this._before.bind(this),\n      after: this._after.bind(this),\n      destroy: this._destroy.bind(this),\n      promiseResolve: this._destroy.bind(this),\n    });\n  }\n\n  active(): Context {\n    return this._stack[this._stack.length - 1] ?? ROOT_CONTEXT;\n  }\n\n  with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    context: Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    this._enterContext(context);\n    try {\n      return fn.call(thisArg!, ...args);\n    } finally {\n      this._exitContext();\n    }\n  }\n\n  enable(): this {\n    this._asyncHook.enable();\n    return this;\n  }\n\n  disable(): this {\n    this._asyncHook.disable();\n    this._contexts.clear();\n    this._stack = [];\n    return this;\n  }\n\n  /**\n   * Init hook will be called when userland create a async context, setting the\n   * context as the current one if it exist.\n   * @param uid id of the async context\n   * @param type the resource type\n   */\n  private _init(uid: number, type: string) {\n    // ignore TIMERWRAP as they combine timers with same timeout which can lead to\n    // false context propagation. TIMERWRAP has been removed in node 11\n    // every timer has it's own `Timeout` resource anyway which is used to propagate\n    // context.\n    if (type === 'TIMERWRAP') return;\n\n    const context = this._stack[this._stack.length - 1];\n    if (context !== undefined) {\n      this._contexts.set(uid, context);\n    }\n  }\n\n  /**\n   * Destroy hook will be called when a given context is no longer used so we can\n   * remove its attached context.\n   * @param uid uid of the async context\n   */\n  private _destroy(uid: number) {\n    this._contexts.delete(uid);\n  }\n\n  /**\n   * Before hook is called just before executing a async context.\n   * @param uid uid of the async context\n   */\n  private _before(uid: number) {\n    const context = this._contexts.get(uid);\n    if (context !== undefined) {\n      this._enterContext(context);\n    }\n  }\n\n  /**\n   * After hook is called just after completing the execution of a async context.\n   */\n  private _after() {\n    this._exitContext();\n  }\n\n  /**\n   * Set the given context as active\n   */\n  private _enterContext(context: Context) {\n    this._stack.push(context);\n  }\n\n  /**\n   * Remove the context at the root of the stack\n   */\n  private _exitContext() {\n    this._stack.pop();\n  }\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,MAAA;AACA,MAAA;AACA,MAAA;AAEA,MAAa,iCAAiC,mCAAA,gCAAgC;IAK5E,aAAA;QACE,KAAK;QAJC,IAAA,CAAA,SAAS,GAAyB,IAAI;QACtC,IAAA,CAAA,MAAM,GAA+B,EAAE;QAI7C,IAAI,CAAC,UAAU,GAAG,WAAW,UAAU,CAAC;YACtC,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;YAC1B,QAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI;YAC9B,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI;YAC5B,SAAS,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI;YAChC,gBAAgB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI;;IAE3C;IAEA,SAAM;;QACJ,OAAO,CAAA,KAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,MAAA,YAAY;IAC5D;IAEA,KACE,OAAgB,EAChB,EAAK,EACL,OAA8B,EAC9B,GAAG,IAAO,EAAA;QAEV,IAAI,CAAC,aAAa,CAAC;QACnB,IAAI;YACF,OAAO,GAAG,IAAI,CAAC,YAAa;iBACpB;YACR,IAAI,CAAC,YAAY;;IAErB;IAEA,SAAM;QACJ,IAAI,CAAC,UAAU,CAAC,MAAM;QACtB,OAAO,IAAI;IACb;IAEA,UAAO;QACL,IAAI,CAAC,UAAU,CAAC,OAAO;QACvB,IAAI,CAAC,SAAS,CAAC,KAAK;QACpB,IAAI,CAAC,MAAM,GAAG,EAAE;QAChB,OAAO,IAAI;IACb;IAEA;;;;;QAMQ,MAAM,GAAW,EAAE,IAAY,EAAA;QACrC,8EAA8E;QAC9E,mEAAmE;QACnE,gFAAgF;QAChF,WAAW;QACX,IAAI,SAAS,aAAa;QAE1B,MAAM,UAAU,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE;QACnD,IAAI,YAAY,WAAW;YACzB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK;;IAE5B;IAEA;;;;QAKQ,SAAS,GAAW,EAAA;QAC1B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;IACxB;IAEA;;;QAIQ,QAAQ,GAAW,EAAA;QACzB,MAAM,UAAU,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QACnC,IAAI,YAAY,WAAW;YACzB,IAAI,CAAC,aAAa,CAAC;;IAEvB;IAEA;;QAGQ,SAAM;QACZ,IAAI,CAAC,YAAY;IACnB;IAEA;;QAGQ,cAAc,OAAgB,EAAA;QACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;IACnB;IAEA;;QAGQ,eAAY;QAClB,IAAI,CAAC,MAAM,CAAC,GAAG;IACjB;;AAxGF,QAAA,wBAAA,GAAA"}},
    {"offset": {"line": 10511, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10515, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+context-asyn_bc35560cd7659d9c23e420c6dff6cefc/node_modules/@opentelemetry/context-async-hooks/src/AsyncLocalStorageContextManager.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context, ROOT_CONTEXT } from '@opentelemetry/api';\nimport { AsyncLocalStorage } from 'async_hooks';\nimport { AbstractAsyncHooksContextManager } from './AbstractAsyncHooksContextManager';\n\nexport class AsyncLocalStorageContextManager extends AbstractAsyncHooksContextManager {\n  private _asyncLocalStorage: AsyncLocalStorage<Context>;\n\n  constructor() {\n    super();\n    this._asyncLocalStorage = new AsyncLocalStorage();\n  }\n\n  active(): Context {\n    return this._asyncLocalStorage.getStore() ?? ROOT_CONTEXT;\n  }\n\n  with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    context: Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    const cb = thisArg == null ? fn : fn.bind(thisArg);\n    return this._asyncLocalStorage.run(context, cb as never, ...args);\n  }\n\n  enable(): this {\n    return this;\n  }\n\n  disable(): this {\n    this._asyncLocalStorage.disable();\n    return this;\n  }\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,MAAA;AACA,MAAA;AACA,MAAA;AAEA,MAAa,wCAAwC,mCAAA,gCAAgC;IAGnF,aAAA;QACE,KAAK;QACL,IAAI,CAAC,kBAAkB,GAAG,IAAI,cAAA,iBAAiB;IACjD;IAEA,SAAM;;QACJ,OAAO,CAAA,KAAA,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,MAAA,YAAY;IAC3D;IAEA,KACE,OAAgB,EAChB,EAAK,EACL,OAA8B,EAC9B,GAAG,IAAO,EAAA;QAEV,MAAM,KAAK,WAAW,OAAO,KAAK,GAAG,IAAI,CAAC;QAC1C,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,SAAS,OAAgB;IAC9D;IAEA,SAAM;QACJ,OAAO,IAAI;IACb;IAEA,UAAO;QACL,IAAI,CAAC,kBAAkB,CAAC,OAAO;QAC/B,OAAO,IAAI;IACb;;AA7BF,QAAA,+BAAA,GAAA"}},
    {"offset": {"line": 10559, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10563, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+context-asyn_bc35560cd7659d9c23e420c6dff6cefc/node_modules/@opentelemetry/context-async-hooks/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { AsyncHooksContextManager } from './AsyncHooksContextManager';\nexport { AsyncLocalStorageContextManager } from './AsyncLocalStorageContextManager';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,IAAA;AAAS,OAAA,cAAA,CAAA,SAAA,4BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAAA,2BAAA,wBAAwB;IAAA;AAAA;AACjC,IAAA;AAAS,OAAA,cAAA,CAAA,SAAA,mCAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAAA,kCAAA,+BAA+B;IAAA;AAAA"}},
    {"offset": {"line": 10596, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10600, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ea42023feb630cf81f97bdce18a46e94/node_modules/@opentelemetry/instrumentation-undici/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.10.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-undici';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 10622, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10626, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ea42023feb630cf81f97bdce18a46e94/node_modules/@opentelemetry/instrumentation-undici/src/enums/SemanticAttributes.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// DO NOT EDIT, this is an Auto-generated file from scripts/semconv/templates//templates/SemanticAttributes.ts.j2\nexport const SemanticAttributes = {\n  /**\n   * State of the HTTP connection in the HTTP connection pool.\n   */\n  HTTP_CONNECTION_STATE: 'http.connection.state',\n\n  /**\n  * Describes a class of error the operation ended with.\n  *\n  * Note: The `error.type` SHOULD be predictable and SHOULD have low cardinality.\nInstrumentations SHOULD document the list of errors they report.\n\nThe cardinality of `error.type` within one instrumentation library SHOULD be low.\nTelemetry consumers that aggregate data from multiple instrumentation libraries and applications\nshould be prepared for `error.type` to have high cardinality at query time when no\nadditional filters are applied.\n\nIf the operation has completed successfully, instrumentations SHOULD NOT set `error.type`.\n\nIf a specific domain defines its own set of error identifiers (such as HTTP or gRPC status codes),\nit&#39;s RECOMMENDED to:\n\n* Use a domain-specific attribute\n* Set `error.type` to capture all errors, regardless of whether they are defined within the domain-specific set or not.\n  */\n  ERROR_TYPE: 'error.type',\n\n  /**\n   * The size of the request payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://www.rfc-editor.org/rfc/rfc9110.html#field.content-length) header. For requests using transport encoding, this should be the compressed size.\n   */\n  HTTP_REQUEST_BODY_SIZE: 'http.request.body.size',\n\n  /**\n  * HTTP request method.\n  *\n  * Note: HTTP request method value SHOULD be &#34;known&#34; to the instrumentation.\nBy default, this convention defines &#34;known&#34; methods as the ones listed in [RFC9110](https://www.rfc-editor.org/rfc/rfc9110.html#name-methods)\nand the PATCH method defined in [RFC5789](https://www.rfc-editor.org/rfc/rfc5789.html).\n\nIf the HTTP request method is not known to instrumentation, it MUST set the `http.request.method` attribute to `_OTHER`.\n\nIf the HTTP instrumentation could end up converting valid HTTP request methods to `_OTHER`, then it MUST provide a way to override\nthe list of known HTTP methods. If this override is done via environment variable, then the environment variable MUST be named\nOTEL_INSTRUMENTATION_HTTP_KNOWN_METHODS and support a comma-separated list of case-sensitive known HTTP methods\n(this list MUST be a full override of the default known method, it is not a list of known methods in addition to the defaults).\n\nHTTP method names are case-sensitive and `http.request.method` attribute value MUST match a known HTTP method name exactly.\nInstrumentations for specific web frameworks that consider HTTP methods to be case insensitive, SHOULD populate a canonical equivalent.\nTracing instrumentations that do so, MUST also set `http.request.method_original` to the original value.\n  */\n  HTTP_REQUEST_METHOD: 'http.request.method',\n\n  /**\n   * Original HTTP method sent by the client in the request line.\n   */\n  HTTP_REQUEST_METHOD_ORIGINAL: 'http.request.method_original',\n\n  /**\n   * The ordinal number of request resending attempt (for any reason, including redirects).\n   *\n   * Note: The resend count SHOULD be updated each time an HTTP request gets resent by the client, regardless of what was the cause of the resending (e.g. redirection, authorization failure, 503 Server Unavailable, network issues, or any other).\n   */\n  HTTP_REQUEST_RESEND_COUNT: 'http.request.resend_count',\n\n  /**\n   * The size of the response payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://www.rfc-editor.org/rfc/rfc9110.html#field.content-length) header. For requests using transport encoding, this should be the compressed size.\n   */\n  HTTP_RESPONSE_BODY_SIZE: 'http.response.body.size',\n\n  /**\n   * [HTTP response status code](https://tools.ietf.org/html/rfc7231#section-6).\n   */\n  HTTP_RESPONSE_STATUS_CODE: 'http.response.status_code',\n\n  /**\n  * The matched route, that is, the path template in the format used by the respective server framework.\n  *\n  * Note: MUST NOT be populated when this is not supported by the HTTP server framework as the route attribute should have low-cardinality and the URI path can NOT substitute it.\nSHOULD include the [application root](/docs/http/http-spans.md#http-server-definitions) if there is one.\n  */\n  HTTP_ROUTE: 'http.route',\n\n  /**\n   * Peer address of the network connection - IP address or Unix domain socket name.\n   */\n  NETWORK_PEER_ADDRESS: 'network.peer.address',\n\n  /**\n   * Peer port number of the network connection.\n   */\n  NETWORK_PEER_PORT: 'network.peer.port',\n\n  /**\n   * [OSI application layer](https://osi-model.com/application-layer/) or non-OSI equivalent.\n   *\n   * Note: The value SHOULD be normalized to lowercase.\n   */\n  NETWORK_PROTOCOL_NAME: 'network.protocol.name',\n\n  /**\n   * Version of the protocol specified in `network.protocol.name`.\n   *\n   * Note: `network.protocol.version` refers to the version of the protocol used and might be different from the protocol client&#39;s version. If the HTTP client has a version of `0.27.2`, but sends HTTP version `1.1`, this attribute should be set to `1.1`.\n   */\n  NETWORK_PROTOCOL_VERSION: 'network.protocol.version',\n\n  /**\n   * Server domain name if available without reverse DNS lookup; otherwise, IP address or Unix domain socket name.\n   *\n   * Note: When observed from the client side, and when communicating through an intermediary, `server.address` SHOULD represent the server address behind any intermediaries, for example proxies, if it&#39;s available.\n   */\n  SERVER_ADDRESS: 'server.address',\n\n  /**\n   * Server port number.\n   *\n   * Note: When observed from the client side, and when communicating through an intermediary, `server.port` SHOULD represent the server port behind any intermediaries, for example proxies, if it&#39;s available.\n   */\n  SERVER_PORT: 'server.port',\n\n  /**\n  * Absolute URL describing a network resource according to [RFC3986](https://www.rfc-editor.org/rfc/rfc3986).\n  *\n  * Note: For network calls, URL usually has `scheme://host[:port][path][?query][#fragment]` format, where the fragment is not transmitted over HTTP, but if it is known, it SHOULD be included nevertheless.\n`url.full` MUST NOT contain credentials passed via URL in form of `https://username:password@www.example.com/`. In such case username and password SHOULD be redacted and attribute&#39;s value SHOULD be `https://REDACTED:REDACTED@www.example.com/`.\n`url.full` SHOULD capture the absolute URL when it is available (or can be reconstructed) and SHOULD NOT be validated or modified except for sanitizing purposes.\n  */\n  URL_FULL: 'url.full',\n\n  /**\n   * The [URI path](https://www.rfc-editor.org/rfc/rfc3986#section-3.3) component.\n   */\n  URL_PATH: 'url.path',\n\n  /**\n   * The [URI query](https://www.rfc-editor.org/rfc/rfc3986#section-3.4) component.\n   *\n   * Note: Sensitive content provided in query string SHOULD be scrubbed when instrumentations can identify it.\n   */\n  URL_QUERY: 'url.query',\n\n  /**\n   * The [URI scheme](https://www.rfc-editor.org/rfc/rfc3986#section-3.1) component identifying the used protocol.\n   */\n  URL_SCHEME: 'url.scheme',\n\n  /**\n   * Value of the [HTTP User-Agent](https://www.rfc-editor.org/rfc/rfc9110.html#field.user-agent) header sent by the client.\n   */\n  USER_AGENT_ORIGINAL: 'user_agent.original',\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,iHAAiH;AACpG,QAAA,kBAAkB,GAAG;IAChC;;QAGA,uBAAuB;IAEvB;;;;;;;;;;;;;;;;;;OAmBA,YAAY;IAEZ;;QAGA,wBAAwB;IAExB;;;;;;;;;;;;;;;;;OAkBA,qBAAqB;IAErB;;QAGA,8BAA8B;IAE9B;;;;QAKA,2BAA2B;IAE3B;;QAGA,yBAAyB;IAEzB;;QAGA,2BAA2B;IAE3B;;;;;OAMA,YAAY;IAEZ;;QAGA,sBAAsB;IAEtB;;QAGA,mBAAmB;IAEnB;;;;QAKA,uBAAuB;IAEvB;;;;QAKA,0BAA0B;IAE1B;;;;QAKA,gBAAgB;IAEhB;;;;QAKA,aAAa;IAEb;;;;;;OAOA,UAAU;IAEV;;QAGA,UAAU;IAEV;;;;QAKA,WAAW;IAEX;;QAGA,YAAY;IAEZ;;QAGA,qBAAqB"}},
    {"offset": {"line": 10758, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10762, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ea42023feb630cf81f97bdce18a46e94/node_modules/@opentelemetry/instrumentation-undici/src/undici.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as diagch from 'diagnostics_channel';\nimport { URL } from 'url';\n\nimport {\n  InstrumentationBase,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport {\n  Attributes,\n  context,\n  Histogram,\n  HrTime,\n  INVALID_SPAN_CONTEXT,\n  propagation,\n  Span,\n  SpanKind,\n  SpanStatusCode,\n  trace,\n  ValueType,\n} from '@opentelemetry/api';\n\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\n\nimport {\n  ListenerRecord,\n  RequestHeadersMessage,\n  RequestMessage,\n  RequestTrailersMessage,\n  ResponseHeadersMessage,\n} from './internal-types';\nimport { UndiciInstrumentationConfig, UndiciRequest } from './types';\nimport { SemanticAttributes } from './enums/SemanticAttributes';\nimport {\n  hrTime,\n  hrTimeDuration,\n  hrTimeToMilliseconds,\n} from '@opentelemetry/core';\n\ninterface InstrumentationRecord {\n  span: Span;\n  attributes: Attributes;\n  startTime: HrTime;\n}\n\n// A combination of https://github.com/elastic/apm-agent-nodejs and\n// https://github.com/gadget-inc/opentelemetry-instrumentations/blob/main/packages/opentelemetry-instrumentation-undici/src/index.ts\nexport class UndiciInstrumentation extends InstrumentationBase<UndiciInstrumentationConfig> {\n  // Keep ref to avoid https://github.com/nodejs/node/issues/42170 bug and for\n  // unsubscribing.\n  private _channelSubs!: Array<ListenerRecord>;\n  private _recordFromReq = new WeakMap<UndiciRequest, InstrumentationRecord>();\n\n  private _httpClientDurationHistogram!: Histogram;\n  constructor(config: UndiciInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  // No need to instrument files/modules\n  protected override init() {\n    return undefined;\n  }\n\n  override disable(): void {\n    super.disable();\n    this._channelSubs.forEach(sub => sub.unsubscribe());\n    this._channelSubs.length = 0;\n  }\n\n  override enable(): void {\n    // \"enabled\" handling is currently a bit messy with InstrumentationBase.\n    // If constructed with `{enabled: false}`, this `.enable()` is still called,\n    // and `this.getConfig().enabled !== this.isEnabled()`, creating confusion.\n    //\n    // For now, this class will setup for instrumenting if `.enable()` is\n    // called, but use `this.getConfig().enabled` to determine if\n    // instrumentation should be generated. This covers the more likely common\n    // case of config being given a construction time, rather than later via\n    // `instance.enable()`, `.disable()`, or `.setConfig()` calls.\n    super.enable();\n\n    // This method is called by the super-class constructor before ours is\n    // called. So we need to ensure the property is initalized.\n    this._channelSubs = this._channelSubs || [];\n\n    // Avoid to duplicate subscriptions\n    if (this._channelSubs.length > 0) {\n      return;\n    }\n\n    this.subscribeToChannel(\n      'undici:request:create',\n      this.onRequestCreated.bind(this)\n    );\n    this.subscribeToChannel(\n      'undici:client:sendHeaders',\n      this.onRequestHeaders.bind(this)\n    );\n    this.subscribeToChannel(\n      'undici:request:headers',\n      this.onResponseHeaders.bind(this)\n    );\n    this.subscribeToChannel('undici:request:trailers', this.onDone.bind(this));\n    this.subscribeToChannel('undici:request:error', this.onError.bind(this));\n  }\n\n  protected override _updateMetricInstruments() {\n    this._httpClientDurationHistogram = this.meter.createHistogram(\n      'http.client.request.duration',\n      {\n        description: 'Measures the duration of outbound HTTP requests.',\n        unit: 's',\n        valueType: ValueType.DOUBLE,\n        advice: {\n          explicitBucketBoundaries: [\n            0.005, 0.01, 0.025, 0.05, 0.075, 0.1, 0.25, 0.5, 0.75, 1, 2.5, 5,\n            7.5, 10,\n          ],\n        },\n      }\n    );\n  }\n\n  private subscribeToChannel(\n    diagnosticChannel: string,\n    onMessage: (message: any, name: string | symbol) => void\n  ) {\n    // `diagnostics_channel` had a ref counting bug until v18.19.0.\n    // https://github.com/nodejs/node/pull/47520\n    const [major, minor] = process.version\n      .replace('v', '')\n      .split('.')\n      .map(n => Number(n));\n    const useNewSubscribe = major > 18 || (major === 18 && minor >= 19);\n\n    let unsubscribe: () => void;\n    if (useNewSubscribe) {\n      diagch.subscribe?.(diagnosticChannel, onMessage);\n      unsubscribe = () => diagch.unsubscribe?.(diagnosticChannel, onMessage);\n    } else {\n      const channel = diagch.channel(diagnosticChannel);\n      channel.subscribe(onMessage);\n      unsubscribe = () => channel.unsubscribe(onMessage);\n    }\n\n    this._channelSubs.push({\n      name: diagnosticChannel,\n      unsubscribe,\n    });\n  }\n\n  // This is the 1st message we receive for each request (fired after request creation). Here we will\n  // create the span and populate some atttributes, then link the span to the request for further\n  // span processing\n  private onRequestCreated({ request }: RequestMessage): void {\n    // Ignore if:\n    // - instrumentation is disabled\n    // - ignored by config\n    // - method is 'CONNECT'\n    const config = this.getConfig();\n    const enabled = config.enabled !== false;\n    const shouldIgnoreReq = safeExecuteInTheMiddle(\n      () =>\n        !enabled ||\n        request.method === 'CONNECT' ||\n        config.ignoreRequestHook?.(request),\n      e => e && this._diag.error('caught ignoreRequestHook error: ', e),\n      true\n    );\n\n    if (shouldIgnoreReq) {\n      return;\n    }\n\n    const startTime = hrTime();\n    let requestUrl;\n    try {\n      requestUrl = new URL(request.path, request.origin);\n    } catch (err) {\n      this._diag.warn('could not determine url.full:', err);\n      // Skip instrumenting this request.\n      return;\n    }\n    const urlScheme = requestUrl.protocol.replace(':', '');\n    const requestMethod = this.getRequestMethod(request.method);\n    const attributes: Attributes = {\n      [SemanticAttributes.HTTP_REQUEST_METHOD]: requestMethod,\n      [SemanticAttributes.HTTP_REQUEST_METHOD_ORIGINAL]: request.method,\n      [SemanticAttributes.URL_FULL]: requestUrl.toString(),\n      [SemanticAttributes.URL_PATH]: requestUrl.pathname,\n      [SemanticAttributes.URL_QUERY]: requestUrl.search,\n      [SemanticAttributes.URL_SCHEME]: urlScheme,\n    };\n\n    const schemePorts: Record<string, string> = { https: '443', http: '80' };\n    const serverAddress = requestUrl.hostname;\n    const serverPort = requestUrl.port || schemePorts[urlScheme];\n\n    attributes[SemanticAttributes.SERVER_ADDRESS] = serverAddress;\n    if (serverPort && !isNaN(Number(serverPort))) {\n      attributes[SemanticAttributes.SERVER_PORT] = Number(serverPort);\n    }\n\n    // Get user agent from headers\n    let userAgent;\n    if (Array.isArray(request.headers)) {\n      const idx = request.headers.findIndex(\n        h => h.toLowerCase() === 'user-agent'\n      );\n      if (idx >= 0) {\n        userAgent = request.headers[idx + 1];\n      }\n    } else if (typeof request.headers === 'string') {\n      const headers = request.headers.split('\\r\\n');\n      const uaHeader = headers.find(h =>\n        h.toLowerCase().startsWith('user-agent')\n      );\n      userAgent =\n        uaHeader && uaHeader.substring(uaHeader.indexOf(':') + 1).trim();\n    }\n\n    if (userAgent) {\n      attributes[SemanticAttributes.USER_AGENT_ORIGINAL] = userAgent;\n    }\n\n    // Get attributes from the hook if present\n    const hookAttributes = safeExecuteInTheMiddle(\n      () => config.startSpanHook?.(request),\n      e => e && this._diag.error('caught startSpanHook error: ', e),\n      true\n    );\n    if (hookAttributes) {\n      Object.entries(hookAttributes).forEach(([key, val]) => {\n        attributes[key] = val;\n      });\n    }\n\n    // Check if parent span is required via config and:\n    // - if a parent is required but not present, we use a `NoopSpan` to still\n    //   propagate context without recording it.\n    // - create a span otherwise\n    const activeCtx = context.active();\n    const currentSpan = trace.getSpan(activeCtx);\n    let span: Span;\n\n    if (\n      config.requireParentforSpans &&\n      (!currentSpan || !trace.isSpanContextValid(currentSpan.spanContext()))\n    ) {\n      span = trace.wrapSpanContext(INVALID_SPAN_CONTEXT);\n    } else {\n      span = this.tracer.startSpan(\n        requestMethod === '_OTHER' ? 'HTTP' : requestMethod,\n        {\n          kind: SpanKind.CLIENT,\n          attributes: attributes,\n        },\n        activeCtx\n      );\n    }\n\n    // Execute the request hook if defined\n    safeExecuteInTheMiddle(\n      () => config.requestHook?.(span, request),\n      e => e && this._diag.error('caught requestHook error: ', e),\n      true\n    );\n\n    // Context propagation goes last so no hook can tamper\n    // the propagation headers\n    const requestContext = trace.setSpan(context.active(), span);\n    const addedHeaders: Record<string, string> = {};\n    propagation.inject(requestContext, addedHeaders);\n\n    const headerEntries = Object.entries(addedHeaders);\n\n    for (let i = 0; i < headerEntries.length; i++) {\n      const [k, v] = headerEntries[i];\n\n      if (typeof request.addHeader === 'function') {\n        request.addHeader(k, v);\n      } else if (typeof request.headers === 'string') {\n        request.headers += `${k}: ${v}\\r\\n`;\n      } else if (Array.isArray(request.headers)) {\n        // undici@6.11.0 accidentally, briefly removed `request.addHeader()`.\n        request.headers.push(k, v);\n      }\n    }\n    this._recordFromReq.set(request, { span, attributes, startTime });\n  }\n\n  // This is the 2nd message we receive for each request. It is fired when connection with\n  // the remote is established and about to send the first byte. Here we do have info about the\n  // remote address and port so we can populate some `network.*` attributes into the span\n  private onRequestHeaders({ request, socket }: RequestHeadersMessage): void {\n    const record = this._recordFromReq.get(request as UndiciRequest);\n\n    if (!record) {\n      return;\n    }\n\n    const config = this.getConfig();\n    const { span } = record;\n    const { remoteAddress, remotePort } = socket;\n    const spanAttributes: Attributes = {\n      [SemanticAttributes.NETWORK_PEER_ADDRESS]: remoteAddress,\n      [SemanticAttributes.NETWORK_PEER_PORT]: remotePort,\n    };\n\n    // After hooks have been processed (which may modify request headers)\n    // we can collect the headers based on the configuration\n    if (config.headersToSpanAttributes?.requestHeaders) {\n      const headersToAttribs = new Set(\n        config.headersToSpanAttributes.requestHeaders.map(n => n.toLowerCase())\n      );\n\n      // headers could be in form\n      // ['name: value', ...] for v5\n      // ['name', 'value', ...] for v6\n      const rawHeaders = Array.isArray(request.headers)\n        ? request.headers\n        : request.headers.split('\\r\\n');\n      rawHeaders.forEach((h, idx) => {\n        const sepIndex = h.indexOf(':');\n        const hasSeparator = sepIndex !== -1;\n        const name = (\n          hasSeparator ? h.substring(0, sepIndex) : h\n        ).toLowerCase();\n        const value = hasSeparator\n          ? h.substring(sepIndex + 1)\n          : rawHeaders[idx + 1];\n\n        if (headersToAttribs.has(name)) {\n          spanAttributes[`http.request.header.${name}`] = value.trim();\n        }\n      });\n    }\n\n    span.setAttributes(spanAttributes);\n  }\n\n  // This is the 3rd message we get for each request and it's fired when the server\n  // headers are received, body may not be accessible yet.\n  // From the response headers we can set the status and content length\n  private onResponseHeaders({\n    request,\n    response,\n  }: ResponseHeadersMessage): void {\n    const record = this._recordFromReq.get(request);\n\n    if (!record) {\n      return;\n    }\n\n    const { span, attributes } = record;\n    const spanAttributes: Attributes = {\n      [SemanticAttributes.HTTP_RESPONSE_STATUS_CODE]: response.statusCode,\n    };\n\n    const config = this.getConfig();\n\n    // Execute the response hook if defined\n    safeExecuteInTheMiddle(\n      () => config.responseHook?.(span, { request, response }),\n      e => e && this._diag.error('caught responseHook error: ', e),\n      true\n    );\n\n    const headersToAttribs = new Set();\n\n    if (config.headersToSpanAttributes?.responseHeaders) {\n      config.headersToSpanAttributes?.responseHeaders.forEach(name =>\n        headersToAttribs.add(name.toLowerCase())\n      );\n    }\n\n    for (let idx = 0; idx < response.headers.length; idx = idx + 2) {\n      const name = response.headers[idx].toString().toLowerCase();\n      const value = response.headers[idx + 1];\n\n      if (headersToAttribs.has(name)) {\n        spanAttributes[`http.response.header.${name}`] = value.toString();\n      }\n\n      if (name === 'content-length') {\n        const contentLength = Number(value.toString());\n        if (!isNaN(contentLength)) {\n          spanAttributes['http.response.header.content-length'] = contentLength;\n        }\n      }\n    }\n\n    span.setAttributes(spanAttributes);\n    span.setStatus({\n      code:\n        response.statusCode >= 400\n          ? SpanStatusCode.ERROR\n          : SpanStatusCode.UNSET,\n    });\n    record.attributes = Object.assign(attributes, spanAttributes);\n  }\n\n  // This is the last event we receive if the request went without any errors\n  private onDone({ request }: RequestTrailersMessage): void {\n    const record = this._recordFromReq.get(request);\n\n    if (!record) {\n      return;\n    }\n\n    const { span, attributes, startTime } = record;\n\n    // End the span\n    span.end();\n    this._recordFromReq.delete(request);\n\n    // Record metrics\n    this.recordRequestDuration(attributes, startTime);\n  }\n\n  // This is the event we get when something is wrong in the request like\n  // - invalid options when calling `fetch` global API or any undici method for request\n  // - connectivity errors such as unreachable host\n  // - requests aborted through an `AbortController.signal`\n  // NOTE: server errors are considered valid responses and it's the lib consumer\n  // who should deal with that.\n  private onError({ request, error }: any): void {\n    const record = this._recordFromReq.get(request);\n\n    if (!record) {\n      return;\n    }\n\n    const { span, attributes, startTime } = record;\n\n    // NOTE: in `undici@6.3.0` when request aborted the error type changes from\n    // a custom error (`RequestAbortedError`) to a built-in `DOMException` carrying\n    // some differences:\n    // - `code` is from DOMEXception (ABORT_ERR: 20)\n    // - `message` changes\n    // - stacktrace is smaller and contains node internal frames\n    span.recordException(error);\n    span.setStatus({\n      code: SpanStatusCode.ERROR,\n      message: error.message,\n    });\n    span.end();\n    this._recordFromReq.delete(request);\n\n    // Record metrics (with the error)\n    attributes[SemanticAttributes.ERROR_TYPE] = error.message;\n    this.recordRequestDuration(attributes, startTime);\n  }\n\n  private recordRequestDuration(attributes: Attributes, startTime: HrTime) {\n    // Time to record metrics\n    const metricsAttributes: Attributes = {};\n    // Get the attribs already in span attributes\n    const keysToCopy = [\n      SemanticAttributes.HTTP_RESPONSE_STATUS_CODE,\n      SemanticAttributes.HTTP_REQUEST_METHOD,\n      SemanticAttributes.SERVER_ADDRESS,\n      SemanticAttributes.SERVER_PORT,\n      SemanticAttributes.URL_SCHEME,\n      SemanticAttributes.ERROR_TYPE,\n    ];\n    keysToCopy.forEach(key => {\n      if (key in attributes) {\n        metricsAttributes[key] = attributes[key];\n      }\n    });\n\n    // Take the duration and record it\n    const durationSeconds =\n      hrTimeToMilliseconds(hrTimeDuration(startTime, hrTime())) / 1000;\n    this._httpClientDurationHistogram.record(\n      durationSeconds,\n      metricsAttributes\n    );\n  }\n\n  private getRequestMethod(original: string): string {\n    const knownMethods = {\n      CONNECT: true,\n      OPTIONS: true,\n      HEAD: true,\n      GET: true,\n      POST: true,\n      PUT: true,\n      PATCH: true,\n      DELETE: true,\n      TRACE: true,\n    };\n\n    if (original.toUpperCase() in knownMethods) {\n      return original.toUpperCase();\n    }\n\n    return '_OTHER';\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11153, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11157, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ea42023feb630cf81f97bdce18a46e94/node_modules/@opentelemetry/instrumentation-undici/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport type { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport type { Attributes, Span } from '@opentelemetry/api';\n\nexport interface UndiciRequest {\n  origin: string;\n  method: string;\n  path: string;\n  /**\n   * Serialized string of headers in the form `name: value\\r\\n` for v5\n   * Array of strings v6\n   */\n  headers: string | string[];\n  /**\n   * Helper method to add headers (from v6)\n   */\n  addHeader: (name: string, value: string) => void;\n  throwOnError: boolean;\n  completed: boolean;\n  aborted: boolean;\n  idempotent: boolean;\n  contentLength: number | null;\n  contentType: string | null;\n  body: any;\n}\n\nexport interface UndiciResponse {\n  headers: Buffer[];\n  statusCode: number;\n  statusText: string;\n}\n\nexport interface IgnoreRequestFunction<T = UndiciRequest> {\n  (request: T): boolean;\n}\n\nexport interface RequestHookFunction<T = UndiciRequest> {\n  (span: Span, request: T): void;\n}\n\nexport interface ResponseHookFunction<\n  RequestType = UndiciRequest,\n  ResponseType = UndiciResponse\n> {\n  (span: Span, info: { request: RequestType; response: ResponseType }): void;\n}\n\nexport interface StartSpanHookFunction<T = UndiciRequest> {\n  (request: T): Attributes;\n}\n\n// This package will instrument HTTP requests made through `undici` or  `fetch` global API\n// so it seems logical to have similar options than the HTTP instrumentation\nexport interface UndiciInstrumentationConfig<\n  RequestType = UndiciRequest,\n  ResponseType = UndiciResponse\n> extends InstrumentationConfig {\n  /** Not trace all outgoing requests that matched with custom function */\n  ignoreRequestHook?: IgnoreRequestFunction<RequestType>;\n  /** Function for adding custom attributes before request is handled */\n  requestHook?: RequestHookFunction<RequestType>;\n  /** Function called once response headers have been received */\n  responseHook?: ResponseHookFunction<RequestType, ResponseType>;\n  /** Function for adding custom attributes before a span is started */\n  startSpanHook?: StartSpanHookFunction<RequestType>;\n  /** Require parent to create span for outgoing requests */\n  requireParentforSpans?: boolean;\n  /** Map the following HTTP headers to span attributes. */\n  headersToSpanAttributes?: {\n    requestHeaders?: string[];\n    responseHeaders?: string[];\n  };\n}\n"],"names":[],"mappings":""}},
    {"offset": {"line": 11161, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11165, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ea42023feb630cf81f97bdce18a46e94/node_modules/@opentelemetry/instrumentation-undici/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './undici';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,+NAAA;AACA,8NAAA"}},
    {"offset": {"line": 11200, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11204, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c9a68933ff2f15fcb11cf92ba7a902a7/node_modules/@opentelemetry/instrumentation-fs/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.19.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-fs';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 11226, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11230, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c9a68933ff2f15fcb11cf92ba7a902a7/node_modules/@opentelemetry/instrumentation-fs/src/constants.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { FMember, FPMember } from './types';\n\nexport const PROMISE_FUNCTIONS: FPMember[] = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'copyFile',\n  'cp' as FPMember, // added in v16\n  'lchown',\n  'link',\n  'lstat',\n  'lutimes', // added in v12\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'opendir', // added in v12\n  'readdir',\n  'readFile',\n  'readlink',\n  'realpath',\n  'rename',\n  'rm', // added in v14\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile',\n  // 'lchmod', // only implemented on macOS\n];\n\nexport const CALLBACK_FUNCTIONS: FMember[] = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'copyFile',\n  'cp' as FMember, // added in v16\n  'exists', // deprecated, inconsistent cb signature, handling separately when patching\n  'lchown',\n  'link',\n  'lstat',\n  'lutimes', // added in v12\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'opendir', // added in v12\n  'readdir',\n  'readFile',\n  'readlink',\n  'realpath',\n  'realpath.native',\n  'rename',\n  'rm', // added in v14\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile',\n  // 'close', // functions on file descriptor\n  // 'fchmod', // functions on file descriptor\n  // 'fchown', // functions on file descriptor\n  // 'fdatasync', // functions on file descriptor\n  // 'fstat', // functions on file descriptor\n  // 'fsync', // functions on file descriptor\n  // 'ftruncate', // functions on file descriptor\n  // 'futimes', // functions on file descriptor\n  // 'lchmod', // only implemented on macOS\n  // 'read', // functions on file descriptor\n  // 'readv', // functions on file descriptor\n  // 'write', // functions on file descriptor\n  // 'writev', // functions on file descriptor\n];\n\nexport const SYNC_FUNCTIONS: FMember[] = [\n  'accessSync',\n  'appendFileSync',\n  'chmodSync',\n  'chownSync',\n  'copyFileSync',\n  'cpSync' as FMember, // added in v16\n  'existsSync',\n  'lchownSync',\n  'linkSync',\n  'lstatSync',\n  'lutimesSync', // added in v12\n  'mkdirSync',\n  'mkdtempSync',\n  'opendirSync', // added in v12\n  'openSync',\n  'readdirSync',\n  'readFileSync',\n  'readlinkSync',\n  'realpathSync',\n  'realpathSync.native',\n  'renameSync',\n  'rmdirSync',\n  'rmSync', // added in v14\n  'statSync',\n  'symlinkSync',\n  'truncateSync',\n  'unlinkSync',\n  'utimesSync',\n  'writeFileSync',\n  // 'closeSync', // functions on file descriptor\n  // 'fchmodSync', // functions on file descriptor\n  // 'fchownSync', // functions on file descriptor\n  // 'fdatasyncSync', // functions on file descriptor\n  // 'fstatSync', // functions on file descriptor\n  // 'fsyncSync', // functions on file descriptor\n  // 'ftruncateSync', // functions on file descriptor\n  // 'futimesSync', // functions on file descriptor\n  // 'lchmodSync', // only implemented on macOS\n  // 'readSync', // functions on file descriptor\n  // 'readvSync', // functions on file descriptor\n  // 'writeSync', // functions on file descriptor\n  // 'writevSync', // functions on file descriptor\n];\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAkBa,QAAA,iBAAiB,GAAe;IAC3C;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CAED;AAEY,QAAA,kBAAkB,GAAc;IAC3C;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CAcD;AAEY,QAAA,cAAc,GAAc;IACvC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CAcD"}},
    {"offset": {"line": 11340, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11344, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c9a68933ff2f15fcb11cf92ba7a902a7/node_modules/@opentelemetry/instrumentation-fs/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport type { FunctionPropertyNames, FMember } from './types';\nimport type * as fs from 'fs';\ntype FS = typeof fs;\n\nexport function splitTwoLevels<FSObject>(\n  functionName: FMember\n):\n  | [FunctionPropertyNames<FSObject> & string]\n  | [FunctionPropertyNames<FSObject> & string, string] {\n  const memberParts = functionName.split('.');\n  if (memberParts.length > 1) {\n    if (memberParts.length !== 2)\n      throw Error(`Invalid member function name ${functionName}`);\n    return memberParts as [FunctionPropertyNames<FSObject> & string, string];\n  } else {\n    return [functionName as FunctionPropertyNames<FSObject> & string];\n  }\n}\n\nexport function indexFs<FSObject extends FS | FS['promises']>(\n  fs: FSObject,\n  member: FMember\n): { objectToPatch: any; functionNameToPatch: string } {\n  if (!member) throw new Error(JSON.stringify({ member }));\n  const splitResult = splitTwoLevels<FSObject>(member);\n  const [functionName1, functionName2] = splitResult;\n  if (functionName2) {\n    return {\n      objectToPatch: fs[functionName1],\n      functionNameToPatch: functionName2,\n    };\n  } else {\n    return {\n      objectToPatch: fs,\n      functionNameToPatch: functionName1,\n    };\n  }\n}\n"],"names":[],"mappings":";;;;;AAmBA,SAAgB,eACd,YAAqB;IAIrB,MAAM,cAAc,aAAa,KAAK,CAAC;IACvC,IAAI,YAAY,MAAM,GAAG,GAAG;QAC1B,IAAI,YAAY,MAAM,KAAK,GACzB,MAAM,MAAM,CAAA,6BAAA,EAAgC,aAAY,CAAE;QAC5D,OAAO;WACF;QACL,OAAO;YAAC;SAAyD;;AAErE;AAbA,QAAA,cAAA,GAAA;AAeA,SAAgB,QACd,EAAY,EACZ,MAAe;IAEf,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM,KAAK,SAAS,CAAC;QAAE;IAAM;IACpD,MAAM,cAAc,eAAyB;IAC7C,MAAM,CAAC,eAAe,cAAc,GAAG;IACvC,IAAI,eAAe;QACjB,OAAO;YACL,eAAe,EAAE,CAAC,cAAc;YAChC,qBAAqB;;WAElB;QACL,OAAO;YACL,eAAe;YACf,qBAAqB;;;AAG3B;AAlBA,QAAA,OAAA,GAAA"}},
    {"offset": {"line": 11380, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11384, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c9a68933ff2f15fcb11cf92ba7a902a7/node_modules/@opentelemetry/instrumentation-fs/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport { isTracingSuppressed, suppressTracing } from '@opentelemetry/core';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport {\n  CALLBACK_FUNCTIONS,\n  PROMISE_FUNCTIONS,\n  SYNC_FUNCTIONS,\n} from './constants';\nimport type * as fs from 'fs';\nimport type {\n  FMember,\n  FPMember,\n  CreateHook,\n  EndHook,\n  FsInstrumentationConfig,\n} from './types';\nimport { promisify } from 'util';\nimport { indexFs } from './utils';\n\ntype FS = typeof fs;\ntype FSPromises = (typeof fs)['promises'];\n\n/**\n * This is important for 2-level functions like `realpath.native` to retain the 2nd-level\n * when patching the 1st-level.\n */\nfunction patchedFunctionWithOriginalProperties<\n  T extends (...args: any[]) => ReturnType<T>\n>(patchedFunction: T, original: T): T {\n  return Object.assign(patchedFunction, original);\n}\n\nexport class FsInstrumentation extends InstrumentationBase<FsInstrumentationConfig> {\n  constructor(config: FsInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  init(): (\n    | InstrumentationNodeModuleDefinition\n    | InstrumentationNodeModuleDefinition\n  )[] {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'fs',\n        ['*'],\n        (fs: FS) => {\n          for (const fName of SYNC_FUNCTIONS) {\n            const { objectToPatch, functionNameToPatch } = indexFs(fs, fName);\n\n            if (isWrapped(objectToPatch[functionNameToPatch])) {\n              this._unwrap(objectToPatch, functionNameToPatch);\n            }\n            this._wrap(\n              objectToPatch,\n              functionNameToPatch,\n              <any>this._patchSyncFunction.bind(this, fName)\n            );\n          }\n          for (const fName of CALLBACK_FUNCTIONS) {\n            const { objectToPatch, functionNameToPatch } = indexFs(fs, fName);\n            if (isWrapped(objectToPatch[functionNameToPatch])) {\n              this._unwrap(objectToPatch, functionNameToPatch);\n            }\n            if (fName === 'exists') {\n              // handling separately because of the inconsistent cb style:\n              // `exists` doesn't have error as the first argument, but the result\n              this._wrap(\n                objectToPatch,\n                functionNameToPatch,\n                <any>this._patchExistsCallbackFunction.bind(this, fName)\n              );\n              continue;\n            }\n            this._wrap(\n              objectToPatch,\n              functionNameToPatch,\n              <any>this._patchCallbackFunction.bind(this, fName)\n            );\n          }\n          for (const fName of PROMISE_FUNCTIONS) {\n            if (isWrapped(fs.promises[fName])) {\n              this._unwrap(fs.promises, fName);\n            }\n            this._wrap(\n              fs.promises,\n              fName,\n              <any>this._patchPromiseFunction.bind(this, fName)\n            );\n          }\n          return fs;\n        },\n        (fs: FS) => {\n          if (fs === undefined) return;\n          for (const fName of SYNC_FUNCTIONS) {\n            const { objectToPatch, functionNameToPatch } = indexFs(fs, fName);\n            if (isWrapped(objectToPatch[functionNameToPatch])) {\n              this._unwrap(objectToPatch, functionNameToPatch);\n            }\n          }\n          for (const fName of CALLBACK_FUNCTIONS) {\n            const { objectToPatch, functionNameToPatch } = indexFs(fs, fName);\n            if (isWrapped(objectToPatch[functionNameToPatch])) {\n              this._unwrap(objectToPatch, functionNameToPatch);\n            }\n          }\n          for (const fName of PROMISE_FUNCTIONS) {\n            if (isWrapped(fs.promises[fName])) {\n              this._unwrap(fs.promises, fName);\n            }\n          }\n        }\n      ),\n      new InstrumentationNodeModuleDefinition(\n        'fs/promises',\n        ['*'],\n        (fsPromises: FSPromises) => {\n          for (const fName of PROMISE_FUNCTIONS) {\n            if (isWrapped(fsPromises[fName])) {\n              this._unwrap(fsPromises, fName);\n            }\n            this._wrap(\n              fsPromises,\n              fName,\n              <any>this._patchPromiseFunction.bind(this, fName)\n            );\n          }\n          return fsPromises;\n        },\n        (fsPromises: FSPromises) => {\n          if (fsPromises === undefined) return;\n          for (const fName of PROMISE_FUNCTIONS) {\n            if (isWrapped(fsPromises[fName])) {\n              this._unwrap(fsPromises, fName);\n            }\n          }\n        }\n      ),\n    ];\n  }\n\n  protected _patchSyncFunction<T extends (...args: any[]) => ReturnType<T>>(\n    functionName: FMember,\n    original: T\n  ): T {\n    const instrumentation = this;\n    const patchedFunction = <any>function (this: any, ...args: any[]) {\n      const activeContext = api.context.active();\n\n      if (!instrumentation._shouldTrace(activeContext)) {\n        return original.apply(this, args);\n      }\n      if (\n        instrumentation._runCreateHook(functionName, {\n          args: args,\n        }) === false\n      ) {\n        return api.context.with(\n          suppressTracing(activeContext),\n          original,\n          this,\n          ...args\n        );\n      }\n\n      const span = instrumentation.tracer.startSpan(\n        `fs ${functionName}`\n      ) as api.Span;\n\n      try {\n        // Suppress tracing for internal fs calls\n        const res = api.context.with(\n          suppressTracing(api.trace.setSpan(activeContext, span)),\n          original,\n          this,\n          ...args\n        );\n        instrumentation._runEndHook(functionName, { args: args, span });\n        return res;\n      } catch (error: any) {\n        span.recordException(error);\n        span.setStatus({\n          message: error.message,\n          code: api.SpanStatusCode.ERROR,\n        });\n        instrumentation._runEndHook(functionName, { args: args, span, error });\n        throw error;\n      } finally {\n        span.end();\n      }\n    };\n    return patchedFunctionWithOriginalProperties(patchedFunction, original);\n  }\n\n  protected _patchCallbackFunction<T extends (...args: any[]) => ReturnType<T>>(\n    functionName: FMember,\n    original: T\n  ): T {\n    const instrumentation = this;\n    const patchedFunction = <any>function (this: any, ...args: any[]) {\n      const activeContext = api.context.active();\n\n      if (!instrumentation._shouldTrace(activeContext)) {\n        return original.apply(this, args);\n      }\n      if (\n        instrumentation._runCreateHook(functionName, {\n          args: args,\n        }) === false\n      ) {\n        return api.context.with(\n          suppressTracing(activeContext),\n          original,\n          this,\n          ...args\n        );\n      }\n\n      const lastIdx = args.length - 1;\n      const cb = args[lastIdx];\n      if (typeof cb === 'function') {\n        const span = instrumentation.tracer.startSpan(\n          `fs ${functionName}`\n        ) as api.Span;\n\n        // Return to the context active during the call in the callback\n        args[lastIdx] = api.context.bind(\n          activeContext,\n          function (this: unknown, error?: Error) {\n            if (error) {\n              span.recordException(error);\n              span.setStatus({\n                message: error.message,\n                code: api.SpanStatusCode.ERROR,\n              });\n            }\n            instrumentation._runEndHook(functionName, {\n              args: args,\n              span,\n              error,\n            });\n            span.end();\n            return cb.apply(this, arguments);\n          }\n        );\n\n        try {\n          // Suppress tracing for internal fs calls\n          return api.context.with(\n            suppressTracing(api.trace.setSpan(activeContext, span)),\n            original,\n            this,\n            ...args\n          );\n        } catch (error: any) {\n          span.recordException(error);\n          span.setStatus({\n            message: error.message,\n            code: api.SpanStatusCode.ERROR,\n          });\n          instrumentation._runEndHook(functionName, {\n            args: args,\n            span,\n            error,\n          });\n          span.end();\n          throw error;\n        }\n      } else {\n        // TODO: what to do if we are pretty sure it's going to throw\n        return original.apply(this, args);\n      }\n    };\n    return patchedFunctionWithOriginalProperties(patchedFunction, original);\n  }\n\n  protected _patchExistsCallbackFunction<\n    T extends (...args: any[]) => ReturnType<T>\n  >(functionName: 'exists', original: T): T {\n    const instrumentation = this;\n    const patchedFunction = <any>function (this: any, ...args: any[]) {\n      const activeContext = api.context.active();\n\n      if (!instrumentation._shouldTrace(activeContext)) {\n        return original.apply(this, args);\n      }\n      if (\n        instrumentation._runCreateHook(functionName, {\n          args: args,\n        }) === false\n      ) {\n        return api.context.with(\n          suppressTracing(activeContext),\n          original,\n          this,\n          ...args\n        );\n      }\n\n      const lastIdx = args.length - 1;\n      const cb = args[lastIdx];\n      if (typeof cb === 'function') {\n        const span = instrumentation.tracer.startSpan(\n          `fs ${functionName}`\n        ) as api.Span;\n\n        // Return to the context active during the call in the callback\n        args[lastIdx] = api.context.bind(\n          activeContext,\n          function (this: unknown) {\n            // `exists` never calls the callback with an error\n            instrumentation._runEndHook(functionName, {\n              args: args,\n              span,\n            });\n            span.end();\n            return cb.apply(this, arguments);\n          }\n        );\n\n        try {\n          // Suppress tracing for internal fs calls\n          return api.context.with(\n            suppressTracing(api.trace.setSpan(activeContext, span)),\n            original,\n            this,\n            ...args\n          );\n        } catch (error: any) {\n          span.recordException(error);\n          span.setStatus({\n            message: error.message,\n            code: api.SpanStatusCode.ERROR,\n          });\n          instrumentation._runEndHook(functionName, {\n            args: args,\n            span,\n            error,\n          });\n          span.end();\n          throw error;\n        }\n      } else {\n        return original.apply(this, args);\n      }\n    };\n    const functionWithOriginalProperties =\n      patchedFunctionWithOriginalProperties(patchedFunction, original);\n\n    // `exists` has a custom promisify function because of the inconsistent signature\n    // replicating that on the patched function\n    const promisified = function (path: unknown) {\n      return new Promise(resolve =>\n        functionWithOriginalProperties(path, resolve)\n      );\n    };\n    Object.defineProperty(promisified, 'name', { value: functionName });\n    Object.defineProperty(functionWithOriginalProperties, promisify.custom, {\n      value: promisified,\n    });\n\n    return functionWithOriginalProperties;\n  }\n\n  protected _patchPromiseFunction<T extends (...args: any[]) => ReturnType<T>>(\n    functionName: FPMember,\n    original: T\n  ): T {\n    const instrumentation = this;\n    const patchedFunction = <any>async function (this: any, ...args: any[]) {\n      const activeContext = api.context.active();\n\n      if (!instrumentation._shouldTrace(activeContext)) {\n        return original.apply(this, args);\n      }\n      if (\n        instrumentation._runCreateHook(functionName, {\n          args: args,\n        }) === false\n      ) {\n        return api.context.with(\n          suppressTracing(activeContext),\n          original,\n          this,\n          ...args\n        );\n      }\n\n      const span = instrumentation.tracer.startSpan(\n        `fs ${functionName}`\n      ) as api.Span;\n\n      try {\n        // Suppress tracing for internal fs calls\n        const res = await api.context.with(\n          suppressTracing(api.trace.setSpan(activeContext, span)),\n          original,\n          this,\n          ...args\n        );\n        instrumentation._runEndHook(functionName, { args: args, span });\n        return res;\n      } catch (error: any) {\n        span.recordException(error);\n        span.setStatus({\n          message: error.message,\n          code: api.SpanStatusCode.ERROR,\n        });\n        instrumentation._runEndHook(functionName, { args: args, span, error });\n        throw error;\n      } finally {\n        span.end();\n      }\n    };\n    return patchedFunctionWithOriginalProperties(patchedFunction, original);\n  }\n\n  protected _runCreateHook(\n    ...args: Parameters<CreateHook>\n  ): ReturnType<CreateHook> {\n    const { createHook } = this.getConfig();\n    if (typeof createHook === 'function') {\n      try {\n        return createHook(...args);\n      } catch (e) {\n        this._diag.error('caught createHook error', e);\n      }\n    }\n    return true;\n  }\n\n  protected _runEndHook(...args: Parameters<EndHook>): ReturnType<EndHook> {\n    const { endHook } = this.getConfig();\n    if (typeof endHook === 'function') {\n      try {\n        endHook(...args);\n      } catch (e) {\n        this._diag.error('caught endHook error', e);\n      }\n    }\n  }\n\n  protected _shouldTrace(context: api.Context): boolean {\n    if (isTracingSuppressed(context)) {\n      // Performance optimization. Avoid creating additional contexts and spans\n      // if we already know that the tracing is being suppressed.\n      return false;\n    }\n\n    const { requireParentSpan } = this.getConfig();\n    if (requireParentSpan) {\n      const parentSpan = api.trace.getSpan(context);\n      if (parentSpan == null) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11726, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11730, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c9a68933ff2f15fcb11cf92ba7a902a7/node_modules/@opentelemetry/instrumentation-fs/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport type * as fs from 'fs';\n\nimport type * as api from '@opentelemetry/api';\nimport type { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport type FunctionPropertyNames<T> = Exclude<\n  {\n    [K in keyof T]: T[K] extends Function ? K : never;\n  }[keyof T],\n  undefined\n>;\nexport type FunctionProperties<T> = Pick<T, FunctionPropertyNames<T>>;\n\nexport type FunctionPropertyNamesTwoLevels<T> = Exclude<\n  {\n    [K in keyof T]: {\n      [L in keyof T[K]]: L extends string\n        ? T[K][L] extends Function\n          ? K extends string\n            ? L extends string\n              ? `${K}.${L}`\n              : never\n            : never\n          : never\n        : never;\n    }[keyof T[K]];\n  }[keyof T],\n  undefined\n>;\n\nexport type Member<F> =\n  | FunctionPropertyNames<F>\n  | FunctionPropertyNamesTwoLevels<F>;\nexport type FMember =\n  | FunctionPropertyNames<typeof fs>\n  | FunctionPropertyNamesTwoLevels<typeof fs>;\nexport type FPMember =\n  | FunctionPropertyNames<(typeof fs)['promises']>\n  | FunctionPropertyNamesTwoLevels<(typeof fs)['promises']>;\n\nexport type CreateHook = (\n  functionName: FMember | FPMember,\n  info: { args: ArrayLike<unknown> }\n) => boolean;\nexport type EndHook = (\n  functionName: FMember | FPMember,\n  info: { args: ArrayLike<unknown>; span: api.Span; error?: Error }\n) => void;\n\nexport interface FsInstrumentationConfig extends InstrumentationConfig {\n  createHook?: CreateHook;\n  endHook?: EndHook;\n  requireParentSpan?: boolean;\n}\n"],"names":[],"mappings":""}},
    {"offset": {"line": 11734, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11738, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c9a68933ff2f15fcb11cf92ba7a902a7/node_modules/@opentelemetry/instrumentation-fs/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,oOAAA;AACA,0NAAA"}},
    {"offset": {"line": 11773, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11777, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/enums/ExpressLayerType.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum ExpressLayerType {\n  ROUTER = 'router',\n  MIDDLEWARE = 'middleware',\n  REQUEST_HANDLER = 'request_handler',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,IAAY;AAAZ,CAAA,SAAY,gBAAgB;IAC1B,gBAAA,CAAA,SAAA,GAAA;IACA,gBAAA,CAAA,aAAA,GAAA;IACA,gBAAA,CAAA,kBAAA,GAAA;AACF,CAAC,EAJW,mBAAA,QAAA,gBAAgB,IAAA,CAAhB,QAAA,gBAAgB,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 11802, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11806, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/enums/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum AttributeNames {\n  EXPRESS_TYPE = 'express.type',\n  EXPRESS_NAME = 'express.name',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,eAAA,GAAA;IACA,cAAA,CAAA,eAAA,GAAA;AACF,CAAC,EAHW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 11830, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11834, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/internal-types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Request } from 'express';\nimport { Attributes } from '@opentelemetry/api';\n\n/**\n * This symbol is used to mark express layer as being already instrumented\n * since its possible to use a given layer multiple times (ex: middlewares)\n */\nexport const kLayerPatched: unique symbol = Symbol('express-layer-patched');\n\n/**\n * This const define where on the `request` object the Instrumentation will mount the\n * current stack of express layer.\n *\n * It is necessary because express doesn't store the different layers\n * (ie: middleware, router etc) that it called to get to the current layer.\n * Given that, the only way to know the route of a given layer is to\n * store the path of where each previous layer has been mounted.\n *\n * ex: bodyParser > auth middleware > /users router > get /:id\n *  in this case the stack would be: [\"/users\", \"/:id\"]\n *\n * ex2: bodyParser > /api router > /v1 router > /users router > get /:id\n *  stack: [\"/api\", \"/v1\", \"/users\", \":id\"]\n *\n */\nexport const _LAYERS_STORE_PROPERTY = '__ot_middlewares';\n\nexport type PatchedRequest = {\n  [_LAYERS_STORE_PROPERTY]?: string[];\n} & Request;\nexport type PathParams = string | RegExp | Array<string | RegExp>;\n\n// https://github.com/expressjs/express/blob/main/lib/router/index.js#L53\nexport type ExpressRouter = {\n  params: { [key: string]: string };\n  _params: string[];\n  caseSensitive: boolean;\n  mergeParams: boolean;\n  strict: boolean;\n  stack: ExpressLayer[];\n};\n\n// https://github.com/expressjs/express/blob/main/lib/router/layer.js#L33\nexport type ExpressLayer = {\n  handle: Function & Record<string, any>;\n  [kLayerPatched]?: boolean;\n  name: string;\n  params: { [key: string]: string };\n  path: string;\n  regexp: RegExp;\n  route?: ExpressLayer;\n};\n\nexport type LayerMetadata = {\n  attributes: Attributes;\n  name: string;\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAmBA;;;IAIa,QAAA,aAAa,GAAkB,OAAO;AAEnD;;;;;;;;;;;;;;;IAgBa,QAAA,sBAAsB,GAAG"}},
    {"offset": {"line": 11873, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11877, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Attributes } from '@opentelemetry/api';\nimport {\n  IgnoreMatcher,\n  ExpressInstrumentationConfig,\n  LayerPathSegment,\n} from './types';\nimport { ExpressLayerType } from './enums/ExpressLayerType';\nimport { AttributeNames } from './enums/AttributeNames';\nimport {\n  ExpressLayer,\n  PatchedRequest,\n  _LAYERS_STORE_PROPERTY,\n} from './internal-types';\n\n/**\n * Store layers path in the request to be able to construct route later\n * @param request The request where\n * @param [value] the value to push into the array\n */\nexport const storeLayerPath = (request: PatchedRequest, value?: string) => {\n  if (Array.isArray(request[_LAYERS_STORE_PROPERTY]) === false) {\n    Object.defineProperty(request, _LAYERS_STORE_PROPERTY, {\n      enumerable: false,\n      value: [],\n    });\n  }\n  if (value === undefined) return;\n  (request[_LAYERS_STORE_PROPERTY] as string[]).push(value);\n};\n\n/**\n * Recursively search the router path from layer stack\n * @param path The path to reconstruct\n * @param layer The layer to reconstruct from\n * @returns The reconstructed path\n */\nexport const getRouterPath = (path: string, layer: ExpressLayer): string => {\n  const stackLayer = layer.handle?.stack?.[0];\n\n  if (stackLayer?.route?.path) {\n    return `${path}${stackLayer.route.path}`;\n  }\n\n  if (stackLayer?.handle?.stack) {\n    return getRouterPath(path, stackLayer);\n  }\n\n  return path;\n};\n\n/**\n * Parse express layer context to retrieve a name and attributes.\n * @param route The route of the layer\n * @param layer Express layer\n * @param [layerPath] if present, the path on which the layer has been mounted\n */\nexport const getLayerMetadata = (\n  route: string,\n  layer: ExpressLayer,\n  layerPath?: string\n): {\n  attributes: Attributes;\n  name: string;\n} => {\n  if (layer.name === 'router') {\n    const maybeRouterPath = getRouterPath('', layer);\n    const extractedRouterPath = maybeRouterPath\n      ? maybeRouterPath\n      : layerPath || route || '/';\n\n    return {\n      attributes: {\n        [AttributeNames.EXPRESS_NAME]: extractedRouterPath,\n        [AttributeNames.EXPRESS_TYPE]: ExpressLayerType.ROUTER,\n      },\n      name: `router - ${extractedRouterPath}`,\n    };\n  } else if (layer.name === 'bound dispatch') {\n    return {\n      attributes: {\n        [AttributeNames.EXPRESS_NAME]:\n          (route || layerPath) ?? 'request handler',\n        [AttributeNames.EXPRESS_TYPE]: ExpressLayerType.REQUEST_HANDLER,\n      },\n      name: `request handler${layer.path ? ` - ${route || layerPath}` : ''}`,\n    };\n  } else {\n    return {\n      attributes: {\n        [AttributeNames.EXPRESS_NAME]: layer.name,\n        [AttributeNames.EXPRESS_TYPE]: ExpressLayerType.MIDDLEWARE,\n      },\n      name: `middleware - ${layer.name}`,\n    };\n  }\n};\n\n/**\n * Check whether the given obj match pattern\n * @param constant e.g URL of request\n * @param obj obj to inspect\n * @param pattern Match pattern\n */\nconst satisfiesPattern = (\n  constant: string,\n  pattern: IgnoreMatcher\n): boolean => {\n  if (typeof pattern === 'string') {\n    return pattern === constant;\n  } else if (pattern instanceof RegExp) {\n    return pattern.test(constant);\n  } else if (typeof pattern === 'function') {\n    return pattern(constant);\n  } else {\n    throw new TypeError('Pattern is in unsupported datatype');\n  }\n};\n\n/**\n * Check whether the given request is ignored by configuration\n * It will not re-throw exceptions from `list` provided by the client\n * @param constant e.g URL of request\n * @param [list] List of ignore patterns\n * @param [onException] callback for doing something when an exception has\n *     occurred\n */\nexport const isLayerIgnored = (\n  name: string,\n  type: ExpressLayerType,\n  config?: ExpressInstrumentationConfig\n): boolean => {\n  if (\n    Array.isArray(config?.ignoreLayersType) &&\n    config?.ignoreLayersType?.includes(type)\n  ) {\n    return true;\n  }\n  if (Array.isArray(config?.ignoreLayers) === false) return false;\n  try {\n    for (const pattern of config!.ignoreLayers!) {\n      if (satisfiesPattern(name, pattern)) {\n        return true;\n      }\n    }\n  } catch (e) {\n    /* catch block*/\n  }\n\n  return false;\n};\n\n/**\n * Converts a user-provided error value into an error and error message pair\n *\n * @param error - User-provided error value\n * @returns Both an Error or string representation of the value and an error message\n */\nexport const asErrorAndMessage = (\n  error: unknown\n): [error: string | Error, message: string] =>\n  error instanceof Error\n    ? [error, error.message]\n    : [String(error), String(error)];\n\n/**\n * Extracts the layer path from the route arguments\n *\n * @param args - Arguments of the route\n * @returns The layer path\n */\nexport const getLayerPath = (\n  args: [LayerPathSegment | LayerPathSegment[], ...unknown[]]\n): string | undefined => {\n  const firstArg = args[0];\n\n  if (Array.isArray(firstArg)) {\n    return firstArg.map(arg => extractLayerPathSegment(arg) || '').join(',');\n  }\n\n  return extractLayerPathSegment(firstArg);\n};\n\nconst extractLayerPathSegment = (arg: LayerPathSegment) => {\n  if (typeof arg === 'string') {\n    return arg;\n  }\n\n  if (arg instanceof RegExp || typeof arg === 'number') {\n    return arg.toString();\n  }\n\n  return;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 12042, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12046, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.47.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-express';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 12068, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12072, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getRPCMetadata, RPCType } from '@opentelemetry/core';\nimport {\n  trace,\n  context,\n  diag,\n  Attributes,\n  SpanStatusCode,\n} from '@opentelemetry/api';\nimport type * as express from 'express';\nimport { ExpressInstrumentationConfig, ExpressRequestInfo } from './types';\nimport { ExpressLayerType } from './enums/ExpressLayerType';\nimport { AttributeNames } from './enums/AttributeNames';\nimport {\n  asErrorAndMessage,\n  getLayerMetadata,\n  getLayerPath,\n  isLayerIgnored,\n  storeLayerPath,\n} from './utils';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport { SEMATTRS_HTTP_ROUTE } from '@opentelemetry/semantic-conventions';\nimport {\n  ExpressLayer,\n  ExpressRouter,\n  kLayerPatched,\n  PatchedRequest,\n  _LAYERS_STORE_PROPERTY,\n} from './internal-types';\n\n/** Express instrumentation for OpenTelemetry */\nexport class ExpressInstrumentation extends InstrumentationBase<ExpressInstrumentationConfig> {\n  constructor(config: ExpressInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  init() {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'express',\n        ['>=4.0.0 <5'],\n        moduleExports => {\n          const routerProto = moduleExports.Router as unknown as express.Router;\n          // patch express.Router.route\n          if (isWrapped(routerProto.route)) {\n            this._unwrap(routerProto, 'route');\n          }\n          this._wrap(routerProto, 'route', this._getRoutePatch());\n          // patch express.Router.use\n          if (isWrapped(routerProto.use)) {\n            this._unwrap(routerProto, 'use');\n          }\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          this._wrap(routerProto, 'use', this._getRouterUsePatch() as any);\n          // patch express.Application.use\n          if (isWrapped(moduleExports.application.use)) {\n            this._unwrap(moduleExports.application, 'use');\n          }\n          this._wrap(\n            moduleExports.application,\n            'use',\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this._getAppUsePatch() as any\n          );\n          return moduleExports;\n        },\n        moduleExports => {\n          if (moduleExports === undefined) return;\n          const routerProto = moduleExports.Router as unknown as express.Router;\n          this._unwrap(routerProto, 'route');\n          this._unwrap(routerProto, 'use');\n          this._unwrap(moduleExports.application, 'use');\n        }\n      ),\n    ];\n  }\n\n  /**\n   * Get the patch for Router.route function\n   */\n  private _getRoutePatch() {\n    const instrumentation = this;\n    return function (original: express.Router['route']) {\n      return function route_trace(\n        this: ExpressRouter,\n        ...args: Parameters<typeof original>\n      ) {\n        const route = original.apply(this, args);\n        const layer = this.stack[this.stack.length - 1] as ExpressLayer;\n        instrumentation._applyPatch(layer, getLayerPath(args));\n        return route;\n      };\n    };\n  }\n\n  /**\n   * Get the patch for Router.use function\n   */\n  private _getRouterUsePatch() {\n    const instrumentation = this;\n    return function (original: express.Router['use']) {\n      return function use(\n        this: express.Application,\n        ...args: Parameters<typeof original>\n      ) {\n        const route = original.apply(this, args);\n        const layer = this.stack[this.stack.length - 1] as ExpressLayer;\n        instrumentation._applyPatch(layer, getLayerPath(args));\n        return route;\n      };\n    };\n  }\n\n  /**\n   * Get the patch for Application.use function\n   */\n  private _getAppUsePatch() {\n    const instrumentation = this;\n    return function (original: express.Application['use']) {\n      return function use(\n        this: { _router: ExpressRouter },\n        ...args: Parameters<typeof original>\n      ) {\n        const route = original.apply(this, args);\n        const layer = this._router.stack[this._router.stack.length - 1];\n        instrumentation._applyPatch(layer, getLayerPath(args));\n        return route;\n      };\n    };\n  }\n\n  /** Patch each express layer to create span and propagate context */\n  private _applyPatch(\n    this: ExpressInstrumentation,\n    layer: ExpressLayer,\n    layerPath?: string\n  ) {\n    const instrumentation = this;\n    // avoid patching multiple times the same layer\n    if (layer[kLayerPatched] === true) return;\n    layer[kLayerPatched] = true;\n\n    this._wrap(layer, 'handle', original => {\n      // TODO: instrument error handlers\n      if (original.length === 4) return original;\n\n      const patched = function (\n        this: ExpressLayer,\n        req: PatchedRequest,\n        res: express.Response\n      ) {\n        storeLayerPath(req, layerPath);\n        const route = (req[_LAYERS_STORE_PROPERTY] as string[])\n          .filter(path => path !== '/' && path !== '/*')\n          .join('')\n          // remove duplicate slashes to normalize route\n          .replace(/\\/{2,}/g, '/');\n\n        const attributes: Attributes = {\n          [SEMATTRS_HTTP_ROUTE]: route.length > 0 ? route : '/',\n        };\n        const metadata = getLayerMetadata(route, layer, layerPath);\n        const type = metadata.attributes[\n          AttributeNames.EXPRESS_TYPE\n        ] as ExpressLayerType;\n\n        const rpcMetadata = getRPCMetadata(context.active());\n        if (rpcMetadata?.type === RPCType.HTTP) {\n          rpcMetadata.route = route || '/';\n        }\n\n        // verify against the config if the layer should be ignored\n        if (isLayerIgnored(metadata.name, type, instrumentation.getConfig())) {\n          if (type === ExpressLayerType.MIDDLEWARE) {\n            (req[_LAYERS_STORE_PROPERTY] as string[]).pop();\n          }\n          return original.apply(this, arguments);\n        }\n\n        if (trace.getSpan(context.active()) === undefined) {\n          return original.apply(this, arguments);\n        }\n\n        const spanName = instrumentation._getSpanName(\n          {\n            request: req,\n            layerType: type,\n            route,\n          },\n          metadata.name\n        );\n        const span = instrumentation.tracer.startSpan(spanName, {\n          attributes: Object.assign(attributes, metadata.attributes),\n        });\n\n        const { requestHook } = instrumentation.getConfig();\n        if (requestHook) {\n          safeExecuteInTheMiddle(\n            () =>\n              requestHook(span, {\n                request: req,\n                layerType: type,\n                route,\n              }),\n            e => {\n              if (e) {\n                diag.error('express instrumentation: request hook failed', e);\n              }\n            },\n            true\n          );\n        }\n\n        let spanHasEnded = false;\n        if (\n          metadata.attributes[AttributeNames.EXPRESS_TYPE] !==\n          ExpressLayerType.MIDDLEWARE\n        ) {\n          span.end();\n          spanHasEnded = true;\n        }\n        // listener for response.on('finish')\n        const onResponseFinish = () => {\n          if (spanHasEnded === false) {\n            spanHasEnded = true;\n            span.end();\n          }\n        };\n\n        // verify we have a callback\n        const args = Array.from(arguments);\n        const callbackIdx = args.findIndex(arg => typeof arg === 'function');\n        if (callbackIdx >= 0) {\n          arguments[callbackIdx] = function () {\n            // express considers anything but an empty value, \"route\" or \"router\"\n            // passed to its callback to be an error\n            const maybeError = arguments[0];\n            const isError = ![undefined, null, 'route', 'router'].includes(\n              maybeError\n            );\n            if (!spanHasEnded && isError) {\n              const [error, message] = asErrorAndMessage(maybeError);\n              span.recordException(error);\n              span.setStatus({\n                code: SpanStatusCode.ERROR,\n                message,\n              });\n            }\n\n            if (spanHasEnded === false) {\n              spanHasEnded = true;\n              req.res?.removeListener('finish', onResponseFinish);\n              span.end();\n            }\n            if (!(req.route && isError)) {\n              (req[_LAYERS_STORE_PROPERTY] as string[]).pop();\n            }\n            const callback = args[callbackIdx] as Function;\n            return callback.apply(this, arguments);\n          };\n        }\n\n        try {\n          return original.apply(this, arguments);\n        } catch (anyError) {\n          const [error, message] = asErrorAndMessage(anyError);\n          span.recordException(error);\n          span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message,\n          });\n          throw anyError;\n        } finally {\n          /**\n           * At this point if the callback wasn't called, that means either the\n           * layer is asynchronous (so it will call the callback later on) or that\n           * the layer directly end the http response, so we'll hook into the \"finish\"\n           * event to handle the later case.\n           */\n          if (!spanHasEnded) {\n            res.once('finish', onResponseFinish);\n          }\n        }\n      };\n\n      // `handle` isn't just a regular function in some cases. It also contains\n      // some properties holding metadata and state so we need to proxy them\n      // through through patched function\n      // ref: https://github.com/open-telemetry/opentelemetry-js-contrib/issues/1950\n      // Also some apps/libs do their own patching before OTEL and have these properties\n      // in the proptotype. So we use a `for...in` loop to get own properties and also\n      // any enumerable prop in the prototype chain\n      // ref: https://github.com/open-telemetry/opentelemetry-js-contrib/issues/2271\n      for (const key in original) {\n        Object.defineProperty(patched, key, {\n          get() {\n            return original[key];\n          },\n          set(value) {\n            original[key] = value;\n          },\n        });\n      }\n      return patched;\n    });\n  }\n\n  _getSpanName(info: ExpressRequestInfo, defaultName: string) {\n    const { spanNameHook } = this.getConfig();\n\n    if (!(spanNameHook instanceof Function)) {\n      return defaultName;\n    }\n\n    try {\n      return spanNameHook(info, defaultName) ?? defaultName;\n    } catch (err) {\n      diag.error(\n        'express instrumentation: error calling span name rewrite hook',\n        err\n      );\n      return defaultName;\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 12331, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12335, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Span } from '@opentelemetry/api';\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport { ExpressLayerType } from './enums/ExpressLayerType';\n\nexport type LayerPathSegment = string | RegExp | number;\n\nexport type IgnoreMatcher = string | RegExp | ((name: string) => boolean);\n\nexport type ExpressRequestInfo<T = any> = {\n  /** An express request object */\n  request: T;\n  route: string;\n  layerType: ExpressLayerType;\n};\n\nexport type SpanNameHook = (\n  info: ExpressRequestInfo,\n  /**\n   * If no decision is taken based on RequestInfo, the default name\n   * supplied by the instrumentation can be used instead.\n   */\n  defaultName: string\n) => string;\n\n/**\n * Function that can be used to add custom attributes to the current span or the root span on\n * a Express request\n * @param span - The Express middleware layer span.\n * @param info - An instance of ExpressRequestInfo that contains info about the request such as the route, and the layer type.\n */\nexport interface ExpressRequestCustomAttributeFunction {\n  (span: Span, info: ExpressRequestInfo): void;\n}\n\n/**\n * Options available for the Express Instrumentation (see [documentation](https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-express#express-instrumentation-options))\n */\nexport interface ExpressInstrumentationConfig extends InstrumentationConfig {\n  /** Ignore specific based on their name */\n  ignoreLayers?: IgnoreMatcher[];\n  /** Ignore specific layers based on their type */\n  ignoreLayersType?: ExpressLayerType[];\n  spanNameHook?: SpanNameHook;\n\n  /** Function for adding custom attributes on Express request */\n  requestHook?: ExpressRequestCustomAttributeFunction;\n}\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 12353, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12357, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_0db45d04a326400d1a0eff1ca45f7095/node_modules/@opentelemetry/instrumentation-express/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './enums/ExpressLayerType';\nexport * from './enums/AttributeNames';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,yOAAA;AACA,gPAAA;AACA,8OAAA;AACA,+NAAA"}},
    {"offset": {"line": 12394, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12398, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/balanced-match@1.0.2/node_modules/balanced-match/index.js"],"sourcesContent":["'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n"],"names":[],"mappings":"AAAA;AACA,OAAO,OAAO,GAAG;AACjB,SAAS,SAAS,CAAC,EAAE,CAAC,EAAE,GAAG;IACzB,IAAI,aAAa,QAAQ,IAAI,WAAW,GAAG;IAC3C,IAAI,aAAa,QAAQ,IAAI,WAAW,GAAG;IAE3C,IAAI,IAAI,MAAM,GAAG,GAAG;IAEpB,OAAO,KAAK;QACV,OAAO,CAAC,CAAC,EAAE;QACX,KAAK,CAAC,CAAC,EAAE;QACT,KAAK,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;QACtB,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE;QACrC,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,MAAM;IACjC;AACF;AAEA,SAAS,WAAW,GAAG,EAAE,GAAG;IAC1B,IAAI,IAAI,IAAI,KAAK,CAAC;IAClB,OAAO,IAAI,CAAC,CAAC,EAAE,GAAG;AACpB;AAEA,SAAS,KAAK,GAAG;AACjB,SAAS,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG;IACtB,IAAI,MAAM,KAAK,MAAM,OAAO;IAC5B,IAAI,KAAK,IAAI,OAAO,CAAC;IACrB,IAAI,KAAK,IAAI,OAAO,CAAC,GAAG,KAAK;IAC7B,IAAI,IAAI;IAER,IAAI,MAAM,KAAK,KAAK,GAAG;QACrB,IAAG,MAAI,GAAG;YACR,OAAO;gBAAC;gBAAI;aAAG;QACjB;QACA,OAAO,EAAE;QACT,OAAO,IAAI,MAAM;QAEjB,MAAO,KAAK,KAAK,CAAC,OAAQ;YACxB,IAAI,KAAK,IAAI;gBACX,KAAK,IAAI,CAAC;gBACV,KAAK,IAAI,OAAO,CAAC,GAAG,IAAI;YAC1B,OAAO,IAAI,KAAK,MAAM,IAAI,GAAG;gBAC3B,SAAS;oBAAE,KAAK,GAAG;oBAAI;iBAAI;YAC7B,OAAO;gBACL,MAAM,KAAK,GAAG;gBACd,IAAI,MAAM,MAAM;oBACd,OAAO;oBACP,QAAQ;gBACV;gBAEA,KAAK,IAAI,OAAO,CAAC,GAAG,IAAI;YAC1B;YAEA,IAAI,KAAK,MAAM,MAAM,IAAI,KAAK;QAChC;QAEA,IAAI,KAAK,MAAM,EAAE;YACf,SAAS;gBAAE;gBAAM;aAAO;QAC1B;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 12459, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12463, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/brace-expansion@2.0.2/node_modules/brace-expansion/index.js"],"sourcesContent":["var balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m) return [str];\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  if (/\\$$/.test(m.pre)) {    \n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre+ '{' + m.body + '}' + post[k];\n      expansions.push(expansion);\n    }\n  } else {\n    var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isSequence = isNumericSequence || isAlphaSequence;\n    var isOptions = m.body.indexOf(',') >= 0;\n    if (!isSequence && !isOptions) {\n      // {a},b}\n      if (m.post.match(/,(?!,).*\\}/)) {\n        str = m.pre + '{' + m.body + escClose + m.post;\n        return expand(str);\n      }\n      return [str];\n    }\n\n    var n;\n    if (isSequence) {\n      n = m.body.split(/\\.\\./);\n    } else {\n      n = parseCommaParts(m.body);\n      if (n.length === 1) {\n        // x{{a,b}}y ==> x{a}y x{b}y\n        n = expand(n[0], false).map(embrace);\n        if (n.length === 1) {\n          return post.map(function(p) {\n            return m.pre + n[0] + p;\n          });\n        }\n      }\n    }\n\n    // at this point, n is the parts, and we know it's not a comma set\n    // with a single entry.\n    var N;\n\n    if (isSequence) {\n      var x = numeric(n[0]);\n      var y = numeric(n[1]);\n      var width = Math.max(n[0].length, n[1].length)\n      var incr = n.length == 3\n        ? Math.abs(numeric(n[2]))\n        : 1;\n      var test = lte;\n      var reverse = y < x;\n      if (reverse) {\n        incr *= -1;\n        test = gte;\n      }\n      var pad = n.some(isPadded);\n\n      N = [];\n\n      for (var i = x; test(i, y); i += incr) {\n        var c;\n        if (isAlphaSequence) {\n          c = String.fromCharCode(i);\n          if (c === '\\\\')\n            c = '';\n        } else {\n          c = String(i);\n          if (pad) {\n            var need = width - c.length;\n            if (need > 0) {\n              var z = new Array(need + 1).join('0');\n              if (i < 0)\n                c = '-' + z + c.slice(1);\n              else\n                c = z + c;\n            }\n          }\n        }\n        N.push(c);\n      }\n    } else {\n      N = [];\n\n      for (var j = 0; j < n.length; j++) {\n        N.push.apply(N, expand(n[j], false));\n      }\n    }\n\n    for (var j = 0; j < N.length; j++) {\n      for (var k = 0; k < post.length; k++) {\n        var expansion = pre + N[j] + post[k];\n        if (!isTop || isSequence || expansion)\n          expansions.push(expansion);\n      }\n    }\n  }\n\n  return expansions;\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 12622, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12626, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/minimatch@9.0.5/node_modules/minimatch/src/assert-valid-pattern.ts"],"sourcesContent":["const MAX_PATTERN_LENGTH = 1024 * 64\nexport const assertValidPattern: (pattern: any) => void = (\n  pattern: any\n): asserts pattern is string => {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA,MAAM,qBAAqB,OAAO;AAC3B,MAAM,qBAA6C,CACxD;IAEA,IAAI,OAAO,YAAY,UAAU;QAC/B,MAAM,IAAI,UAAU;;IAGtB,IAAI,QAAQ,MAAM,GAAG,oBAAoB;QACvC,MAAM,IAAI,UAAU;;AAExB;AAVa,QAAA,kBAAkB,GAAA"}},
    {"offset": {"line": 12641, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12645, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/minimatch@9.0.5/node_modules/minimatch/src/brace-expressions.ts"],"sourcesContent":["// translate the various posix character classes into unicode properties\n// this works across all unicode locales\n\n// { <posix class>: [<translation>, /u flag required, negated]\nconst posixClasses: { [k: string]: [e: string, u: boolean, n?: boolean] } = {\n  '[:alnum:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}', true],\n  '[:alpha:]': ['\\\\p{L}\\\\p{Nl}', true],\n  '[:ascii:]': ['\\\\x' + '00-\\\\x' + '7f', false],\n  '[:blank:]': ['\\\\p{Zs}\\\\t', true],\n  '[:cntrl:]': ['\\\\p{Cc}', true],\n  '[:digit:]': ['\\\\p{Nd}', true],\n  '[:graph:]': ['\\\\p{Z}\\\\p{C}', true, true],\n  '[:lower:]': ['\\\\p{Ll}', true],\n  '[:print:]': ['\\\\p{C}', true],\n  '[:punct:]': ['\\\\p{P}', true],\n  '[:space:]': ['\\\\p{Z}\\\\t\\\\r\\\\n\\\\v\\\\f', true],\n  '[:upper:]': ['\\\\p{Lu}', true],\n  '[:word:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Pc}', true],\n  '[:xdigit:]': ['A-Fa-f0-9', false],\n}\n\n// only need to escape a few things inside of brace expressions\n// escapes: [ \\ ] -\nconst braceEscape = (s: string) => s.replace(/[[\\]\\\\-]/g, '\\\\$&')\n// escape all regexp magic characters\nconst regexpEscape = (s: string) =>\n  s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n\n// everything has already been escaped, we just have to join\nconst rangesToString = (ranges: string[]): string => ranges.join('')\n\nexport type ParseClassResult = [\n  src: string,\n  uFlag: boolean,\n  consumed: number,\n  hasMagic: boolean\n]\n\n// takes a glob string at a posix brace expression, and returns\n// an equivalent regular expression source, and boolean indicating\n// whether the /u flag needs to be applied, and the number of chars\n// consumed to parse the character class.\n// This also removes out of order ranges, and returns ($.) if the\n// entire class just no good.\nexport const parseClass = (\n  glob: string,\n  position: number\n): ParseClassResult => {\n  const pos = position\n  /* c8 ignore start */\n  if (glob.charAt(pos) !== '[') {\n    throw new Error('not in a brace expression')\n  }\n  /* c8 ignore stop */\n  const ranges: string[] = []\n  const negs: string[] = []\n\n  let i = pos + 1\n  let sawStart = false\n  let uflag = false\n  let escaping = false\n  let negate = false\n  let endPos = pos\n  let rangeStart = ''\n  WHILE: while (i < glob.length) {\n    const c = glob.charAt(i)\n    if ((c === '!' || c === '^') && i === pos + 1) {\n      negate = true\n      i++\n      continue\n    }\n\n    if (c === ']' && sawStart && !escaping) {\n      endPos = i + 1\n      break\n    }\n\n    sawStart = true\n    if (c === '\\\\') {\n      if (!escaping) {\n        escaping = true\n        i++\n        continue\n      }\n      // escaped \\ char, fall through and treat like normal char\n    }\n    if (c === '[' && !escaping) {\n      // either a posix class, a collation equivalent, or just a [\n      for (const [cls, [unip, u, neg]] of Object.entries(posixClasses)) {\n        if (glob.startsWith(cls, i)) {\n          // invalid, [a-[] is fine, but not [a-[:alpha]]\n          if (rangeStart) {\n            return ['$.', false, glob.length - pos, true]\n          }\n          i += cls.length\n          if (neg) negs.push(unip)\n          else ranges.push(unip)\n          uflag = uflag || u\n          continue WHILE\n        }\n      }\n    }\n\n    // now it's just a normal character, effectively\n    escaping = false\n    if (rangeStart) {\n      // throw this range away if it's not valid, but others\n      // can still match.\n      if (c > rangeStart) {\n        ranges.push(braceEscape(rangeStart) + '-' + braceEscape(c))\n      } else if (c === rangeStart) {\n        ranges.push(braceEscape(c))\n      }\n      rangeStart = ''\n      i++\n      continue\n    }\n\n    // now might be the start of a range.\n    // can be either c-d or c-] or c<more...>] or c] at this point\n    if (glob.startsWith('-]', i + 1)) {\n      ranges.push(braceEscape(c + '-'))\n      i += 2\n      continue\n    }\n    if (glob.startsWith('-', i + 1)) {\n      rangeStart = c\n      i += 2\n      continue\n    }\n\n    // not the start of a range, just a single character\n    ranges.push(braceEscape(c))\n    i++\n  }\n\n  if (endPos < i) {\n    // didn't see the end of the class, not a valid class,\n    // but might still be valid as a literal match.\n    return ['', false, 0, false]\n  }\n\n  // if we got no ranges and no negates, then we have a range that\n  // cannot possibly match anything, and that poisons the whole glob\n  if (!ranges.length && !negs.length) {\n    return ['$.', false, glob.length - pos, true]\n  }\n\n  // if we got one positive range, and it's a single character, then that's\n  // not actually a magic pattern, it's just that one literal character.\n  // we should not treat that as \"magic\", we should just return the literal\n  // character. [_] is a perfectly valid way to escape glob magic chars.\n  if (\n    negs.length === 0 &&\n    ranges.length === 1 &&\n    /^\\\\?.$/.test(ranges[0]) &&\n    !negate\n  ) {\n    const r = ranges[0].length === 2 ? ranges[0].slice(-1) : ranges[0]\n    return [regexpEscape(r), false, endPos - pos, false]\n  }\n\n  const sranges = '[' + (negate ? '^' : '') + rangesToString(ranges) + ']'\n  const snegs = '[' + (negate ? '' : '^') + rangesToString(negs) + ']'\n  const comb =\n    ranges.length && negs.length\n      ? '(' + sranges + '|' + snegs + ')'\n      : ranges.length\n      ? sranges\n      : snegs\n\n  return [comb, uflag, endPos - pos, true]\n}\n"],"names":[],"mappings":";AAAA,wEAAwE;AACxE,wCAAwC;;;;;AAExC,8DAA8D;AAC9D,MAAM,eAAsE;IAC1E,aAAa;QAAC;QAAwB;KAAK;IAC3C,aAAa;QAAC;QAAiB;KAAK;IACpC,aAAa;QAAC,QAAQ,WAAW;QAAM;KAAM;IAC7C,aAAa;QAAC;QAAc;KAAK;IACjC,aAAa;QAAC;QAAW;KAAK;IAC9B,aAAa;QAAC;QAAW;KAAK;IAC9B,aAAa;QAAC;QAAgB;QAAM;KAAK;IACzC,aAAa;QAAC;QAAW;KAAK;IAC9B,aAAa;QAAC;QAAU;KAAK;IAC7B,aAAa;QAAC;QAAU;KAAK;IAC7B,aAAa;QAAC;QAAyB;KAAK;IAC5C,aAAa;QAAC;QAAW;KAAK;IAC9B,YAAY;QAAC;QAA+B;KAAK;IACjD,cAAc;QAAC;QAAa;KAAM;;AAGpC,+DAA+D;AAC/D,mBAAmB;AACnB,MAAM,cAAc,CAAC,IAAc,EAAE,OAAO,CAAC,aAAa;AAC1D,qCAAqC;AACrC,MAAM,eAAe,CAAC,IACpB,EAAE,OAAO,CAAC,4BAA4B;AAExC,4DAA4D;AAC5D,MAAM,iBAAiB,CAAC,SAA6B,OAAO,IAAI,CAAC;AASjE,+DAA+D;AAC/D,kEAAkE;AAClE,mEAAmE;AACnE,yCAAyC;AACzC,iEAAiE;AACjE,6BAA6B;AACtB,MAAM,aAAa,CACxB,MACA;IAEA,MAAM,MAAM;IACZ,mBAAA,GACA,IAAI,KAAK,MAAM,CAAC,SAAS,KAAK;QAC5B,MAAM,IAAI,MAAM;;IAElB,kBAAA,GACA,MAAM,SAAmB,EAAE;IAC3B,MAAM,OAAiB,EAAE;IAEzB,IAAI,IAAI,MAAM;IACd,IAAI,WAAW;IACf,IAAI,QAAQ;IACZ,IAAI,WAAW;IACf,IAAI,SAAS;IACb,IAAI,SAAS;IACb,IAAI,aAAa;IACjB,OAAO,MAAO,IAAI,KAAK,MAAM,CAAE;QAC7B,MAAM,IAAI,KAAK,MAAM,CAAC;QACtB,IAAI,CAAC,MAAM,OAAO,MAAM,GAAG,KAAK,MAAM,MAAM,GAAG;YAC7C,SAAS;YACT;YACA;;QAGF,IAAI,MAAM,OAAO,YAAY,CAAC,UAAU;YACtC,SAAS,IAAI;YACb;;QAGF,WAAW;QACX,IAAI,MAAM,MAAM;YACd,IAAI,CAAC,UAAU;gBACb,WAAW;gBACX;gBACA;;QAEF,0DAA0D;;QAE5D,IAAI,MAAM,OAAO,CAAC,UAAU;YAC1B,4DAA4D;YAC5D,KAAK,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,OAAO,OAAO,CAAC,cAAe;gBAChE,IAAI,KAAK,UAAU,CAAC,KAAK,IAAI;oBAC3B,+CAA+C;oBAC/C,IAAI,YAAY;wBACd,OAAO;4BAAC;4BAAM;4BAAO,KAAK,MAAM,GAAG;4BAAK;yBAAK;;oBAE/C,KAAK,IAAI,MAAM;oBACf,IAAI,KAAK,KAAK,IAAI,CAAC;yBACd,OAAO,IAAI,CAAC;oBACjB,QAAQ,SAAS;oBACjB,SAAS;;;;QAKf,gDAAgD;QAChD,WAAW;QACX,IAAI,YAAY;YACd,sDAAsD;YACtD,mBAAmB;YACnB,IAAI,IAAI,YAAY;gBAClB,OAAO,IAAI,CAAC,YAAY,cAAc,MAAM,YAAY;mBACnD,IAAI,MAAM,YAAY;gBAC3B,OAAO,IAAI,CAAC,YAAY;;YAE1B,aAAa;YACb;YACA;;QAGF,qCAAqC;QACrC,8DAA8D;QAC9D,IAAI,KAAK,UAAU,CAAC,MAAM,IAAI,IAAI;YAChC,OAAO,IAAI,CAAC,YAAY,IAAI;YAC5B,KAAK;YACL;;QAEF,IAAI,KAAK,UAAU,CAAC,KAAK,IAAI,IAAI;YAC/B,aAAa;YACb,KAAK;YACL;;QAGF,oDAAoD;QACpD,OAAO,IAAI,CAAC,YAAY;QACxB;;IAGF,IAAI,SAAS,GAAG;QACd,sDAAsD;QACtD,+CAA+C;QAC/C,OAAO;YAAC;YAAI;YAAO;YAAG;SAAM;;IAG9B,gEAAgE;IAChE,kEAAkE;IAClE,IAAI,CAAC,OAAO,MAAM,IAAI,CAAC,KAAK,MAAM,EAAE;QAClC,OAAO;YAAC;YAAM;YAAO,KAAK,MAAM,GAAG;YAAK;SAAK;;IAG/C,yEAAyE;IACzE,sEAAsE;IACtE,yEAAyE;IACzE,sEAAsE;IACtE,IACE,KAAK,MAAM,KAAK,KAChB,OAAO,MAAM,KAAK,KAClB,SAAS,IAAI,CAAC,MAAM,CAAC,EAAE,KACvB,CAAC,QACD;QACA,MAAM,IAAI,MAAM,CAAC,EAAE,CAAC,MAAM,KAAK,IAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,MAAM,CAAC,EAAE;QAClE,OAAO;YAAC,aAAa;YAAI;YAAO,SAAS;YAAK;SAAM;;IAGtD,MAAM,UAAU,MAAM,CAAC,SAAS,MAAM,EAAE,IAAI,eAAe,UAAU;IACrE,MAAM,QAAQ,MAAM,CAAC,SAAS,KAAK,GAAG,IAAI,eAAe,QAAQ;IACjE,MAAM,OACJ,OAAO,MAAM,IAAI,KAAK,MAAM,GACxB,MAAM,UAAU,MAAM,QAAQ,MAC9B,OAAO,MAAM,GACb,UACA;IAEN,OAAO;QAAC;QAAM;QAAO,SAAS;QAAK;KAAK;AAC1C;AAhIa,QAAA,UAAU,GAAA"}},
    {"offset": {"line": 12854, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12858, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/minimatch@9.0.5/node_modules/minimatch/src/unescape.ts"],"sourcesContent":["import { MinimatchOptions } from './index.js'\n/**\n * Un-escape a string that has been escaped with {@link escape}.\n *\n * If the {@link windowsPathsNoEscape} option is used, then square-brace\n * escapes are removed, but not backslash escapes.  For example, it will turn\n * the string `'[*]'` into `*`, but it will not turn `'\\\\*'` into `'*'`,\n * becuase `\\` is a path separator in `windowsPathsNoEscape` mode.\n *\n * When `windowsPathsNoEscape` is not set, then both brace escapes and\n * backslash escapes are removed.\n *\n * Slashes (and backslashes in `windowsPathsNoEscape` mode) cannot be escaped\n * or unescaped.\n */\nexport const unescape = (\n  s: string,\n  {\n    windowsPathsNoEscape = false,\n  }: Pick<MinimatchOptions, 'windowsPathsNoEscape'> = {}\n) => {\n  return windowsPathsNoEscape\n    ? s.replace(/\\[([^\\/\\\\])\\]/g, '$1')\n    : s.replace(/((?!\\\\).|^)\\[([^\\/\\\\])\\]/g, '$1$2').replace(/\\\\([^\\/])/g, '$1')\n}\n"],"names":[],"mappings":";;;;;AACA;;;;;;;;;;;;;IAcO,MAAM,WAAW,CACtB,GACA,EACE,uBAAuB,KAAK,EAAA,GACsB,CAAA,CAAE;IAEtD,OAAO,uBACH,EAAE,OAAO,CAAC,kBAAkB,QAC5B,EAAE,OAAO,CAAC,6BAA6B,QAAQ,OAAO,CAAC,cAAc;AAC3E;AATa,QAAA,QAAQ,GAAA"}},
    {"offset": {"line": 12880, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12884, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/minimatch@9.0.5/node_modules/minimatch/src/ast.ts"],"sourcesContent":["// parse a single path portion\n\nimport { parseClass } from './brace-expressions.js'\nimport { MinimatchOptions, MMRegExp } from './index.js'\nimport { unescape } from './unescape.js'\n\n// classes [] are handled by the parseClass method\n// for positive extglobs, we sub-parse the contents, and combine,\n// with the appropriate regexp close.\n// for negative extglobs, we sub-parse the contents, but then\n// have to include the rest of the pattern, then the parent, etc.,\n// as the thing that cannot be because RegExp negative lookaheads\n// are different from globs.\n//\n// So for example:\n// a@(i|w!(x|y)z|j)b => ^a(i|w((!?(x|y)zb).*)z|j)b$\n//   1   2 3   4 5 6      1   2    3   46      5 6\n//\n// Assembling the extglob requires not just the negated patterns themselves,\n// but also anything following the negative patterns up to the boundary\n// of the current pattern, plus anything following in the parent pattern.\n//\n//\n// So, first, we parse the string into an AST of extglobs, without turning\n// anything into regexps yet.\n//\n// ['a', {@ [['i'], ['w', {!['x', 'y']}, 'z'], ['j']]}, 'b']\n//\n// Then, for all the negative extglobs, we append whatever comes after in\n// each parent as their tail\n//\n// ['a', {@ [['i'], ['w', {!['x', 'y'], 'z', 'b'}, 'z'], ['j']]}, 'b']\n//\n// Lastly, we turn each of these pieces into a regexp, and join\n//\n//                                 v----- .* because there's more following,\n//                                 v    v  otherwise, .+ because it must be\n//                                 v    v  *something* there.\n// ['^a', {@ ['i', 'w(?:(!?(?:x|y).*zb$).*)z', 'j' ]}, 'b$']\n//   copy what follows into here--^^^^^\n// ['^a', '(?:i|w(?:(?!(?:x|y).*zb$).*)z|j)', 'b$']\n// ['^a(?:i|w(?:(?!(?:x|y).*zb$).*)z|j)b$']\n\nexport type ExtglobType = '!' | '?' | '+' | '*' | '@'\nconst types = new Set<ExtglobType>(['!', '?', '+', '*', '@'])\nconst isExtglobType = (c: string): c is ExtglobType =>\n  types.has(c as ExtglobType)\n\n// Patterns that get prepended to bind to the start of either the\n// entire string, or just a single path portion, to prevent dots\n// and/or traversal patterns, when needed.\n// Exts don't need the ^ or / bit, because the root binds that already.\nconst startNoTraversal = '(?!(?:^|/)\\\\.\\\\.?(?:$|/))'\nconst startNoDot = '(?!\\\\.)'\n\n// characters that indicate a start of pattern needs the \"no dots\" bit,\n// because a dot *might* be matched. ( is not in the list, because in\n// the case of a child extglob, it will handle the prevention itself.\nconst addPatternStart = new Set(['[', '.'])\n// cases where traversal is A-OK, no dot prevention needed\nconst justDots = new Set(['..', '.'])\nconst reSpecials = new Set('().*{}+?[]^$\\\\!')\nconst regExpEscape = (s: string) =>\n  s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n\n// any single thing other than /\nconst qmark = '[^/]'\n\n// * => any number of characters\nconst star = qmark + '*?'\n// use + when we need to ensure that *something* matches, because the * is\n// the only thing in the path portion.\nconst starNoEmpty = qmark + '+?'\n\n// remove the \\ chars that we added if we end up doing a nonmagic compare\n// const deslash = (s: string) => s.replace(/\\\\(.)/g, '$1')\n\nexport class AST {\n  type: ExtglobType | null\n  readonly #root: AST\n\n  #hasMagic?: boolean\n  #uflag: boolean = false\n  #parts: (string | AST)[] = []\n  readonly #parent?: AST\n  readonly #parentIndex: number\n  #negs: AST[]\n  #filledNegs: boolean = false\n  #options: MinimatchOptions\n  #toString?: string\n  // set to true if it's an extglob with no children\n  // (which really means one child of '')\n  #emptyExt: boolean = false\n\n  constructor(\n    type: ExtglobType | null,\n    parent?: AST,\n    options: MinimatchOptions = {}\n  ) {\n    this.type = type\n    // extglobs are inherently magical\n    if (type) this.#hasMagic = true\n    this.#parent = parent\n    this.#root = this.#parent ? this.#parent.#root : this\n    this.#options = this.#root === this ? options : this.#root.#options\n    this.#negs = this.#root === this ? [] : this.#root.#negs\n    if (type === '!' && !this.#root.#filledNegs) this.#negs.push(this)\n    this.#parentIndex = this.#parent ? this.#parent.#parts.length : 0\n  }\n\n  get hasMagic(): boolean | undefined {\n    /* c8 ignore start */\n    if (this.#hasMagic !== undefined) return this.#hasMagic\n    /* c8 ignore stop */\n    for (const p of this.#parts) {\n      if (typeof p === 'string') continue\n      if (p.type || p.hasMagic) return (this.#hasMagic = true)\n    }\n    // note: will be undefined until we generate the regexp src and find out\n    return this.#hasMagic\n  }\n\n  // reconstructs the pattern\n  toString(): string {\n    if (this.#toString !== undefined) return this.#toString\n    if (!this.type) {\n      return (this.#toString = this.#parts.map(p => String(p)).join(''))\n    } else {\n      return (this.#toString =\n        this.type + '(' + this.#parts.map(p => String(p)).join('|') + ')')\n    }\n  }\n\n  #fillNegs() {\n    /* c8 ignore start */\n    if (this !== this.#root) throw new Error('should only call on root')\n    if (this.#filledNegs) return this\n    /* c8 ignore stop */\n\n    // call toString() once to fill this out\n    this.toString()\n    this.#filledNegs = true\n    let n: AST | undefined\n    while ((n = this.#negs.pop())) {\n      if (n.type !== '!') continue\n      // walk up the tree, appending everthing that comes AFTER parentIndex\n      let p: AST | undefined = n\n      let pp = p.#parent\n      while (pp) {\n        for (\n          let i = p.#parentIndex + 1;\n          !pp.type && i < pp.#parts.length;\n          i++\n        ) {\n          for (const part of n.#parts) {\n            /* c8 ignore start */\n            if (typeof part === 'string') {\n              throw new Error('string part in extglob AST??')\n            }\n            /* c8 ignore stop */\n            part.copyIn(pp.#parts[i])\n          }\n        }\n        p = pp\n        pp = p.#parent\n      }\n    }\n    return this\n  }\n\n  push(...parts: (string | AST)[]) {\n    for (const p of parts) {\n      if (p === '') continue\n      /* c8 ignore start */\n      if (typeof p !== 'string' && !(p instanceof AST && p.#parent === this)) {\n        throw new Error('invalid part: ' + p)\n      }\n      /* c8 ignore stop */\n      this.#parts.push(p)\n    }\n  }\n\n  toJSON() {\n    const ret: any[] =\n      this.type === null\n        ? this.#parts.slice().map(p => (typeof p === 'string' ? p : p.toJSON()))\n        : [this.type, ...this.#parts.map(p => (p as AST).toJSON())]\n    if (this.isStart() && !this.type) ret.unshift([])\n    if (\n      this.isEnd() &&\n      (this === this.#root ||\n        (this.#root.#filledNegs && this.#parent?.type === '!'))\n    ) {\n      ret.push({})\n    }\n    return ret\n  }\n\n  isStart(): boolean {\n    if (this.#root === this) return true\n    // if (this.type) return !!this.#parent?.isStart()\n    if (!this.#parent?.isStart()) return false\n    if (this.#parentIndex === 0) return true\n    // if everything AHEAD of this is a negation, then it's still the \"start\"\n    const p = this.#parent\n    for (let i = 0; i < this.#parentIndex; i++) {\n      const pp = p.#parts[i]\n      if (!(pp instanceof AST && pp.type === '!')) {\n        return false\n      }\n    }\n    return true\n  }\n\n  isEnd(): boolean {\n    if (this.#root === this) return true\n    if (this.#parent?.type === '!') return true\n    if (!this.#parent?.isEnd()) return false\n    if (!this.type) return this.#parent?.isEnd()\n    // if not root, it'll always have a parent\n    /* c8 ignore start */\n    const pl = this.#parent ? this.#parent.#parts.length : 0\n    /* c8 ignore stop */\n    return this.#parentIndex === pl - 1\n  }\n\n  copyIn(part: AST | string) {\n    if (typeof part === 'string') this.push(part)\n    else this.push(part.clone(this))\n  }\n\n  clone(parent: AST) {\n    const c = new AST(this.type, parent)\n    for (const p of this.#parts) {\n      c.copyIn(p)\n    }\n    return c\n  }\n\n  static #parseAST(\n    str: string,\n    ast: AST,\n    pos: number,\n    opt: MinimatchOptions\n  ): number {\n    let escaping = false\n    let inBrace = false\n    let braceStart = -1\n    let braceNeg = false\n    if (ast.type === null) {\n      // outside of a extglob, append until we find a start\n      let i = pos\n      let acc = ''\n      while (i < str.length) {\n        const c = str.charAt(i++)\n        // still accumulate escapes at this point, but we do ignore\n        // starts that are escaped\n        if (escaping || c === '\\\\') {\n          escaping = !escaping\n          acc += c\n          continue\n        }\n\n        if (inBrace) {\n          if (i === braceStart + 1) {\n            if (c === '^' || c === '!') {\n              braceNeg = true\n            }\n          } else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\n            inBrace = false\n          }\n          acc += c\n          continue\n        } else if (c === '[') {\n          inBrace = true\n          braceStart = i\n          braceNeg = false\n          acc += c\n          continue\n        }\n\n        if (!opt.noext && isExtglobType(c) && str.charAt(i) === '(') {\n          ast.push(acc)\n          acc = ''\n          const ext = new AST(c, ast)\n          i = AST.#parseAST(str, ext, i, opt)\n          ast.push(ext)\n          continue\n        }\n        acc += c\n      }\n      ast.push(acc)\n      return i\n    }\n\n    // some kind of extglob, pos is at the (\n    // find the next | or )\n    let i = pos + 1\n    let part = new AST(null, ast)\n    const parts: AST[] = []\n    let acc = ''\n    while (i < str.length) {\n      const c = str.charAt(i++)\n      // still accumulate escapes at this point, but we do ignore\n      // starts that are escaped\n      if (escaping || c === '\\\\') {\n        escaping = !escaping\n        acc += c\n        continue\n      }\n\n      if (inBrace) {\n        if (i === braceStart + 1) {\n          if (c === '^' || c === '!') {\n            braceNeg = true\n          }\n        } else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\n          inBrace = false\n        }\n        acc += c\n        continue\n      } else if (c === '[') {\n        inBrace = true\n        braceStart = i\n        braceNeg = false\n        acc += c\n        continue\n      }\n\n      if (isExtglobType(c) && str.charAt(i) === '(') {\n        part.push(acc)\n        acc = ''\n        const ext = new AST(c, part)\n        part.push(ext)\n        i = AST.#parseAST(str, ext, i, opt)\n        continue\n      }\n      if (c === '|') {\n        part.push(acc)\n        acc = ''\n        parts.push(part)\n        part = new AST(null, ast)\n        continue\n      }\n      if (c === ')') {\n        if (acc === '' && ast.#parts.length === 0) {\n          ast.#emptyExt = true\n        }\n        part.push(acc)\n        acc = ''\n        ast.push(...parts, part)\n        return i\n      }\n      acc += c\n    }\n\n    // unfinished extglob\n    // if we got here, it was a malformed extglob! not an extglob, but\n    // maybe something else in there.\n    ast.type = null\n    ast.#hasMagic = undefined\n    ast.#parts = [str.substring(pos - 1)]\n    return i\n  }\n\n  static fromGlob(pattern: string, options: MinimatchOptions = {}) {\n    const ast = new AST(null, undefined, options)\n    AST.#parseAST(pattern, ast, 0, options)\n    return ast\n  }\n\n  // returns the regular expression if there's magic, or the unescaped\n  // string if not.\n  toMMPattern(): MMRegExp | string {\n    // should only be called on root\n    /* c8 ignore start */\n    if (this !== this.#root) return this.#root.toMMPattern()\n    /* c8 ignore stop */\n    const glob = this.toString()\n    const [re, body, hasMagic, uflag] = this.toRegExpSource()\n    // if we're in nocase mode, and not nocaseMagicOnly, then we do\n    // still need a regular expression if we have to case-insensitively\n    // match capital/lowercase characters.\n    const anyMagic =\n      hasMagic ||\n      this.#hasMagic ||\n      (this.#options.nocase &&\n        !this.#options.nocaseMagicOnly &&\n        glob.toUpperCase() !== glob.toLowerCase())\n    if (!anyMagic) {\n      return body\n    }\n\n    const flags = (this.#options.nocase ? 'i' : '') + (uflag ? 'u' : '')\n    return Object.assign(new RegExp(`^${re}$`, flags), {\n      _src: re,\n      _glob: glob,\n    })\n  }\n\n  get options() {\n    return this.#options\n  }\n\n  // returns the string match, the regexp source, whether there's magic\n  // in the regexp (so a regular expression is required) and whether or\n  // not the uflag is needed for the regular expression (for posix classes)\n  // TODO: instead of injecting the start/end at this point, just return\n  // the BODY of the regexp, along with the start/end portions suitable\n  // for binding the start/end in either a joined full-path makeRe context\n  // (where we bind to (^|/), or a standalone matchPart context (where\n  // we bind to ^, and not /).  Otherwise slashes get duped!\n  //\n  // In part-matching mode, the start is:\n  // - if not isStart: nothing\n  // - if traversal possible, but not allowed: ^(?!\\.\\.?$)\n  // - if dots allowed or not possible: ^\n  // - if dots possible and not allowed: ^(?!\\.)\n  // end is:\n  // - if not isEnd(): nothing\n  // - else: $\n  //\n  // In full-path matching mode, we put the slash at the START of the\n  // pattern, so start is:\n  // - if first pattern: same as part-matching mode\n  // - if not isStart(): nothing\n  // - if traversal possible, but not allowed: /(?!\\.\\.?(?:$|/))\n  // - if dots allowed or not possible: /\n  // - if dots possible and not allowed: /(?!\\.)\n  // end is:\n  // - if last pattern, same as part-matching mode\n  // - else nothing\n  //\n  // Always put the (?:$|/) on negated tails, though, because that has to be\n  // there to bind the end of the negated pattern portion, and it's easier to\n  // just stick it in now rather than try to inject it later in the middle of\n  // the pattern.\n  //\n  // We can just always return the same end, and leave it up to the caller\n  // to know whether it's going to be used joined or in parts.\n  // And, if the start is adjusted slightly, can do the same there:\n  // - if not isStart: nothing\n  // - if traversal possible, but not allowed: (?:/|^)(?!\\.\\.?$)\n  // - if dots allowed or not possible: (?:/|^)\n  // - if dots possible and not allowed: (?:/|^)(?!\\.)\n  //\n  // But it's better to have a simpler binding without a conditional, for\n  // performance, so probably better to return both start options.\n  //\n  // Then the caller just ignores the end if it's not the first pattern,\n  // and the start always gets applied.\n  //\n  // But that's always going to be $ if it's the ending pattern, or nothing,\n  // so the caller can just attach $ at the end of the pattern when building.\n  //\n  // So the todo is:\n  // - better detect what kind of start is needed\n  // - return both flavors of starting pattern\n  // - attach $ at the end of the pattern when creating the actual RegExp\n  //\n  // Ah, but wait, no, that all only applies to the root when the first pattern\n  // is not an extglob. If the first pattern IS an extglob, then we need all\n  // that dot prevention biz to live in the extglob portions, because eg\n  // +(*|.x*) can match .xy but not .yx.\n  //\n  // So, return the two flavors if it's #root and the first child is not an\n  // AST, otherwise leave it to the child AST to handle it, and there,\n  // use the (?:^|/) style of start binding.\n  //\n  // Even simplified further:\n  // - Since the start for a join is eg /(?!\\.) and the start for a part\n  // is ^(?!\\.), we can just prepend (?!\\.) to the pattern (either root\n  // or start or whatever) and prepend ^ or / at the Regexp construction.\n  toRegExpSource(\n    allowDot?: boolean\n  ): [re: string, body: string, hasMagic: boolean, uflag: boolean] {\n    const dot = allowDot ?? !!this.#options.dot\n    if (this.#root === this) this.#fillNegs()\n    if (!this.type) {\n      const noEmpty = this.isStart() && this.isEnd()\n      const src = this.#parts\n        .map(p => {\n          const [re, _, hasMagic, uflag] =\n            typeof p === 'string'\n              ? AST.#parseGlob(p, this.#hasMagic, noEmpty)\n              : p.toRegExpSource(allowDot)\n          this.#hasMagic = this.#hasMagic || hasMagic\n          this.#uflag = this.#uflag || uflag\n          return re\n        })\n        .join('')\n\n      let start = ''\n      if (this.isStart()) {\n        if (typeof this.#parts[0] === 'string') {\n          // this is the string that will match the start of the pattern,\n          // so we need to protect against dots and such.\n\n          // '.' and '..' cannot match unless the pattern is that exactly,\n          // even if it starts with . or dot:true is set.\n          const dotTravAllowed =\n            this.#parts.length === 1 && justDots.has(this.#parts[0])\n          if (!dotTravAllowed) {\n            const aps = addPatternStart\n            // check if we have a possibility of matching . or ..,\n            // and prevent that.\n            const needNoTrav =\n              // dots are allowed, and the pattern starts with [ or .\n              (dot && aps.has(src.charAt(0))) ||\n              // the pattern starts with \\., and then [ or .\n              (src.startsWith('\\\\.') && aps.has(src.charAt(2))) ||\n              // the pattern starts with \\.\\., and then [ or .\n              (src.startsWith('\\\\.\\\\.') && aps.has(src.charAt(4)))\n            // no need to prevent dots if it can't match a dot, or if a\n            // sub-pattern will be preventing it anyway.\n            const needNoDot = !dot && !allowDot && aps.has(src.charAt(0))\n\n            start = needNoTrav ? startNoTraversal : needNoDot ? startNoDot : ''\n          }\n        }\n      }\n\n      // append the \"end of path portion\" pattern to negation tails\n      let end = ''\n      if (\n        this.isEnd() &&\n        this.#root.#filledNegs &&\n        this.#parent?.type === '!'\n      ) {\n        end = '(?:$|\\\\/)'\n      }\n      const final = start + src + end\n      return [\n        final,\n        unescape(src),\n        (this.#hasMagic = !!this.#hasMagic),\n        this.#uflag,\n      ]\n    }\n\n    // We need to calculate the body *twice* if it's a repeat pattern\n    // at the start, once in nodot mode, then again in dot mode, so a\n    // pattern like *(?) can match 'x.y'\n\n    const repeated = this.type === '*' || this.type === '+'\n    // some kind of extglob\n    const start = this.type === '!' ? '(?:(?!(?:' : '(?:'\n    let body = this.#partsToRegExp(dot)\n\n    if (this.isStart() && this.isEnd() && !body && this.type !== '!') {\n      // invalid extglob, has to at least be *something* present, if it's\n      // the entire path portion.\n      const s = this.toString()\n      this.#parts = [s]\n      this.type = null\n      this.#hasMagic = undefined\n      return [s, unescape(this.toString()), false, false]\n    }\n\n    // XXX abstract out this map method\n    let bodyDotAllowed =\n      !repeated || allowDot || dot || !startNoDot\n        ? ''\n        : this.#partsToRegExp(true)\n    if (bodyDotAllowed === body) {\n      bodyDotAllowed = ''\n    }\n    if (bodyDotAllowed) {\n      body = `(?:${body})(?:${bodyDotAllowed})*?`\n    }\n\n    // an empty !() is exactly equivalent to a starNoEmpty\n    let final = ''\n    if (this.type === '!' && this.#emptyExt) {\n      final = (this.isStart() && !dot ? startNoDot : '') + starNoEmpty\n    } else {\n      const close =\n        this.type === '!'\n          ? // !() must match something,but !(x) can match ''\n            '))' +\n            (this.isStart() && !dot && !allowDot ? startNoDot : '') +\n            star +\n            ')'\n          : this.type === '@'\n          ? ')'\n          : this.type === '?'\n          ? ')?'\n          : this.type === '+' && bodyDotAllowed\n          ? ')'\n          : this.type === '*' && bodyDotAllowed\n          ? `)?`\n          : `)${this.type}`\n      final = start + body + close\n    }\n    return [\n      final,\n      unescape(body),\n      (this.#hasMagic = !!this.#hasMagic),\n      this.#uflag,\n    ]\n  }\n\n  #partsToRegExp(dot: boolean) {\n    return this.#parts\n      .map(p => {\n        // extglob ASTs should only contain parent ASTs\n        /* c8 ignore start */\n        if (typeof p === 'string') {\n          throw new Error('string type in extglob ast??')\n        }\n        /* c8 ignore stop */\n        // can ignore hasMagic, because extglobs are already always magic\n        const [re, _, _hasMagic, uflag] = p.toRegExpSource(dot)\n        this.#uflag = this.#uflag || uflag\n        return re\n      })\n      .filter(p => !(this.isStart() && this.isEnd()) || !!p)\n      .join('|')\n  }\n\n  static #parseGlob(\n    glob: string,\n    hasMagic: boolean | undefined,\n    noEmpty: boolean = false\n  ): [re: string, body: string, hasMagic: boolean, uflag: boolean] {\n    let escaping = false\n    let re = ''\n    let uflag = false\n    for (let i = 0; i < glob.length; i++) {\n      const c = glob.charAt(i)\n      if (escaping) {\n        escaping = false\n        re += (reSpecials.has(c) ? '\\\\' : '') + c\n        continue\n      }\n      if (c === '\\\\') {\n        if (i === glob.length - 1) {\n          re += '\\\\\\\\'\n        } else {\n          escaping = true\n        }\n        continue\n      }\n      if (c === '[') {\n        const [src, needUflag, consumed, magic] = parseClass(glob, i)\n        if (consumed) {\n          re += src\n          uflag = uflag || needUflag\n          i += consumed - 1\n          hasMagic = hasMagic || magic\n          continue\n        }\n      }\n      if (c === '*') {\n        if (noEmpty && glob === '*') re += starNoEmpty\n        else re += star\n        hasMagic = true\n        continue\n      }\n      if (c === '?') {\n        re += qmark\n        hasMagic = true\n        continue\n      }\n      re += regExpEscape(c)\n    }\n    return [re, unescape(glob), !!hasMagic, uflag]\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 13422, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 13426, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/minimatch@9.0.5/node_modules/minimatch/src/escape.ts"],"sourcesContent":["import { MinimatchOptions } from './index.js'\n/**\n * Escape all magic characters in a glob pattern.\n *\n * If the {@link windowsPathsNoEscape | GlobOptions.windowsPathsNoEscape}\n * option is used, then characters are escaped by wrapping in `[]`, because\n * a magic character wrapped in a character class can only be satisfied by\n * that exact character.  In this mode, `\\` is _not_ escaped, because it is\n * not interpreted as a magic character, but instead as a path separator.\n */\nexport const escape = (\n  s: string,\n  {\n    windowsPathsNoEscape = false,\n  }: Pick<MinimatchOptions, 'windowsPathsNoEscape'> = {}\n) => {\n  // don't need to escape +@! because we escape the parens\n  // that make those magic, and escaping ! as [!] isn't valid,\n  // because [!]] is a valid glob class meaning not ']'.\n  return windowsPathsNoEscape\n    ? s.replace(/[?*()[\\]]/g, '[$&]')\n    : s.replace(/[?*()[\\]\\\\]/g, '\\\\$&')\n}\n"],"names":[],"mappings":";;;;;AACA;;;;;;;;IASO,MAAM,SAAS,CACpB,GACA,EACE,uBAAuB,KAAK,EAAA,GACsB,CAAA,CAAE;IAEtD,wDAAwD;IACxD,4DAA4D;IAC5D,sDAAsD;IACtD,OAAO,uBACH,EAAE,OAAO,CAAC,cAAc,UACxB,EAAE,OAAO,CAAC,gBAAgB;AAChC;AAZa,QAAA,MAAM,GAAA"}},
    {"offset": {"line": 13446, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 13450, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/minimatch@9.0.5/node_modules/minimatch/src/index.ts"],"sourcesContent":["import expand from 'brace-expansion'\nimport { assertValidPattern } from './assert-valid-pattern.js'\nimport { AST, ExtglobType } from './ast.js'\nimport { escape } from './escape.js'\nimport { unescape } from './unescape.js'\n\ntype Platform =\n  | 'aix'\n  | 'android'\n  | 'darwin'\n  | 'freebsd'\n  | 'haiku'\n  | 'linux'\n  | 'openbsd'\n  | 'sunos'\n  | 'win32'\n  | 'cygwin'\n  | 'netbsd'\n\nexport interface MinimatchOptions {\n  nobrace?: boolean\n  nocomment?: boolean\n  nonegate?: boolean\n  debug?: boolean\n  noglobstar?: boolean\n  noext?: boolean\n  nonull?: boolean\n  windowsPathsNoEscape?: boolean\n  allowWindowsEscape?: boolean\n  partial?: boolean\n  dot?: boolean\n  nocase?: boolean\n  nocaseMagicOnly?: boolean\n  magicalBraces?: boolean\n  matchBase?: boolean\n  flipNegate?: boolean\n  preserveMultipleSlashes?: boolean\n  optimizationLevel?: number\n  platform?: Platform\n  windowsNoMagicRoot?: boolean\n}\n\nexport const minimatch = (\n  p: string,\n  pattern: string,\n  options: MinimatchOptions = {}\n) => {\n  assertValidPattern(pattern)\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\n// Optimized checking for the most common glob patterns.\nconst starDotExtRE = /^\\*+([^+@!?\\*\\[\\(]*)$/\nconst starDotExtTest = (ext: string) => (f: string) =>\n  !f.startsWith('.') && f.endsWith(ext)\nconst starDotExtTestDot = (ext: string) => (f: string) => f.endsWith(ext)\nconst starDotExtTestNocase = (ext: string) => {\n  ext = ext.toLowerCase()\n  return (f: string) => !f.startsWith('.') && f.toLowerCase().endsWith(ext)\n}\nconst starDotExtTestNocaseDot = (ext: string) => {\n  ext = ext.toLowerCase()\n  return (f: string) => f.toLowerCase().endsWith(ext)\n}\nconst starDotStarRE = /^\\*+\\.\\*+$/\nconst starDotStarTest = (f: string) => !f.startsWith('.') && f.includes('.')\nconst starDotStarTestDot = (f: string) =>\n  f !== '.' && f !== '..' && f.includes('.')\nconst dotStarRE = /^\\.\\*+$/\nconst dotStarTest = (f: string) => f !== '.' && f !== '..' && f.startsWith('.')\nconst starRE = /^\\*+$/\nconst starTest = (f: string) => f.length !== 0 && !f.startsWith('.')\nconst starTestDot = (f: string) => f.length !== 0 && f !== '.' && f !== '..'\nconst qmarksRE = /^\\?+([^+@!?\\*\\[\\(]*)?$/\nconst qmarksTestNocase = ([$0, ext = '']: RegExpMatchArray) => {\n  const noext = qmarksTestNoExt([$0])\n  if (!ext) return noext\n  ext = ext.toLowerCase()\n  return (f: string) => noext(f) && f.toLowerCase().endsWith(ext)\n}\nconst qmarksTestNocaseDot = ([$0, ext = '']: RegExpMatchArray) => {\n  const noext = qmarksTestNoExtDot([$0])\n  if (!ext) return noext\n  ext = ext.toLowerCase()\n  return (f: string) => noext(f) && f.toLowerCase().endsWith(ext)\n}\nconst qmarksTestDot = ([$0, ext = '']: RegExpMatchArray) => {\n  const noext = qmarksTestNoExtDot([$0])\n  return !ext ? noext : (f: string) => noext(f) && f.endsWith(ext)\n}\nconst qmarksTest = ([$0, ext = '']: RegExpMatchArray) => {\n  const noext = qmarksTestNoExt([$0])\n  return !ext ? noext : (f: string) => noext(f) && f.endsWith(ext)\n}\nconst qmarksTestNoExt = ([$0]: RegExpMatchArray) => {\n  const len = $0.length\n  return (f: string) => f.length === len && !f.startsWith('.')\n}\nconst qmarksTestNoExtDot = ([$0]: RegExpMatchArray) => {\n  const len = $0.length\n  return (f: string) => f.length === len && f !== '.' && f !== '..'\n}\n\n/* c8 ignore start */\nconst defaultPlatform: Platform = (\n  typeof process === 'object' && process\n    ? (typeof process.env === 'object' &&\n        process.env &&\n        process.env.__MINIMATCH_TESTING_PLATFORM__) ||\n      process.platform\n    : 'posix'\n) as Platform\ntype Sep = '\\\\' | '/'\nconst path: { [k: string]: { sep: Sep } } = {\n  win32: { sep: '\\\\' },\n  posix: { sep: '/' },\n}\n/* c8 ignore stop */\n\nexport const sep = defaultPlatform === 'win32' ? path.win32.sep : path.posix.sep\nminimatch.sep = sep\n\nexport const GLOBSTAR = Symbol('globstar **')\nminimatch.GLOBSTAR = GLOBSTAR\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nconst qmark = '[^/]'\n\n// * => any number of characters\nconst star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nconst twoStarDot = '(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nconst twoStarNoDot = '(?:(?!(?:\\\\/|^)\\\\.).)*?'\n\nexport const filter =\n  (pattern: string, options: MinimatchOptions = {}) =>\n  (p: string) =>\n    minimatch(p, pattern, options)\nminimatch.filter = filter\n\nconst ext = (a: MinimatchOptions, b: MinimatchOptions = {}) =>\n  Object.assign({}, a, b)\n\nexport const defaults = (def: MinimatchOptions): typeof minimatch => {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  const orig = minimatch\n\n  const m = (p: string, pattern: string, options: MinimatchOptions = {}) =>\n    orig(p, pattern, ext(def, options))\n\n  return Object.assign(m, {\n    Minimatch: class Minimatch extends orig.Minimatch {\n      constructor(pattern: string, options: MinimatchOptions = {}) {\n        super(pattern, ext(def, options))\n      }\n      static defaults(options: MinimatchOptions) {\n        return orig.defaults(ext(def, options)).Minimatch\n      }\n    },\n\n    AST: class AST extends orig.AST {\n      /* c8 ignore start */\n      constructor(\n        type: ExtglobType | null,\n        parent?: AST,\n        options: MinimatchOptions = {}\n      ) {\n        super(type, parent, ext(def, options))\n      }\n      /* c8 ignore stop */\n\n      static fromGlob(pattern: string, options: MinimatchOptions = {}) {\n        return orig.AST.fromGlob(pattern, ext(def, options))\n      }\n    },\n\n    unescape: (\n      s: string,\n      options: Pick<MinimatchOptions, 'windowsPathsNoEscape'> = {}\n    ) => orig.unescape(s, ext(def, options)),\n\n    escape: (\n      s: string,\n      options: Pick<MinimatchOptions, 'windowsPathsNoEscape'> = {}\n    ) => orig.escape(s, ext(def, options)),\n\n    filter: (pattern: string, options: MinimatchOptions = {}) =>\n      orig.filter(pattern, ext(def, options)),\n\n    defaults: (options: MinimatchOptions) => orig.defaults(ext(def, options)),\n\n    makeRe: (pattern: string, options: MinimatchOptions = {}) =>\n      orig.makeRe(pattern, ext(def, options)),\n\n    braceExpand: (pattern: string, options: MinimatchOptions = {}) =>\n      orig.braceExpand(pattern, ext(def, options)),\n\n    match: (list: string[], pattern: string, options: MinimatchOptions = {}) =>\n      orig.match(list, pattern, ext(def, options)),\n\n    sep: orig.sep,\n    GLOBSTAR: GLOBSTAR as typeof GLOBSTAR,\n  })\n}\nminimatch.defaults = defaults\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nexport const braceExpand = (\n  pattern: string,\n  options: MinimatchOptions = {}\n) => {\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\nminimatch.braceExpand = braceExpand\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\n\nexport const makeRe = (pattern: string, options: MinimatchOptions = {}) =>\n  new Minimatch(pattern, options).makeRe()\nminimatch.makeRe = makeRe\n\nexport const match = (\n  list: string[],\n  pattern: string,\n  options: MinimatchOptions = {}\n) => {\n  const mm = new Minimatch(pattern, options)\n  list = list.filter(f => mm.match(f))\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\nminimatch.match = match\n\n// replace stuff like \\* with *\nconst globMagic = /[?*]|[+@!]\\(.*?\\)|\\[|\\]/\nconst regExpEscape = (s: string) =>\n  s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n\nexport type MMRegExp = RegExp & {\n  _src?: string\n  _glob?: string\n}\n\nexport type ParseReturnFiltered = string | MMRegExp | typeof GLOBSTAR\nexport type ParseReturn = ParseReturnFiltered | false\n\nexport class Minimatch {\n  options: MinimatchOptions\n  set: ParseReturnFiltered[][]\n  pattern: string\n\n  windowsPathsNoEscape: boolean\n  nonegate: boolean\n  negate: boolean\n  comment: boolean\n  empty: boolean\n  preserveMultipleSlashes: boolean\n  partial: boolean\n  globSet: string[]\n  globParts: string[][]\n  nocase: boolean\n\n  isWindows: boolean\n  platform: Platform\n  windowsNoMagicRoot: boolean\n\n  regexp: false | null | MMRegExp\n  constructor(pattern: string, options: MinimatchOptions = {}) {\n    assertValidPattern(pattern)\n\n    options = options || {}\n    this.options = options\n    this.pattern = pattern\n    this.platform = options.platform || defaultPlatform\n    this.isWindows = this.platform === 'win32'\n    this.windowsPathsNoEscape =\n      !!options.windowsPathsNoEscape || options.allowWindowsEscape === false\n    if (this.windowsPathsNoEscape) {\n      this.pattern = this.pattern.replace(/\\\\/g, '/')\n    }\n    this.preserveMultipleSlashes = !!options.preserveMultipleSlashes\n    this.regexp = null\n    this.negate = false\n    this.nonegate = !!options.nonegate\n    this.comment = false\n    this.empty = false\n    this.partial = !!options.partial\n    this.nocase = !!this.options.nocase\n    this.windowsNoMagicRoot =\n      options.windowsNoMagicRoot !== undefined\n        ? options.windowsNoMagicRoot\n        : !!(this.isWindows && this.nocase)\n\n    this.globSet = []\n    this.globParts = []\n    this.set = []\n\n    // make the set of regexps etc.\n    this.make()\n  }\n\n  hasMagic(): boolean {\n    if (this.options.magicalBraces && this.set.length > 1) {\n      return true\n    }\n    for (const pattern of this.set) {\n      for (const part of pattern) {\n        if (typeof part !== 'string') return true\n      }\n    }\n    return false\n  }\n\n  debug(..._: any[]) {}\n\n  make() {\n    const pattern = this.pattern\n    const options = this.options\n\n    // empty patterns and comments match nothing.\n    if (!options.nocomment && pattern.charAt(0) === '#') {\n      this.comment = true\n      return\n    }\n\n    if (!pattern) {\n      this.empty = true\n      return\n    }\n\n    // step 1: figure out negation, etc.\n    this.parseNegate()\n\n    // step 2: expand braces\n    this.globSet = [...new Set(this.braceExpand())]\n\n    if (options.debug) {\n      this.debug = (...args: any[]) => console.error(...args)\n    }\n\n    this.debug(this.pattern, this.globSet)\n\n    // step 3: now we have a set, so turn each one into a series of\n    // path-portion matching patterns.\n    // These will be regexps, except in the case of \"**\", which is\n    // set to the GLOBSTAR object for globstar behavior,\n    // and will not contain any / characters\n    //\n    // First, we preprocess to make the glob pattern sets a bit simpler\n    // and deduped.  There are some perf-killing patterns that can cause\n    // problems with a glob walk, but we can simplify them down a bit.\n    const rawGlobParts = this.globSet.map(s => this.slashSplit(s))\n    this.globParts = this.preprocess(rawGlobParts)\n    this.debug(this.pattern, this.globParts)\n\n    // glob --> regexps\n    let set = this.globParts.map((s, _, __) => {\n      if (this.isWindows && this.windowsNoMagicRoot) {\n        // check if it's a drive or unc path.\n        const isUNC =\n          s[0] === '' &&\n          s[1] === '' &&\n          (s[2] === '?' || !globMagic.test(s[2])) &&\n          !globMagic.test(s[3])\n        const isDrive = /^[a-z]:/i.test(s[0])\n        if (isUNC) {\n          return [...s.slice(0, 4), ...s.slice(4).map(ss => this.parse(ss))]\n        } else if (isDrive) {\n          return [s[0], ...s.slice(1).map(ss => this.parse(ss))]\n        }\n      }\n      return s.map(ss => this.parse(ss))\n    })\n\n    this.debug(this.pattern, set)\n\n    // filter out everything that didn't compile properly.\n    this.set = set.filter(\n      s => s.indexOf(false) === -1\n    ) as ParseReturnFiltered[][]\n\n    // do not treat the ? in UNC paths as magic\n    if (this.isWindows) {\n      for (let i = 0; i < this.set.length; i++) {\n        const p = this.set[i]\n        if (\n          p[0] === '' &&\n          p[1] === '' &&\n          this.globParts[i][2] === '?' &&\n          typeof p[3] === 'string' &&\n          /^[a-z]:$/i.test(p[3])\n        ) {\n          p[2] = '?'\n        }\n      }\n    }\n\n    this.debug(this.pattern, this.set)\n  }\n\n  // various transforms to equivalent pattern sets that are\n  // faster to process in a filesystem walk.  The goal is to\n  // eliminate what we can, and push all ** patterns as far\n  // to the right as possible, even if it increases the number\n  // of patterns that we have to process.\n  preprocess(globParts: string[][]) {\n    // if we're not in globstar mode, then turn all ** into *\n    if (this.options.noglobstar) {\n      for (let i = 0; i < globParts.length; i++) {\n        for (let j = 0; j < globParts[i].length; j++) {\n          if (globParts[i][j] === '**') {\n            globParts[i][j] = '*'\n          }\n        }\n      }\n    }\n\n    const { optimizationLevel = 1 } = this.options\n\n    if (optimizationLevel >= 2) {\n      // aggressive optimization for the purpose of fs walking\n      globParts = this.firstPhasePreProcess(globParts)\n      globParts = this.secondPhasePreProcess(globParts)\n    } else if (optimizationLevel >= 1) {\n      // just basic optimizations to remove some .. parts\n      globParts = this.levelOneOptimize(globParts)\n    } else {\n      // just collapse multiple ** portions into one\n      globParts = this.adjascentGlobstarOptimize(globParts)\n    }\n\n    return globParts\n  }\n\n  // just get rid of adjascent ** portions\n  adjascentGlobstarOptimize(globParts: string[][]) {\n    return globParts.map(parts => {\n      let gs: number = -1\n      while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\n        let i = gs\n        while (parts[i + 1] === '**') {\n          i++\n        }\n        if (i !== gs) {\n          parts.splice(gs, i - gs)\n        }\n      }\n      return parts\n    })\n  }\n\n  // get rid of adjascent ** and resolve .. portions\n  levelOneOptimize(globParts: string[][]) {\n    return globParts.map(parts => {\n      parts = parts.reduce((set: string[], part) => {\n        const prev = set[set.length - 1]\n        if (part === '**' && prev === '**') {\n          return set\n        }\n        if (part === '..') {\n          if (prev && prev !== '..' && prev !== '.' && prev !== '**') {\n            set.pop()\n            return set\n          }\n        }\n        set.push(part)\n        return set\n      }, [])\n      return parts.length === 0 ? [''] : parts\n    })\n  }\n\n  levelTwoFileOptimize(parts: string | string[]) {\n    if (!Array.isArray(parts)) {\n      parts = this.slashSplit(parts)\n    }\n    let didSomething: boolean = false\n    do {\n      didSomething = false\n      // <pre>/<e>/<rest> -> <pre>/<rest>\n      if (!this.preserveMultipleSlashes) {\n        for (let i = 1; i < parts.length - 1; i++) {\n          const p = parts[i]\n          // don't squeeze out UNC patterns\n          if (i === 1 && p === '' && parts[0] === '') continue\n          if (p === '.' || p === '') {\n            didSomething = true\n            parts.splice(i, 1)\n            i--\n          }\n        }\n        if (\n          parts[0] === '.' &&\n          parts.length === 2 &&\n          (parts[1] === '.' || parts[1] === '')\n        ) {\n          didSomething = true\n          parts.pop()\n        }\n      }\n\n      // <pre>/<p>/../<rest> -> <pre>/<rest>\n      let dd: number = 0\n      while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\n        const p = parts[dd - 1]\n        if (p && p !== '.' && p !== '..' && p !== '**') {\n          didSomething = true\n          parts.splice(dd - 1, 2)\n          dd -= 2\n        }\n      }\n    } while (didSomething)\n    return parts.length === 0 ? [''] : parts\n  }\n\n  // First phase: single-pattern processing\n  // <pre> is 1 or more portions\n  // <rest> is 1 or more portions\n  // <p> is any portion other than ., .., '', or **\n  // <e> is . or ''\n  //\n  // **/.. is *brutal* for filesystem walking performance, because\n  // it effectively resets the recursive walk each time it occurs,\n  // and ** cannot be reduced out by a .. pattern part like a regexp\n  // or most strings (other than .., ., and '') can be.\n  //\n  // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\n  // <pre>/<e>/<rest> -> <pre>/<rest>\n  // <pre>/<p>/../<rest> -> <pre>/<rest>\n  // **/**/<rest> -> **/<rest>\n  //\n  // **/*/<rest> -> */**/<rest> <== not valid because ** doesn't follow\n  // this WOULD be allowed if ** did follow symlinks, or * didn't\n  firstPhasePreProcess(globParts: string[][]) {\n    let didSomething = false\n    do {\n      didSomething = false\n      // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\n      for (let parts of globParts) {\n        let gs: number = -1\n        while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\n          let gss: number = gs\n          while (parts[gss + 1] === '**') {\n            // <pre>/**/**/<rest> -> <pre>/**/<rest>\n            gss++\n          }\n          // eg, if gs is 2 and gss is 4, that means we have 3 **\n          // parts, and can remove 2 of them.\n          if (gss > gs) {\n            parts.splice(gs + 1, gss - gs)\n          }\n\n          let next = parts[gs + 1]\n          const p = parts[gs + 2]\n          const p2 = parts[gs + 3]\n          if (next !== '..') continue\n          if (\n            !p ||\n            p === '.' ||\n            p === '..' ||\n            !p2 ||\n            p2 === '.' ||\n            p2 === '..'\n          ) {\n            continue\n          }\n          didSomething = true\n          // edit parts in place, and push the new one\n          parts.splice(gs, 1)\n          const other = parts.slice(0)\n          other[gs] = '**'\n          globParts.push(other)\n          gs--\n        }\n\n        // <pre>/<e>/<rest> -> <pre>/<rest>\n        if (!this.preserveMultipleSlashes) {\n          for (let i = 1; i < parts.length - 1; i++) {\n            const p = parts[i]\n            // don't squeeze out UNC patterns\n            if (i === 1 && p === '' && parts[0] === '') continue\n            if (p === '.' || p === '') {\n              didSomething = true\n              parts.splice(i, 1)\n              i--\n            }\n          }\n          if (\n            parts[0] === '.' &&\n            parts.length === 2 &&\n            (parts[1] === '.' || parts[1] === '')\n          ) {\n            didSomething = true\n            parts.pop()\n          }\n        }\n\n        // <pre>/<p>/../<rest> -> <pre>/<rest>\n        let dd: number = 0\n        while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\n          const p = parts[dd - 1]\n          if (p && p !== '.' && p !== '..' && p !== '**') {\n            didSomething = true\n            const needDot = dd === 1 && parts[dd + 1] === '**'\n            const splin = needDot ? ['.'] : []\n            parts.splice(dd - 1, 2, ...splin)\n            if (parts.length === 0) parts.push('')\n            dd -= 2\n          }\n        }\n      }\n    } while (didSomething)\n\n    return globParts\n  }\n\n  // second phase: multi-pattern dedupes\n  // {<pre>/*/<rest>,<pre>/<p>/<rest>} -> <pre>/*/<rest>\n  // {<pre>/<rest>,<pre>/<rest>} -> <pre>/<rest>\n  // {<pre>/**/<rest>,<pre>/<rest>} -> <pre>/**/<rest>\n  //\n  // {<pre>/**/<rest>,<pre>/**/<p>/<rest>} -> <pre>/**/<rest>\n  // ^-- not valid because ** doens't follow symlinks\n  secondPhasePreProcess(globParts: string[][]): string[][] {\n    for (let i = 0; i < globParts.length - 1; i++) {\n      for (let j = i + 1; j < globParts.length; j++) {\n        const matched = this.partsMatch(\n          globParts[i],\n          globParts[j],\n          !this.preserveMultipleSlashes\n        )\n        if (matched) {\n          globParts[i] = []\n          globParts[j] = matched\n          break\n        }\n      }\n    }\n    return globParts.filter(gs => gs.length)\n  }\n\n  partsMatch(\n    a: string[],\n    b: string[],\n    emptyGSMatch: boolean = false\n  ): false | string[] {\n    let ai = 0\n    let bi = 0\n    let result: string[] = []\n    let which: string = ''\n    while (ai < a.length && bi < b.length) {\n      if (a[ai] === b[bi]) {\n        result.push(which === 'b' ? b[bi] : a[ai])\n        ai++\n        bi++\n      } else if (emptyGSMatch && a[ai] === '**' && b[bi] === a[ai + 1]) {\n        result.push(a[ai])\n        ai++\n      } else if (emptyGSMatch && b[bi] === '**' && a[ai] === b[bi + 1]) {\n        result.push(b[bi])\n        bi++\n      } else if (\n        a[ai] === '*' &&\n        b[bi] &&\n        (this.options.dot || !b[bi].startsWith('.')) &&\n        b[bi] !== '**'\n      ) {\n        if (which === 'b') return false\n        which = 'a'\n        result.push(a[ai])\n        ai++\n        bi++\n      } else if (\n        b[bi] === '*' &&\n        a[ai] &&\n        (this.options.dot || !a[ai].startsWith('.')) &&\n        a[ai] !== '**'\n      ) {\n        if (which === 'a') return false\n        which = 'b'\n        result.push(b[bi])\n        ai++\n        bi++\n      } else {\n        return false\n      }\n    }\n    // if we fall out of the loop, it means they two are identical\n    // as long as their lengths match\n    return a.length === b.length && result\n  }\n\n  parseNegate() {\n    if (this.nonegate) return\n\n    const pattern = this.pattern\n    let negate = false\n    let negateOffset = 0\n\n    for (let i = 0; i < pattern.length && pattern.charAt(i) === '!'; i++) {\n      negate = !negate\n      negateOffset++\n    }\n\n    if (negateOffset) this.pattern = pattern.slice(negateOffset)\n    this.negate = negate\n  }\n\n  // set partial to true to test if, for example,\n  // \"/a/b\" matches the start of \"/*/b/*/d\"\n  // Partial means, if you run out of file before you run\n  // out of pattern, then that's fine, as long as all\n  // the parts match.\n  matchOne(file: string[], pattern: ParseReturn[], partial: boolean = false) {\n    const options = this.options\n\n    // UNC paths like //?/X:/... can match X:/... and vice versa\n    // Drive letters in absolute drive or unc paths are always compared\n    // case-insensitively.\n    if (this.isWindows) {\n      const fileDrive = typeof file[0] === 'string' && /^[a-z]:$/i.test(file[0])\n      const fileUNC =\n        !fileDrive &&\n        file[0] === '' &&\n        file[1] === '' &&\n        file[2] === '?' &&\n        /^[a-z]:$/i.test(file[3])\n\n      const patternDrive =\n        typeof pattern[0] === 'string' && /^[a-z]:$/i.test(pattern[0])\n      const patternUNC =\n        !patternDrive &&\n        pattern[0] === '' &&\n        pattern[1] === '' &&\n        pattern[2] === '?' &&\n        typeof pattern[3] === 'string' &&\n        /^[a-z]:$/i.test(pattern[3])\n\n      const fdi = fileUNC ? 3 : fileDrive ? 0 : undefined\n      const pdi = patternUNC ? 3 : patternDrive ? 0 : undefined\n      if (typeof fdi === 'number' && typeof pdi === 'number') {\n        const [fd, pd]: [string, string] = [file[fdi], pattern[pdi] as string]\n        if (fd.toLowerCase() === pd.toLowerCase()) {\n          pattern[pdi] = fd\n          if (pdi > fdi) {\n            pattern = pattern.slice(pdi)\n          } else if (fdi > pdi) {\n            file = file.slice(fdi)\n          }\n        }\n      }\n    }\n\n    // resolve and reduce . and .. portions in the file as well.\n    // dont' need to do the second phase, because it's only one string[]\n    const { optimizationLevel = 1 } = this.options\n    if (optimizationLevel >= 2) {\n      file = this.levelTwoFileOptimize(file)\n    }\n\n    this.debug('matchOne', this, { file, pattern })\n    this.debug('matchOne', file.length, pattern.length)\n\n    for (\n      var fi = 0, pi = 0, fl = file.length, pl = pattern.length;\n      fi < fl && pi < pl;\n      fi++, pi++\n    ) {\n      this.debug('matchOne loop')\n      var p = pattern[pi]\n      var f = file[fi]\n\n      this.debug(pattern, p, f)\n\n      // should be impossible.\n      // some invalid regexp stuff in the set.\n      /* c8 ignore start */\n      if (p === false) {\n        return false\n      }\n      /* c8 ignore stop */\n\n      if (p === GLOBSTAR) {\n        this.debug('GLOBSTAR', [pattern, p, f])\n\n        // \"**\"\n        // a/**/b/**/c would match the following:\n        // a/b/x/y/z/c\n        // a/x/y/z/b/c\n        // a/b/x/b/x/c\n        // a/b/c\n        // To do this, take the rest of the pattern after\n        // the **, and see if it would match the file remainder.\n        // If so, return success.\n        // If not, the ** \"swallows\" a segment, and try again.\n        // This is recursively awful.\n        //\n        // a/**/b/**/c matching a/b/x/y/z/c\n        // - a matches a\n        // - doublestar\n        //   - matchOne(b/x/y/z/c, b/**/c)\n        //     - b matches b\n        //     - doublestar\n        //       - matchOne(x/y/z/c, c) -> no\n        //       - matchOne(y/z/c, c) -> no\n        //       - matchOne(z/c, c) -> no\n        //       - matchOne(c, c) yes, hit\n        var fr = fi\n        var pr = pi + 1\n        if (pr === pl) {\n          this.debug('** at the end')\n          // a ** at the end will just swallow the rest.\n          // We have found a match.\n          // however, it will not swallow /.x, unless\n          // options.dot is set.\n          // . and .. are *never* matched by **, for explosively\n          // exponential reasons.\n          for (; fi < fl; fi++) {\n            if (\n              file[fi] === '.' ||\n              file[fi] === '..' ||\n              (!options.dot && file[fi].charAt(0) === '.')\n            )\n              return false\n          }\n          return true\n        }\n\n        // ok, let's see if we can swallow whatever we can.\n        while (fr < fl) {\n          var swallowee = file[fr]\n\n          this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n          // XXX remove this slice.  Just pass the start index.\n          if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n            this.debug('globstar found match!', fr, fl, swallowee)\n            // found a match.\n            return true\n          } else {\n            // can't swallow \".\" or \"..\" ever.\n            // can only swallow \".foo\" when explicitly asked.\n            if (\n              swallowee === '.' ||\n              swallowee === '..' ||\n              (!options.dot && swallowee.charAt(0) === '.')\n            ) {\n              this.debug('dot detected!', file, fr, pattern, pr)\n              break\n            }\n\n            // ** swallows a segment, and continue.\n            this.debug('globstar swallow a segment, and continue')\n            fr++\n          }\n        }\n\n        // no match was found.\n        // However, in partial mode, we can't say this is necessarily over.\n        /* c8 ignore start */\n        if (partial) {\n          // ran out of file\n          this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n          if (fr === fl) {\n            return true\n          }\n        }\n        /* c8 ignore stop */\n        return false\n      }\n\n      // something other than **\n      // non-magic patterns just have to match exactly\n      // patterns with magic have been turned into regexps.\n      let hit: boolean\n      if (typeof p === 'string') {\n        hit = f === p\n        this.debug('string match', p, f, hit)\n      } else {\n        hit = p.test(f)\n        this.debug('pattern match', p, f, hit)\n      }\n\n      if (!hit) return false\n    }\n\n    // Note: ending in / means that we'll get a final \"\"\n    // at the end of the pattern.  This can only match a\n    // corresponding \"\" at the end of the file.\n    // If the file ends in /, then it can only match a\n    // a pattern that ends in /, unless the pattern just\n    // doesn't have any more for it. But, a/b/ should *not*\n    // match \"a/b/*\", even though \"\" matches against the\n    // [^/]*? pattern, except in partial mode, where it might\n    // simply not be reached yet.\n    // However, a/b/ should still satisfy a/*\n\n    // now either we fell off the end of the pattern, or we're done.\n    if (fi === fl && pi === pl) {\n      // ran out of pattern and filename at the same time.\n      // an exact hit!\n      return true\n    } else if (fi === fl) {\n      // ran out of file, but still had pattern left.\n      // this is ok if we're doing the match as part of\n      // a glob fs traversal.\n      return partial\n    } else if (pi === pl) {\n      // ran out of pattern, still have file left.\n      // this is only acceptable if we're on the very last\n      // empty segment of a file with a trailing slash.\n      // a/* should match a/b/\n      return fi === fl - 1 && file[fi] === ''\n\n      /* c8 ignore start */\n    } else {\n      // should be unreachable.\n      throw new Error('wtf?')\n    }\n    /* c8 ignore stop */\n  }\n\n  braceExpand() {\n    return braceExpand(this.pattern, this.options)\n  }\n\n  parse(pattern: string): ParseReturn {\n    assertValidPattern(pattern)\n\n    const options = this.options\n\n    // shortcuts\n    if (pattern === '**') return GLOBSTAR\n    if (pattern === '') return ''\n\n    // far and away, the most common glob pattern parts are\n    // *, *.*, and *.<ext>  Add a fast check method for those.\n    let m: RegExpMatchArray | null\n    let fastTest: null | ((f: string) => boolean) = null\n    if ((m = pattern.match(starRE))) {\n      fastTest = options.dot ? starTestDot : starTest\n    } else if ((m = pattern.match(starDotExtRE))) {\n      fastTest = (\n        options.nocase\n          ? options.dot\n            ? starDotExtTestNocaseDot\n            : starDotExtTestNocase\n          : options.dot\n          ? starDotExtTestDot\n          : starDotExtTest\n      )(m[1])\n    } else if ((m = pattern.match(qmarksRE))) {\n      fastTest = (\n        options.nocase\n          ? options.dot\n            ? qmarksTestNocaseDot\n            : qmarksTestNocase\n          : options.dot\n          ? qmarksTestDot\n          : qmarksTest\n      )(m)\n    } else if ((m = pattern.match(starDotStarRE))) {\n      fastTest = options.dot ? starDotStarTestDot : starDotStarTest\n    } else if ((m = pattern.match(dotStarRE))) {\n      fastTest = dotStarTest\n    }\n\n    const re = AST.fromGlob(pattern, this.options).toMMPattern()\n    if (fastTest && typeof re === 'object') {\n      // Avoids overriding in frozen environments\n      Reflect.defineProperty(re, 'test', { value: fastTest })\n    }\n    return re\n  }\n\n  makeRe() {\n    if (this.regexp || this.regexp === false) return this.regexp\n\n    // at this point, this.set is a 2d array of partial\n    // pattern strings, or \"**\".\n    //\n    // It's better to use .match().  This function shouldn't\n    // be used, really, but it's pretty convenient sometimes,\n    // when you just want to work with a regex.\n    const set = this.set\n\n    if (!set.length) {\n      this.regexp = false\n      return this.regexp\n    }\n    const options = this.options\n\n    const twoStar = options.noglobstar\n      ? star\n      : options.dot\n      ? twoStarDot\n      : twoStarNoDot\n    const flags = new Set(options.nocase ? ['i'] : [])\n\n    // regexpify non-globstar patterns\n    // if ** is only item, then we just do one twoStar\n    // if ** is first, and there are more, prepend (\\/|twoStar\\/)? to next\n    // if ** is last, append (\\/twoStar|) to previous\n    // if ** is in the middle, append (\\/|\\/twoStar\\/) to previous\n    // then filter out GLOBSTAR symbols\n    let re = set\n      .map(pattern => {\n        const pp: (string | typeof GLOBSTAR)[] = pattern.map(p => {\n          if (p instanceof RegExp) {\n            for (const f of p.flags.split('')) flags.add(f)\n          }\n          return typeof p === 'string'\n            ? regExpEscape(p)\n            : p === GLOBSTAR\n            ? GLOBSTAR\n            : p._src\n        }) as (string | typeof GLOBSTAR)[]\n        pp.forEach((p, i) => {\n          const next = pp[i + 1]\n          const prev = pp[i - 1]\n          if (p !== GLOBSTAR || prev === GLOBSTAR) {\n            return\n          }\n          if (prev === undefined) {\n            if (next !== undefined && next !== GLOBSTAR) {\n              pp[i + 1] = '(?:\\\\/|' + twoStar + '\\\\/)?' + next\n            } else {\n              pp[i] = twoStar\n            }\n          } else if (next === undefined) {\n            pp[i - 1] = prev + '(?:\\\\/|' + twoStar + ')?'\n          } else if (next !== GLOBSTAR) {\n            pp[i - 1] = prev + '(?:\\\\/|\\\\/' + twoStar + '\\\\/)' + next\n            pp[i + 1] = GLOBSTAR\n          }\n        })\n        return pp.filter(p => p !== GLOBSTAR).join('/')\n      })\n      .join('|')\n\n    // need to wrap in parens if we had more than one thing with |,\n    // otherwise only the first will be anchored to ^ and the last to $\n    const [open, close] = set.length > 1 ? ['(?:', ')'] : ['', '']\n    // must match entire pattern\n    // ending in a * or ** will make it less strict.\n    re = '^' + open + re + close + '$'\n\n    // can match anything, as long as it's not this.\n    if (this.negate) re = '^(?!' + re + ').+$'\n\n    try {\n      this.regexp = new RegExp(re, [...flags].join(''))\n      /* c8 ignore start */\n    } catch (ex) {\n      // should be impossible\n      this.regexp = false\n    }\n    /* c8 ignore stop */\n    return this.regexp\n  }\n\n  slashSplit(p: string) {\n    // if p starts with // on windows, we preserve that\n    // so that UNC paths aren't broken.  Otherwise, any number of\n    // / characters are coalesced into one, unless\n    // preserveMultipleSlashes is set to true.\n    if (this.preserveMultipleSlashes) {\n      return p.split('/')\n    } else if (this.isWindows && /^\\/\\/[^\\/]+/.test(p)) {\n      // add an extra '' for the one we lose\n      return ['', ...p.split(/\\/+/)]\n    } else {\n      return p.split(/\\/+/)\n    }\n  }\n\n  match(f: string, partial = this.partial) {\n    this.debug('match', f, this.pattern)\n    // short-circuit in the case of busted things.\n    // comments, etc.\n    if (this.comment) {\n      return false\n    }\n    if (this.empty) {\n      return f === ''\n    }\n\n    if (f === '/' && partial) {\n      return true\n    }\n\n    const options = this.options\n\n    // windows: need to use /, not \\\n    if (this.isWindows) {\n      f = f.split('\\\\').join('/')\n    }\n\n    // treat the test path as a set of pathparts.\n    const ff = this.slashSplit(f)\n    this.debug(this.pattern, 'split', ff)\n\n    // just ONE of the pattern sets in this.set needs to match\n    // in order for it to be valid.  If negating, then just one\n    // match means that we have failed.\n    // Either way, return on the first hit.\n\n    const set = this.set\n    this.debug(this.pattern, 'set', set)\n\n    // Find the basename of the path by looking for the last non-empty segment\n    let filename: string = ff[ff.length - 1]\n    if (!filename) {\n      for (let i = ff.length - 2; !filename && i >= 0; i--) {\n        filename = ff[i]\n      }\n    }\n\n    for (let i = 0; i < set.length; i++) {\n      const pattern = set[i]\n      let file = ff\n      if (options.matchBase && pattern.length === 1) {\n        file = [filename]\n      }\n      const hit = this.matchOne(file, pattern, partial)\n      if (hit) {\n        if (options.flipNegate) {\n          return true\n        }\n        return !this.negate\n      }\n    }\n\n    // didn't get any hits.  this is success if it's a negative\n    // pattern, failure otherwise.\n    if (options.flipNegate) {\n      return false\n    }\n    return this.negate\n  }\n\n  static defaults(def: MinimatchOptions) {\n    return minimatch.defaults(def).Minimatch\n  }\n}\n/* c8 ignore start */\nexport { AST } from './ast.js'\nexport { escape } from './escape.js'\nexport { unescape } from './unescape.js'\n/* c8 ignore stop */\nminimatch.AST = AST\nminimatch.Minimatch = Minimatch\nminimatch.escape = escape\nminimatch.unescape = unescape\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 14418, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14422, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/enum.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum AllowedOperationTypes {\n  QUERY = 'query',\n  MUTATION = 'mutation',\n  SUBSCRIPTION = 'subscription',\n}\n\nexport enum TokenKind {\n  SOF = '<SOF>',\n  EOF = '<EOF>',\n  BANG = '!',\n  DOLLAR = '$',\n  AMP = '&',\n  PAREN_L = '(',\n  PAREN_R = ')',\n  SPREAD = '...',\n  COLON = ':',\n  EQUALS = '=',\n  AT = '@',\n  BRACKET_L = '[',\n  BRACKET_R = ']',\n  BRACE_L = '{',\n  PIPE = '|',\n  BRACE_R = '}',\n  NAME = 'Name',\n  INT = 'Int',\n  FLOAT = 'Float',\n  STRING = 'String',\n  BLOCK_STRING = 'BlockString',\n  COMMENT = 'Comment',\n}\n\nexport enum SpanNames {\n  EXECUTE = 'graphql.execute',\n  PARSE = 'graphql.parse',\n  RESOLVE = 'graphql.resolve',\n  VALIDATE = 'graphql.validate',\n  SCHEMA_VALIDATE = 'graphql.validateSchema',\n  SCHEMA_PARSE = 'graphql.parseSchema',\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,IAAY;AAAZ,CAAA,SAAY,qBAAqB;IAC/B,qBAAA,CAAA,QAAA,GAAA;IACA,qBAAA,CAAA,WAAA,GAAA;IACA,qBAAA,CAAA,eAAA,GAAA;AACF,CAAC,EAJW,wBAAA,QAAA,qBAAqB,IAAA,CAArB,QAAA,qBAAqB,GAAA,CAAA,CAAA;AAMjC,IAAY;AAAZ,CAAA,SAAY,SAAS;IACnB,SAAA,CAAA,MAAA,GAAA;IACA,SAAA,CAAA,MAAA,GAAA;IACA,SAAA,CAAA,OAAA,GAAA;IACA,SAAA,CAAA,SAAA,GAAA;IACA,SAAA,CAAA,MAAA,GAAA;IACA,SAAA,CAAA,UAAA,GAAA;IACA,SAAA,CAAA,UAAA,GAAA;IACA,SAAA,CAAA,SAAA,GAAA;IACA,SAAA,CAAA,QAAA,GAAA;IACA,SAAA,CAAA,SAAA,GAAA;IACA,SAAA,CAAA,KAAA,GAAA;IACA,SAAA,CAAA,YAAA,GAAA;IACA,SAAA,CAAA,YAAA,GAAA;IACA,SAAA,CAAA,UAAA,GAAA;IACA,SAAA,CAAA,OAAA,GAAA;IACA,SAAA,CAAA,UAAA,GAAA;IACA,SAAA,CAAA,OAAA,GAAA;IACA,SAAA,CAAA,MAAA,GAAA;IACA,SAAA,CAAA,QAAA,GAAA;IACA,SAAA,CAAA,SAAA,GAAA;IACA,SAAA,CAAA,eAAA,GAAA;IACA,SAAA,CAAA,UAAA,GAAA;AACF,CAAC,EAvBW,YAAA,QAAA,SAAS,IAAA,CAAT,QAAA,SAAS,GAAA,CAAA,CAAA;AAyBrB,IAAY;AAAZ,CAAA,SAAY,SAAS;IACnB,SAAA,CAAA,UAAA,GAAA;IACA,SAAA,CAAA,QAAA,GAAA;IACA,SAAA,CAAA,UAAA,GAAA;IACA,SAAA,CAAA,WAAA,GAAA;IACA,SAAA,CAAA,kBAAA,GAAA;IACA,SAAA,CAAA,eAAA,GAAA;AACF,CAAC,EAPW,YAAA,QAAA,SAAS,IAAA,CAAT,QAAA,SAAS,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 14481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14485, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/enums/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum AttributeNames {\n  SOURCE = 'graphql.source',\n  FIELD_NAME = 'graphql.field.name',\n  FIELD_PATH = 'graphql.field.path',\n  FIELD_TYPE = 'graphql.field.type',\n  OPERATION_TYPE = 'graphql.operation.type',\n  OPERATION_NAME = 'graphql.operation.name',\n  VARIABLES = 'graphql.variables.',\n  ERROR_VALIDATION_NAME = 'graphql.validation.error',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,SAAA,GAAA;IACA,cAAA,CAAA,aAAA,GAAA;IACA,cAAA,CAAA,aAAA,GAAA;IACA,cAAA,CAAA,aAAA,GAAA;IACA,cAAA,CAAA,iBAAA,GAAA;IACA,cAAA,CAAA,iBAAA,GAAA;IACA,cAAA,CAAA,YAAA,GAAA;IACA,cAAA,CAAA,wBAAA,GAAA;AACF,CAAC,EATW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 14515, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14519, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/symbols.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const OTEL_PATCHED_SYMBOL = Symbol.for('opentelemetry.patched');\n\nexport const OTEL_GRAPHQL_DATA_SYMBOL = Symbol.for(\n  'opentelemetry.graphql_data'\n);\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBa,QAAA,mBAAmB,GAAG,OAAO,GAAG,CAAC;AAEjC,QAAA,wBAAwB,GAAG,OAAO,GAAG,CAChD"}},
    {"offset": {"line": 14540, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14544, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/internal-types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as graphqlTypes from 'graphql';\nimport type * as api from '@opentelemetry/api';\nimport type { PromiseOrValue } from 'graphql/jsutils/PromiseOrValue';\nimport type { DocumentNode } from 'graphql/language/ast';\nimport type {\n  GraphQLFieldResolver,\n  GraphQLTypeResolver,\n} from 'graphql/type/definition';\nimport { OTEL_GRAPHQL_DATA_SYMBOL, OTEL_PATCHED_SYMBOL } from './symbols';\n\nexport const OPERATION_NOT_SUPPORTED =\n  'Operation$operationName$not' + ' supported';\n\nexport type executeFunctionWithObj = (\n  args: graphqlTypes.ExecutionArgs\n) => PromiseOrValue<graphqlTypes.ExecutionResult>;\n\nexport type executeArgumentsArray = [\n  graphqlTypes.GraphQLSchema,\n  graphqlTypes.DocumentNode,\n  any,\n  any,\n  Maybe<{ [key: string]: any }>,\n  Maybe<string>,\n  Maybe<graphqlTypes.GraphQLFieldResolver<any, any>>,\n  Maybe<graphqlTypes.GraphQLTypeResolver<any, any>>\n];\n\nexport type executeFunctionWithArgs = (\n  schema: graphqlTypes.GraphQLSchema,\n  document: graphqlTypes.DocumentNode,\n  rootValue?: any,\n  contextValue?: any,\n  variableValues?: Maybe<{ [key: string]: any }>,\n  operationName?: Maybe<string>,\n  fieldResolver?: Maybe<graphqlTypes.GraphQLFieldResolver<any, any>>,\n  typeResolver?: Maybe<graphqlTypes.GraphQLTypeResolver<any, any>>\n) => PromiseOrValue<graphqlTypes.ExecutionResult>;\n\nexport interface OtelExecutionArgs {\n  schema: graphqlTypes.GraphQLSchema;\n  document: DocumentNode & ObjectWithGraphQLData;\n  rootValue?: any;\n  contextValue?: any & ObjectWithGraphQLData;\n  variableValues?: Maybe<{ [key: string]: any }>;\n  operationName?: Maybe<string>;\n  fieldResolver?: Maybe<GraphQLFieldResolver<any, any> & OtelPatched>;\n  typeResolver?: Maybe<GraphQLTypeResolver<any, any>>;\n}\n\nexport type executeType = executeFunctionWithObj | executeFunctionWithArgs;\n\nexport type parseType = (\n  source: string | graphqlTypes.Source,\n  options?: graphqlTypes.ParseOptions\n) => graphqlTypes.DocumentNode;\n\nexport type validateType = (\n  schema: graphqlTypes.GraphQLSchema,\n  documentAST: graphqlTypes.DocumentNode,\n  rules?: ReadonlyArray<graphqlTypes.ValidationRule>,\n  options?: { maxErrors?: number },\n  typeInfo?: graphqlTypes.TypeInfo\n) => ReadonlyArray<graphqlTypes.GraphQLError>;\n\nexport interface GraphQLField {\n  parent: api.Span;\n  span: api.Span;\n  error: Error | null;\n}\n\ninterface OtelGraphQLData {\n  source?: any;\n  span: api.Span;\n  fields: { [key: string]: GraphQLField };\n}\n\nexport interface ObjectWithGraphQLData {\n  [OTEL_GRAPHQL_DATA_SYMBOL]?: OtelGraphQLData;\n}\n\nexport interface OtelPatched {\n  [OTEL_PATCHED_SYMBOL]?: boolean;\n}\n\nexport interface GraphQLPath {\n  prev: GraphQLPath | undefined;\n  key: string | number;\n  /**\n   * optional as it didn't exist yet in ver 14\n   */\n  typename?: string | undefined;\n}\n\n/**\n * Moving this type from ver 15 of graphql as it is nto available in ver. 14s\n * this way it can compile against ver 14.\n */\nexport type Maybe<T> = null | undefined | T;\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAwBA,MAAA;AAEa,QAAA,uBAAuB,GAClC,gCAAgC"}},
    {"offset": {"line": 14565, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14569, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as graphqlTypes from 'graphql';\nimport * as api from '@opentelemetry/api';\nimport { AllowedOperationTypes, SpanNames, TokenKind } from './enum';\nimport { AttributeNames } from './enums/AttributeNames';\nimport { OTEL_GRAPHQL_DATA_SYMBOL, OTEL_PATCHED_SYMBOL } from './symbols';\nimport {\n  GraphQLField,\n  GraphQLPath,\n  ObjectWithGraphQLData,\n  OtelPatched,\n  Maybe,\n} from './internal-types';\nimport { GraphQLInstrumentationParsedConfig } from './types';\n\nconst OPERATION_VALUES = Object.values(AllowedOperationTypes);\n\n// https://github.com/graphql/graphql-js/blob/main/src/jsutils/isPromise.ts\nexport const isPromise = (value: any): value is Promise<unknown> => {\n  return typeof value?.then === 'function';\n};\n\n// https://github.com/graphql/graphql-js/blob/main/src/jsutils/isObjectLike.ts\nconst isObjectLike = (value: unknown): value is { [key: string]: unknown } => {\n  return typeof value == 'object' && value !== null;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction addInputVariableAttribute(span: api.Span, key: string, variable: any) {\n  if (Array.isArray(variable)) {\n    variable.forEach((value, idx) => {\n      addInputVariableAttribute(span, `${key}.${idx}`, value);\n    });\n  } else if (variable instanceof Object) {\n    Object.entries(variable).forEach(([nestedKey, value]) => {\n      addInputVariableAttribute(span, `${key}.${nestedKey}`, value);\n    });\n  } else {\n    span.setAttribute(`${AttributeNames.VARIABLES}${String(key)}`, variable);\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function addInputVariableAttributes(\n  span: api.Span,\n  variableValues: { [key: string]: any }\n) {\n  Object.entries(variableValues).forEach(([key, value]) => {\n    addInputVariableAttribute(span, key, value);\n  });\n}\n\nexport function addSpanSource(\n  span: api.Span,\n  loc?: graphqlTypes.Location,\n  allowValues?: boolean,\n  start?: number,\n  end?: number\n): void {\n  const source = getSourceFromLocation(loc, allowValues, start, end);\n  span.setAttribute(AttributeNames.SOURCE, source);\n}\n\nfunction createFieldIfNotExists(\n  tracer: api.Tracer,\n  getConfig: () => GraphQLInstrumentationParsedConfig,\n  contextValue: any,\n  info: graphqlTypes.GraphQLResolveInfo,\n  path: string[]\n): {\n  field: any;\n  spanAdded: boolean;\n} {\n  let field = getField(contextValue, path);\n\n  let spanAdded = false;\n\n  if (!field) {\n    spanAdded = true;\n    const parent = getParentField(contextValue, path);\n\n    field = {\n      parent,\n      span: createResolverSpan(\n        tracer,\n        getConfig,\n        contextValue,\n        info,\n        path,\n        parent.span\n      ),\n      error: null,\n    };\n\n    addField(contextValue, path, field);\n  }\n\n  return { spanAdded, field };\n}\n\nfunction createResolverSpan(\n  tracer: api.Tracer,\n  getConfig: () => GraphQLInstrumentationParsedConfig,\n  contextValue: any,\n  info: graphqlTypes.GraphQLResolveInfo,\n  path: string[],\n  parentSpan?: api.Span\n): api.Span {\n  const attributes: api.SpanAttributes = {\n    [AttributeNames.FIELD_NAME]: info.fieldName,\n    [AttributeNames.FIELD_PATH]: path.join('.'),\n    [AttributeNames.FIELD_TYPE]: info.returnType.toString(),\n  };\n\n  const span = tracer.startSpan(\n    `${SpanNames.RESOLVE} ${attributes[AttributeNames.FIELD_PATH]}`,\n    {\n      attributes,\n    },\n    parentSpan ? api.trace.setSpan(api.context.active(), parentSpan) : undefined\n  );\n\n  const document = contextValue[OTEL_GRAPHQL_DATA_SYMBOL].source;\n  const fieldNode = info.fieldNodes.find(\n    fieldNode => fieldNode.kind === 'Field'\n  );\n\n  if (fieldNode) {\n    addSpanSource(\n      span,\n      document.loc,\n      getConfig().allowValues,\n      fieldNode.loc?.start,\n      fieldNode.loc?.end\n    );\n  }\n\n  return span;\n}\n\nexport function endSpan(span: api.Span, error?: Error): void {\n  if (error) {\n    span.recordException(error);\n  }\n  span.end();\n}\n\nexport function getOperation(\n  document: graphqlTypes.DocumentNode,\n  operationName?: Maybe<string>\n): graphqlTypes.DefinitionNode | undefined {\n  if (!document || !Array.isArray(document.definitions)) {\n    return undefined;\n  }\n\n  if (operationName) {\n    return document.definitions\n      .filter(\n        definition =>\n          OPERATION_VALUES.indexOf((definition as any)?.operation) !== -1\n      )\n      .find(definition => operationName === (definition as any)?.name?.value);\n  } else {\n    return document.definitions.find(\n      definition =>\n        OPERATION_VALUES.indexOf((definition as any)?.operation) !== -1\n    );\n  }\n}\n\nfunction addField(contextValue: any, path: string[], field: GraphQLField) {\n  return (contextValue[OTEL_GRAPHQL_DATA_SYMBOL].fields[path.join('.')] =\n    field);\n}\n\nfunction getField(contextValue: any, path: string[]) {\n  return contextValue[OTEL_GRAPHQL_DATA_SYMBOL].fields[path.join('.')];\n}\n\nfunction getParentField(contextValue: any, path: string[]) {\n  for (let i = path.length - 1; i > 0; i--) {\n    const field = getField(contextValue, path.slice(0, i));\n\n    if (field) {\n      return field;\n    }\n  }\n\n  return {\n    span: contextValue[OTEL_GRAPHQL_DATA_SYMBOL].span,\n  };\n}\n\nfunction pathToArray(mergeItems: boolean, path: GraphQLPath): string[] {\n  const flattened: string[] = [];\n  let curr: GraphQLPath | undefined = path;\n  while (curr) {\n    let key = curr.key;\n\n    if (mergeItems && typeof key === 'number') {\n      key = '*';\n    }\n    flattened.push(String(key));\n    curr = curr.prev;\n  }\n  return flattened.reverse();\n}\n\nfunction repeatBreak(i: number): string {\n  return repeatChar('\\n', i);\n}\n\nfunction repeatSpace(i: number): string {\n  return repeatChar(' ', i);\n}\n\nfunction repeatChar(char: string, to: number): string {\n  let text = '';\n  for (let i = 0; i < to; i++) {\n    text += char;\n  }\n  return text;\n}\n\nconst KindsToBeRemoved: string[] = [\n  TokenKind.FLOAT,\n  TokenKind.STRING,\n  TokenKind.INT,\n  TokenKind.BLOCK_STRING,\n];\n\nexport function getSourceFromLocation(\n  loc?: graphqlTypes.Location,\n  allowValues = false,\n  inputStart?: number,\n  inputEnd?: number\n): string {\n  let source = '';\n\n  if (loc?.startToken) {\n    const start = typeof inputStart === 'number' ? inputStart : loc.start;\n    const end = typeof inputEnd === 'number' ? inputEnd : loc.end;\n\n    let next: graphqlTypes.Token | null = loc.startToken.next;\n    let previousLine: number | undefined = 1;\n    while (next) {\n      if (next.start < start) {\n        next = next.next;\n        previousLine = next?.line;\n        continue;\n      }\n      if (next.end > end) {\n        next = next.next;\n        previousLine = next?.line;\n        continue;\n      }\n      let value = next.value || next.kind;\n      let space = '';\n      if (!allowValues && KindsToBeRemoved.indexOf(next.kind) >= 0) {\n        // value = repeatChar('*', value.length);\n        value = '*';\n      }\n      if (next.kind === TokenKind.STRING) {\n        value = `\"${value}\"`;\n      }\n      if (next.kind === TokenKind.EOF) {\n        value = '';\n      }\n      if (next.line > previousLine!) {\n        source += repeatBreak(next.line - previousLine!);\n        previousLine = next.line;\n        space = repeatSpace(next.column - 1);\n      } else {\n        if (next.line === next.prev?.line) {\n          space = repeatSpace(next.start - (next.prev?.end || 0));\n        }\n      }\n      source += space + value;\n      if (next) {\n        next = next.next!;\n      }\n    }\n  }\n\n  return source;\n}\n\nexport function wrapFields(\n  type: Maybe<graphqlTypes.GraphQLObjectType & OtelPatched>,\n  tracer: api.Tracer,\n  getConfig: () => GraphQLInstrumentationParsedConfig\n): void {\n  if (\n    !type ||\n    typeof type.getFields !== 'function' ||\n    type[OTEL_PATCHED_SYMBOL]\n  ) {\n    return;\n  }\n  const fields = type.getFields();\n\n  type[OTEL_PATCHED_SYMBOL] = true;\n\n  Object.keys(fields).forEach(key => {\n    const field = fields[key];\n\n    if (!field) {\n      return;\n    }\n\n    if (field.resolve) {\n      field.resolve = wrapFieldResolver(tracer, getConfig, field.resolve);\n    }\n\n    if (field.type) {\n      let unwrappedType: any = field.type;\n\n      while (unwrappedType.ofType) {\n        unwrappedType = unwrappedType.ofType;\n      }\n      wrapFields(unwrappedType, tracer, getConfig);\n    }\n  });\n}\n\nconst handleResolveSpanError = (\n  resolveSpan: api.Span,\n  err: any,\n  shouldEndSpan: boolean\n) => {\n  if (!shouldEndSpan) {\n    return;\n  }\n  resolveSpan.recordException(err);\n  resolveSpan.setStatus({\n    code: api.SpanStatusCode.ERROR,\n    message: err.message,\n  });\n  resolveSpan.end();\n};\n\nconst handleResolveSpanSuccess = (\n  resolveSpan: api.Span,\n  shouldEndSpan: boolean\n) => {\n  if (!shouldEndSpan) {\n    return;\n  }\n  resolveSpan.end();\n};\n\nexport function wrapFieldResolver<TSource = any, TContext = any, TArgs = any>(\n  tracer: api.Tracer,\n  getConfig: () => GraphQLInstrumentationParsedConfig,\n  fieldResolver: Maybe<\n    graphqlTypes.GraphQLFieldResolver<TSource, TContext, TArgs> & OtelPatched\n  >,\n  isDefaultResolver = false\n): graphqlTypes.GraphQLFieldResolver<\n  TSource,\n  TContext & ObjectWithGraphQLData,\n  TArgs\n> &\n  OtelPatched {\n  if (\n    (wrappedFieldResolver as OtelPatched)[OTEL_PATCHED_SYMBOL] ||\n    typeof fieldResolver !== 'function'\n  ) {\n    return fieldResolver!;\n  }\n\n  function wrappedFieldResolver(\n    this: graphqlTypes.GraphQLFieldResolver<TSource, TContext, TArgs>,\n    source: TSource,\n    args: TArgs,\n    contextValue: TContext & ObjectWithGraphQLData,\n    info: graphqlTypes.GraphQLResolveInfo\n  ) {\n    if (!fieldResolver) {\n      return undefined;\n    }\n    const config = getConfig();\n\n    // follows what graphql is doing to decide if this is a trivial resolver\n    // for which we don't need to create a resolve span\n    if (\n      config.ignoreTrivialResolveSpans &&\n      isDefaultResolver &&\n      (isObjectLike(source) || typeof source === 'function')\n    ) {\n      const property = (source as any)[info.fieldName];\n      // a function execution is not trivial and should be recorder.\n      // property which is not a function is just a value and we don't want a \"resolve\" span for it\n      if (typeof property !== 'function') {\n        return fieldResolver.call(this, source, args, contextValue, info);\n      }\n    }\n\n    if (!contextValue[OTEL_GRAPHQL_DATA_SYMBOL]) {\n      return fieldResolver.call(this, source, args, contextValue, info);\n    }\n    const path = pathToArray(config.mergeItems, info && info.path);\n    const depth = path.filter((item: any) => typeof item === 'string').length;\n\n    let field: any;\n    let shouldEndSpan = false;\n    if (config.depth >= 0 && config.depth < depth) {\n      field = getParentField(contextValue, path);\n    } else {\n      const newField = createFieldIfNotExists(\n        tracer,\n        getConfig,\n        contextValue,\n        info,\n        path\n      );\n      field = newField.field;\n      shouldEndSpan = newField.spanAdded;\n    }\n\n    return api.context.with(\n      api.trace.setSpan(api.context.active(), field.span),\n      () => {\n        try {\n          const res = fieldResolver.call(\n            this,\n            source,\n            args,\n            contextValue,\n            info\n          );\n          if (isPromise(res)) {\n            return res.then(\n              (r: any) => {\n                handleResolveSpanSuccess(field.span, shouldEndSpan);\n                return r;\n              },\n              (err: Error) => {\n                handleResolveSpanError(field.span, err, shouldEndSpan);\n                throw err;\n              }\n            );\n          } else {\n            handleResolveSpanSuccess(field.span, shouldEndSpan);\n            return res;\n          }\n        } catch (err: any) {\n          handleResolveSpanError(field.span, err, shouldEndSpan);\n          throw err;\n        }\n      }\n    );\n  }\n\n  (wrappedFieldResolver as OtelPatched)[OTEL_PATCHED_SYMBOL] = true;\n\n  return wrappedFieldResolver;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 14887, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14891, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.47.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-graphql';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 14913, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14917, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { context, trace } from '@opentelemetry/api';\nimport {\n  isWrapped,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport type * as graphqlTypes from 'graphql';\nimport { SpanNames } from './enum';\nimport { AttributeNames } from './enums/AttributeNames';\nimport { OTEL_GRAPHQL_DATA_SYMBOL } from './symbols';\n\nimport {\n  executeFunctionWithObj,\n  executeArgumentsArray,\n  executeType,\n  parseType,\n  validateType,\n  OtelExecutionArgs,\n  ObjectWithGraphQLData,\n  OPERATION_NOT_SUPPORTED,\n  Maybe,\n} from './internal-types';\nimport {\n  addInputVariableAttributes,\n  addSpanSource,\n  endSpan,\n  getOperation,\n  isPromise,\n  wrapFieldResolver,\n  wrapFields,\n} from './utils';\n\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport * as api from '@opentelemetry/api';\nimport type { PromiseOrValue } from 'graphql/jsutils/PromiseOrValue';\nimport {\n  GraphQLInstrumentationConfig,\n  GraphQLInstrumentationParsedConfig,\n} from './types';\n\nconst DEFAULT_CONFIG: GraphQLInstrumentationParsedConfig = {\n  mergeItems: false,\n  depth: -1,\n  allowValues: false,\n  ignoreResolveSpans: false,\n};\n\nconst supportedVersions = ['>=14.0.0 <17'];\n\nexport class GraphQLInstrumentation extends InstrumentationBase<GraphQLInstrumentationParsedConfig> {\n  constructor(config: GraphQLInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, { ...DEFAULT_CONFIG, ...config });\n  }\n\n  override setConfig(config: GraphQLInstrumentationConfig = {}) {\n    super.setConfig({ ...DEFAULT_CONFIG, ...config });\n  }\n\n  protected init() {\n    const module = new InstrumentationNodeModuleDefinition(\n      'graphql',\n      supportedVersions\n    );\n    module.files.push(this._addPatchingExecute());\n    module.files.push(this._addPatchingParser());\n    module.files.push(this._addPatchingValidate());\n\n    return module;\n  }\n\n  private _addPatchingExecute(): InstrumentationNodeModuleFile {\n    return new InstrumentationNodeModuleFile(\n      'graphql/execution/execute.js',\n      supportedVersions,\n      // cannot make it work with appropriate type as execute function has 2\n      //types and/cannot import function but only types\n      (moduleExports: any) => {\n        if (isWrapped(moduleExports.execute)) {\n          this._unwrap(moduleExports, 'execute');\n        }\n        this._wrap(\n          moduleExports,\n          'execute',\n          this._patchExecute(moduleExports.defaultFieldResolver)\n        );\n        return moduleExports;\n      },\n      moduleExports => {\n        if (moduleExports) {\n          this._unwrap(moduleExports, 'execute');\n        }\n      }\n    );\n  }\n\n  private _addPatchingParser(): InstrumentationNodeModuleFile {\n    return new InstrumentationNodeModuleFile(\n      'graphql/language/parser.js',\n      supportedVersions,\n      (moduleExports: typeof graphqlTypes) => {\n        if (isWrapped(moduleExports.parse)) {\n          this._unwrap(moduleExports, 'parse');\n        }\n        this._wrap(moduleExports, 'parse', this._patchParse());\n        return moduleExports;\n      },\n      (moduleExports: typeof graphqlTypes) => {\n        if (moduleExports) {\n          this._unwrap(moduleExports, 'parse');\n        }\n      }\n    );\n  }\n\n  private _addPatchingValidate(): InstrumentationNodeModuleFile {\n    return new InstrumentationNodeModuleFile(\n      'graphql/validation/validate.js',\n      supportedVersions,\n      moduleExports => {\n        if (isWrapped(moduleExports.validate)) {\n          this._unwrap(moduleExports, 'validate');\n        }\n        this._wrap(moduleExports, 'validate', this._patchValidate());\n        return moduleExports;\n      },\n      moduleExports => {\n        if (moduleExports) {\n          this._unwrap(moduleExports, 'validate');\n        }\n      }\n    );\n  }\n\n  private _patchExecute(\n    defaultFieldResolved: graphqlTypes.GraphQLFieldResolver<any, any>\n  ): (original: executeType) => executeType {\n    const instrumentation = this;\n    return function execute(original) {\n      return function patchExecute(\n        this: executeType\n      ): PromiseOrValue<graphqlTypes.ExecutionResult> {\n        let processedArgs: OtelExecutionArgs;\n\n        // case when apollo server is used for example\n        if (arguments.length >= 2) {\n          const args = arguments as unknown as executeArgumentsArray;\n          processedArgs = instrumentation._wrapExecuteArgs(\n            args[0],\n            args[1],\n            args[2],\n            args[3],\n            args[4],\n            args[5],\n            args[6],\n            args[7],\n            defaultFieldResolved\n          );\n        } else {\n          const args = arguments[0] as graphqlTypes.ExecutionArgs;\n          processedArgs = instrumentation._wrapExecuteArgs(\n            args.schema,\n            args.document,\n            args.rootValue,\n            args.contextValue,\n            args.variableValues,\n            args.operationName,\n            args.fieldResolver,\n            args.typeResolver,\n            defaultFieldResolved\n          );\n        }\n\n        const operation = getOperation(\n          processedArgs.document,\n          processedArgs.operationName\n        );\n\n        const span = instrumentation._createExecuteSpan(\n          operation,\n          processedArgs\n        );\n\n        processedArgs.contextValue[OTEL_GRAPHQL_DATA_SYMBOL] = {\n          source: processedArgs.document\n            ? processedArgs.document ||\n              (processedArgs.document as ObjectWithGraphQLData)[\n                OTEL_GRAPHQL_DATA_SYMBOL\n              ]\n            : undefined,\n          span,\n          fields: {},\n        };\n\n        return context.with(trace.setSpan(context.active(), span), () => {\n          return safeExecuteInTheMiddle<\n            PromiseOrValue<graphqlTypes.ExecutionResult>\n          >(\n            () => {\n              return (original as executeFunctionWithObj).apply(this, [\n                processedArgs,\n              ]);\n            },\n            (err, result) => {\n              instrumentation._handleExecutionResult(span, err, result);\n            }\n          );\n        });\n      };\n    };\n  }\n\n  private _handleExecutionResult(\n    span: api.Span,\n    err?: Error,\n    result?: PromiseOrValue<graphqlTypes.ExecutionResult>\n  ) {\n    const config = this.getConfig();\n    if (result === undefined || err) {\n      endSpan(span, err);\n      return;\n    }\n\n    if (isPromise(result)) {\n      (result as Promise<graphqlTypes.ExecutionResult>).then(\n        resultData => {\n          if (typeof config.responseHook !== 'function') {\n            endSpan(span);\n            return;\n          }\n          this._executeResponseHook(span, resultData);\n        },\n        error => {\n          endSpan(span, error);\n        }\n      );\n    } else {\n      if (typeof config.responseHook !== 'function') {\n        endSpan(span);\n        return;\n      }\n      this._executeResponseHook(span, result as graphqlTypes.ExecutionResult);\n    }\n  }\n\n  private _executeResponseHook(\n    span: api.Span,\n    result: graphqlTypes.ExecutionResult\n  ) {\n    const { responseHook } = this.getConfig();\n    if (!responseHook) {\n      return;\n    }\n\n    safeExecuteInTheMiddle(\n      () => {\n        responseHook(span, result);\n      },\n      err => {\n        if (err) {\n          this._diag.error('Error running response hook', err);\n        }\n\n        endSpan(span, undefined);\n      },\n      true\n    );\n  }\n\n  private _patchParse(): (original: parseType) => parseType {\n    const instrumentation = this;\n    return function parse(original) {\n      return function patchParse(\n        this: parseType,\n        source: string | graphqlTypes.Source,\n        options?: graphqlTypes.ParseOptions\n      ): graphqlTypes.DocumentNode {\n        return instrumentation._parse(this, original, source, options);\n      };\n    };\n  }\n\n  private _patchValidate(): (original: validateType) => validateType {\n    const instrumentation = this;\n    return function validate(original: validateType) {\n      return function patchValidate(\n        this: validateType,\n        schema: graphqlTypes.GraphQLSchema,\n        documentAST: graphqlTypes.DocumentNode,\n        rules?: ReadonlyArray<graphqlTypes.ValidationRule>,\n        options?: { maxErrors?: number },\n        typeInfo?: graphqlTypes.TypeInfo\n      ): ReadonlyArray<graphqlTypes.GraphQLError> {\n        return instrumentation._validate(\n          this,\n          original,\n          schema,\n          documentAST,\n          rules,\n          typeInfo,\n          options\n        );\n      };\n    };\n  }\n\n  private _parse(\n    obj: parseType,\n    original: parseType,\n    source: string | graphqlTypes.Source,\n    options?: graphqlTypes.ParseOptions\n  ): graphqlTypes.DocumentNode {\n    const config = this.getConfig();\n    const span = this.tracer.startSpan(SpanNames.PARSE);\n\n    return context.with(trace.setSpan(context.active(), span), () => {\n      return safeExecuteInTheMiddle<\n        graphqlTypes.DocumentNode & ObjectWithGraphQLData\n      >(\n        () => {\n          return original.call(obj, source, options);\n        },\n        (err, result) => {\n          if (result) {\n            const operation = getOperation(result);\n            if (!operation) {\n              span.updateName(SpanNames.SCHEMA_PARSE);\n            } else if (result.loc) {\n              addSpanSource(span, result.loc, config.allowValues);\n            }\n          }\n          endSpan(span, err);\n        }\n      );\n    });\n  }\n\n  private _validate(\n    obj: validateType,\n    original: validateType,\n    schema: graphqlTypes.GraphQLSchema,\n    documentAST: graphqlTypes.DocumentNode,\n    rules?: ReadonlyArray<graphqlTypes.ValidationRule>,\n    typeInfo?: graphqlTypes.TypeInfo,\n    options?: { maxErrors?: number }\n  ): ReadonlyArray<graphqlTypes.GraphQLError> {\n    const span = this.tracer.startSpan(SpanNames.VALIDATE, {});\n\n    return context.with(trace.setSpan(context.active(), span), () => {\n      return safeExecuteInTheMiddle<ReadonlyArray<graphqlTypes.GraphQLError>>(\n        () => {\n          return original.call(\n            obj,\n            schema,\n            documentAST,\n            rules,\n            options,\n            typeInfo\n          );\n        },\n        (err, errors) => {\n          if (!documentAST.loc) {\n            span.updateName(SpanNames.SCHEMA_VALIDATE);\n          }\n          if (errors && errors.length) {\n            span.recordException({\n              name: AttributeNames.ERROR_VALIDATION_NAME,\n              message: JSON.stringify(errors),\n            });\n          }\n          endSpan(span, err);\n        }\n      );\n    });\n  }\n\n  private _createExecuteSpan(\n    operation: graphqlTypes.DefinitionNode | undefined,\n    processedArgs: graphqlTypes.ExecutionArgs\n  ): api.Span {\n    const config = this.getConfig();\n\n    const span = this.tracer.startSpan(SpanNames.EXECUTE, {});\n    if (operation) {\n      const { operation: operationType, name: nameNode } =\n        operation as graphqlTypes.OperationDefinitionNode;\n\n      span.setAttribute(AttributeNames.OPERATION_TYPE, operationType);\n\n      const operationName = nameNode?.value;\n\n      // https://opentelemetry.io/docs/reference/specification/trace/semantic_conventions/instrumentation/graphql/\n      // > The span name MUST be of the format <graphql.operation.type> <graphql.operation.name> provided that graphql.operation.type and graphql.operation.name are available.\n      // > If graphql.operation.name is not available, the span SHOULD be named <graphql.operation.type>.\n      if (operationName) {\n        span.setAttribute(AttributeNames.OPERATION_NAME, operationName);\n        span.updateName(`${operationType} ${operationName}`);\n      } else {\n        span.updateName(operationType);\n      }\n    } else {\n      let operationName = ' ';\n      if (processedArgs.operationName) {\n        operationName = ` \"${processedArgs.operationName}\" `;\n      }\n      operationName = OPERATION_NOT_SUPPORTED.replace(\n        '$operationName$',\n        operationName\n      );\n      span.setAttribute(AttributeNames.OPERATION_NAME, operationName);\n    }\n\n    if (processedArgs.document?.loc) {\n      addSpanSource(span, processedArgs.document.loc, config.allowValues);\n    }\n\n    if (processedArgs.variableValues && config.allowValues) {\n      addInputVariableAttributes(span, processedArgs.variableValues);\n    }\n\n    return span;\n  }\n\n  private _wrapExecuteArgs(\n    schema: graphqlTypes.GraphQLSchema,\n    document: graphqlTypes.DocumentNode,\n    rootValue: any,\n    contextValue: any,\n    variableValues: Maybe<{ [key: string]: any }>,\n    operationName: Maybe<string>,\n    fieldResolver: Maybe<graphqlTypes.GraphQLFieldResolver<any, any>>,\n    typeResolver: Maybe<graphqlTypes.GraphQLTypeResolver<any, any>>,\n    defaultFieldResolved: graphqlTypes.GraphQLFieldResolver<any, any>\n  ): OtelExecutionArgs {\n    if (!contextValue) {\n      contextValue = {};\n    }\n\n    if (\n      contextValue[OTEL_GRAPHQL_DATA_SYMBOL] ||\n      this.getConfig().ignoreResolveSpans\n    ) {\n      return {\n        schema,\n        document,\n        rootValue,\n        contextValue,\n        variableValues,\n        operationName,\n        fieldResolver,\n        typeResolver,\n      };\n    }\n\n    const isUsingDefaultResolver = fieldResolver == null;\n    // follows graphql implementation here:\n    // https://github.com/graphql/graphql-js/blob/0b7daed9811731362c71900e12e5ea0d1ecc7f1f/src/execution/execute.ts#L494\n    const fieldResolverForExecute = fieldResolver ?? defaultFieldResolved;\n    fieldResolver = wrapFieldResolver(\n      this.tracer,\n      () => this.getConfig(),\n      fieldResolverForExecute,\n      isUsingDefaultResolver\n    );\n\n    if (schema) {\n      wrapFields(schema.getQueryType(), this.tracer, () => this.getConfig());\n      wrapFields(schema.getMutationType(), this.tracer, () => this.getConfig());\n    }\n\n    return {\n      schema,\n      document,\n      rootValue,\n      contextValue,\n      variableValues,\n      operationName,\n      fieldResolver,\n      typeResolver,\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 15203, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15207, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport type * as api from '@opentelemetry/api';\n\nexport interface GraphQLInstrumentationExecutionResponseHook {\n  (span: api.Span, data: any): void;\n}\n\nexport interface GraphQLInstrumentationConfig extends InstrumentationConfig {\n  /**\n   * When set to true it will not remove attributes values from schema source.\n   * By default all values that can be sensitive are removed and replaced\n   * with \"*\"\n   *\n   * @default false\n   */\n  allowValues?: boolean;\n\n  /**\n   * The maximum depth of fields/resolvers to instrument.\n   * When set to 0 it will not instrument fields and resolvers\n   *\n   * @default undefined\n   */\n  depth?: number;\n\n  /**\n   * Do not create spans for resolvers.\n   *\n   * @default false\n   */\n  ignoreResolveSpans?: boolean;\n\n  /**\n   * Don't create spans for the execution of the default resolver on object properties.\n   *\n   * When a resolver function is not defined on the schema for a field, graphql will\n   * use the default resolver which just looks for a property with that name on the object.\n   * If the property is not a function, it's not very interesting to trace.\n   * This option can reduce noise and number of spans created.\n   *\n   * @default false\n   */\n  ignoreTrivialResolveSpans?: boolean;\n\n  /**\n   * Whether to merge list items into a single element.\n   *\n   * @example `users.*.name` instead of `users.0.name`, `users.1.name`\n   *\n   * @default false\n   */\n  mergeItems?: boolean;\n\n  /**\n   * Hook that allows adding custom span attributes based on the data\n   * returned from \"execute\" GraphQL action.\n   *\n   * @param data - A GraphQL `ExecutionResult` object. For the exact type definitions, see the following:\n   *  - {@linkcode https://github.com/graphql/graphql-js/blob/v14.7.0/src/execution/execute.js#L115 graphql@14}\n   *  - {@linkcode https://github.com/graphql/graphql-js/blob/15.x.x/src/execution/execute.d.ts#L31 graphql@15}\n   *  - {@linkcode https://github.com/graphql/graphql-js/blob/16.x.x/src/execution/execute.ts#L127 graphql@16}\n   *\n   * @default undefined\n   */\n  responseHook?: GraphQLInstrumentationExecutionResponseHook;\n}\n\n// Utility type to make specific properties required\ntype RequireSpecificKeys<T, K extends keyof T> = T & { [P in K]-?: T[P] };\n\n// Merged and parsed config of default instrumentation config and GraphQL\nexport type GraphQLInstrumentationParsedConfig = RequireSpecificKeys<\n  GraphQLInstrumentationConfig,\n  'mergeItems' | 'depth' | 'allowValues' | 'ignoreResolveSpans'\n>;\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 15225, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15229, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_78eae6560d4756672b05d1fa6e0fe75e/node_modules/@opentelemetry/instrumentation-graphql/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,yOAAA;AACA,+NAAA"}},
    {"offset": {"line": 15264, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15268, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_07987bfedf5e473b1577c47ff4ed3ae6/node_modules/@opentelemetry/instrumentation-kafkajs/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.7.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-kafkajs';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 15290, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15294, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_07987bfedf5e473b1577c47ff4ed3ae6/node_modules/@opentelemetry/instrumentation-kafkajs/src/propagator.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors, Aspecto\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TextMapGetter } from '@opentelemetry/api';\n\n/*\nsame as open telemetry's `defaultTextMapGetter`,\nbut also handle case where header is buffer,\nadding toString() to make sure string is returned\n*/\nexport const bufferTextMapGetter: TextMapGetter = {\n  get(carrier, key) {\n    if (!carrier) {\n      return undefined;\n    }\n\n    const keys = Object.keys(carrier);\n\n    for (const carrierKey of keys) {\n      if (carrierKey === key || carrierKey.toLowerCase() === key) {\n        return carrier[carrierKey]?.toString();\n      }\n    }\n\n    return undefined;\n  },\n\n  keys(carrier) {\n    return carrier ? Object.keys(carrier) : [];\n  },\n};\n"],"names":[],"mappings":";;;;;AAiBA;;;;GAKa,QAAA,mBAAmB,GAAkB;IAChD,KAAI,OAAO,EAAE,GAAG;;QACd,IAAI,CAAC,SAAS;YACZ,OAAO;;QAGT,MAAM,OAAO,OAAO,IAAI,CAAC;QAEzB,KAAK,MAAM,cAAc,KAAM;YAC7B,IAAI,eAAe,OAAO,WAAW,WAAW,OAAO,KAAK;gBAC1D,OAAO,CAAA,KAAA,OAAO,CAAC,WAAW,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,QAAQ;;;QAIxC,OAAO;IACT;IAEA,MAAK,OAAO;QACV,OAAO,UAAU,OAAO,IAAI,CAAC,WAAW,EAAE;IAC5C"}},
    {"offset": {"line": 15321, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15325, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_07987bfedf5e473b1577c47ff4ed3ae6/node_modules/@opentelemetry/instrumentation-kafkajs/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors, Aspecto\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  SpanKind,\n  Span,\n  SpanStatusCode,\n  Context,\n  propagation,\n  Link,\n  trace,\n  context,\n  ROOT_CONTEXT,\n} from '@opentelemetry/api';\nimport {\n  MESSAGINGOPERATIONVALUES_PROCESS,\n  MESSAGINGOPERATIONVALUES_RECEIVE,\n  SEMATTRS_MESSAGING_SYSTEM,\n  SEMATTRS_MESSAGING_DESTINATION,\n  SEMATTRS_MESSAGING_OPERATION,\n} from '@opentelemetry/semantic-conventions';\nimport type * as kafkaJs from 'kafkajs';\nimport type {\n  EachBatchHandler,\n  EachMessageHandler,\n  Producer,\n  RecordMetadata,\n  Message,\n  ConsumerRunConfig,\n  KafkaMessage,\n  Consumer,\n} from 'kafkajs';\nimport { KafkaJsInstrumentationConfig } from './types';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport { bufferTextMapGetter } from './propagator';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  safeExecuteInTheMiddle,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\n\nexport class KafkaJsInstrumentation extends InstrumentationBase<KafkaJsInstrumentationConfig> {\n  constructor(config: KafkaJsInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  protected init() {\n    const unpatch = (moduleExports: typeof kafkaJs) => {\n      if (isWrapped(moduleExports?.Kafka?.prototype.producer)) {\n        this._unwrap(moduleExports.Kafka.prototype, 'producer');\n      }\n      if (isWrapped(moduleExports?.Kafka?.prototype.consumer)) {\n        this._unwrap(moduleExports.Kafka.prototype, 'consumer');\n      }\n    };\n\n    const module = new InstrumentationNodeModuleDefinition(\n      'kafkajs',\n      ['>=0.1.0 <3'],\n      (moduleExports: typeof kafkaJs) => {\n        unpatch(moduleExports);\n        this._wrap(\n          moduleExports?.Kafka?.prototype,\n          'producer',\n          this._getProducerPatch()\n        );\n        this._wrap(\n          moduleExports?.Kafka?.prototype,\n          'consumer',\n          this._getConsumerPatch()\n        );\n\n        return moduleExports;\n      },\n      unpatch\n    );\n    return module;\n  }\n\n  private _getConsumerPatch() {\n    const instrumentation = this;\n    return (original: kafkaJs.Kafka['consumer']) => {\n      return function consumer(\n        this: kafkaJs.Kafka,\n        ...args: Parameters<kafkaJs.Kafka['consumer']>\n      ) {\n        const newConsumer: Consumer = original.apply(this, args);\n\n        if (isWrapped(newConsumer.run)) {\n          instrumentation._unwrap(newConsumer, 'run');\n        }\n\n        instrumentation._wrap(\n          newConsumer,\n          'run',\n          instrumentation._getConsumerRunPatch()\n        );\n\n        return newConsumer;\n      };\n    };\n  }\n\n  private _getProducerPatch() {\n    const instrumentation = this;\n    return (original: kafkaJs.Kafka['producer']) => {\n      return function consumer(\n        this: kafkaJs.Kafka,\n        ...args: Parameters<kafkaJs.Kafka['producer']>\n      ) {\n        const newProducer: Producer = original.apply(this, args);\n\n        if (isWrapped(newProducer.sendBatch)) {\n          instrumentation._unwrap(newProducer, 'sendBatch');\n        }\n        instrumentation._wrap(\n          newProducer,\n          'sendBatch',\n          instrumentation._getProducerSendBatchPatch()\n        );\n\n        if (isWrapped(newProducer.send)) {\n          instrumentation._unwrap(newProducer, 'send');\n        }\n        instrumentation._wrap(\n          newProducer,\n          'send',\n          instrumentation._getProducerSendPatch()\n        );\n\n        return newProducer;\n      };\n    };\n  }\n\n  private _getConsumerRunPatch() {\n    const instrumentation = this;\n    return (original: Consumer['run']) => {\n      return function run(\n        this: Consumer,\n        ...args: Parameters<Consumer['run']>\n      ): ReturnType<Consumer['run']> {\n        const config = args[0];\n        if (config?.eachMessage) {\n          if (isWrapped(config.eachMessage)) {\n            instrumentation._unwrap(config, 'eachMessage');\n          }\n          instrumentation._wrap(\n            config,\n            'eachMessage',\n            instrumentation._getConsumerEachMessagePatch()\n          );\n        }\n        if (config?.eachBatch) {\n          if (isWrapped(config.eachBatch)) {\n            instrumentation._unwrap(config, 'eachBatch');\n          }\n          instrumentation._wrap(\n            config,\n            'eachBatch',\n            instrumentation._getConsumerEachBatchPatch()\n          );\n        }\n        return original.call(this, config);\n      };\n    };\n  }\n\n  private _getConsumerEachMessagePatch() {\n    const instrumentation = this;\n    return (original: ConsumerRunConfig['eachMessage']) => {\n      return function eachMessage(\n        this: unknown,\n        ...args: Parameters<EachMessageHandler>\n      ): Promise<void> {\n        const payload = args[0];\n        const propagatedContext: Context = propagation.extract(\n          ROOT_CONTEXT,\n          payload.message.headers,\n          bufferTextMapGetter\n        );\n        const span = instrumentation._startConsumerSpan(\n          payload.topic,\n          payload.message,\n          MESSAGINGOPERATIONVALUES_PROCESS,\n          propagatedContext\n        );\n\n        const eachMessagePromise = context.with(\n          trace.setSpan(propagatedContext, span),\n          () => {\n            return original!.apply(this, args);\n          }\n        );\n        return instrumentation._endSpansOnPromise([span], eachMessagePromise);\n      };\n    };\n  }\n\n  private _getConsumerEachBatchPatch() {\n    return (original: ConsumerRunConfig['eachBatch']) => {\n      const instrumentation = this;\n      return function eachBatch(\n        this: unknown,\n        ...args: Parameters<EachBatchHandler>\n      ): Promise<void> {\n        const payload = args[0];\n        // https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/semantic_conventions/messaging.md#topic-with-multiple-consumers\n        const receivingSpan = instrumentation._startConsumerSpan(\n          payload.batch.topic,\n          undefined,\n          MESSAGINGOPERATIONVALUES_RECEIVE,\n          ROOT_CONTEXT\n        );\n        return context.with(\n          trace.setSpan(context.active(), receivingSpan),\n          () => {\n            const spans = payload.batch.messages.map(\n              (message: KafkaMessage) => {\n                const propagatedContext: Context = propagation.extract(\n                  ROOT_CONTEXT,\n                  message.headers,\n                  bufferTextMapGetter\n                );\n                const spanContext = trace\n                  .getSpan(propagatedContext)\n                  ?.spanContext();\n                let origSpanLink: Link | undefined;\n                if (spanContext) {\n                  origSpanLink = {\n                    context: spanContext,\n                  };\n                }\n                return instrumentation._startConsumerSpan(\n                  payload.batch.topic,\n                  message,\n                  MESSAGINGOPERATIONVALUES_PROCESS,\n                  undefined,\n                  origSpanLink\n                );\n              }\n            );\n            const batchMessagePromise: Promise<void> = original!.apply(\n              this,\n              args\n            );\n            spans.unshift(receivingSpan);\n            return instrumentation._endSpansOnPromise(\n              spans,\n              batchMessagePromise\n            );\n          }\n        );\n      };\n    };\n  }\n\n  private _getProducerSendBatchPatch() {\n    const instrumentation = this;\n    return (original: Producer['sendBatch']) => {\n      return function sendBatch(\n        this: Producer,\n        ...args: Parameters<Producer['sendBatch']>\n      ): ReturnType<Producer['sendBatch']> {\n        const batch = args[0];\n        const messages = batch.topicMessages || [];\n        const spans: Span[] = messages\n          .map(topicMessage =>\n            topicMessage.messages.map(message =>\n              instrumentation._startProducerSpan(topicMessage.topic, message)\n            )\n          )\n          .reduce((acc, val) => acc.concat(val), []);\n\n        const origSendResult: Promise<RecordMetadata[]> = original.apply(\n          this,\n          args\n        );\n        return instrumentation._endSpansOnPromise(spans, origSendResult);\n      };\n    };\n  }\n\n  private _getProducerSendPatch() {\n    const instrumentation = this;\n    return (original: Producer['send']) => {\n      return function send(\n        this: Producer,\n        ...args: Parameters<Producer['send']>\n      ): ReturnType<Producer['send']> {\n        const record = args[0];\n        const spans: Span[] = record.messages.map(message => {\n          return instrumentation._startProducerSpan(record.topic, message);\n        });\n\n        const origSendResult: Promise<RecordMetadata[]> = original.apply(\n          this,\n          args\n        );\n        return instrumentation._endSpansOnPromise(spans, origSendResult);\n      };\n    };\n  }\n\n  private _endSpansOnPromise<T>(\n    spans: Span[],\n    sendPromise: Promise<T>\n  ): Promise<T> {\n    return Promise.resolve(sendPromise)\n      .catch(reason => {\n        let errorMessage: string;\n        if (typeof reason === 'string') errorMessage = reason;\n        else if (\n          typeof reason === 'object' &&\n          Object.prototype.hasOwnProperty.call(reason, 'message')\n        )\n          errorMessage = reason.message;\n\n        spans.forEach(span =>\n          span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: errorMessage,\n          })\n        );\n\n        throw reason;\n      })\n      .finally(() => {\n        spans.forEach(span => span.end());\n      });\n  }\n\n  private _startConsumerSpan(\n    topic: string,\n    message: KafkaMessage | undefined,\n    operation: string,\n    context: Context | undefined,\n    link?: Link\n  ) {\n    const span = this.tracer.startSpan(\n      topic,\n      {\n        kind: SpanKind.CONSUMER,\n        attributes: {\n          [SEMATTRS_MESSAGING_SYSTEM]: 'kafka',\n          [SEMATTRS_MESSAGING_DESTINATION]: topic,\n          [SEMATTRS_MESSAGING_OPERATION]: operation,\n        },\n        links: link ? [link] : [],\n      },\n      context\n    );\n\n    const { consumerHook } = this.getConfig();\n    if (consumerHook && message) {\n      safeExecuteInTheMiddle(\n        () => consumerHook(span, { topic, message }),\n        e => {\n          if (e) this._diag.error('consumerHook error', e);\n        },\n        true\n      );\n    }\n\n    return span;\n  }\n\n  private _startProducerSpan(topic: string, message: Message) {\n    const span = this.tracer.startSpan(topic, {\n      kind: SpanKind.PRODUCER,\n      attributes: {\n        [SEMATTRS_MESSAGING_SYSTEM]: 'kafka',\n        [SEMATTRS_MESSAGING_DESTINATION]: topic,\n      },\n    });\n\n    message.headers = message.headers ?? {};\n    propagation.inject(trace.setSpan(context.active(), span), message.headers);\n\n    const { producerHook } = this.getConfig();\n    if (producerHook) {\n      safeExecuteInTheMiddle(\n        () => producerHook(span, { topic, message }),\n        e => {\n          if (e) this._diag.error('producerHook error', e);\n        },\n        true\n      );\n    }\n\n    return span;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 15554, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15558, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_07987bfedf5e473b1577c47ff4ed3ae6/node_modules/@opentelemetry/instrumentation-kafkajs/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors, Aspecto\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Span } from '@opentelemetry/api';\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport interface KafkajsMessage {\n  key?: Buffer | string | null;\n  value: Buffer | string | null;\n  partition?: number;\n  headers?: Record<string, Buffer | string | (Buffer | string)[] | undefined>;\n  timestamp?: string;\n}\n\nexport interface MessageInfo<T = KafkajsMessage> {\n  topic: string;\n  message: T;\n}\n\nexport interface KafkaProducerCustomAttributeFunction<T = KafkajsMessage> {\n  (span: Span, info: MessageInfo<T>): void;\n}\n\nexport interface KafkaConsumerCustomAttributeFunction<T = KafkajsMessage> {\n  (span: Span, info: MessageInfo<T>): void;\n}\n\nexport interface KafkaJsInstrumentationConfig extends InstrumentationConfig {\n  /** hook for adding custom attributes before producer message is sent */\n  producerHook?: KafkaProducerCustomAttributeFunction;\n\n  /** hook for adding custom attributes before consumer message is processed */\n  consumerHook?: KafkaConsumerCustomAttributeFunction;\n}\n"],"names":[],"mappings":""}},
    {"offset": {"line": 15562, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15566, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_07987bfedf5e473b1577c47ff4ed3ae6/node_modules/@opentelemetry/instrumentation-kafkajs/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors, Aspecto\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,yOAAA;AACA,+NAAA"}},
    {"offset": {"line": 15601, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15605, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_3fc2450a96c8456857843b273a02340c/node_modules/@opentelemetry/instrumentation-lru-memoizer/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.44.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-lru-memoizer';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 15627, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15631, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_3fc2450a96c8456857843b273a02340c/node_modules/@opentelemetry/instrumentation-lru-memoizer/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { context } from '@opentelemetry/api';\nimport {\n  InstrumentationBase,\n  InstrumentationConfig,\n  InstrumentationNodeModuleDefinition,\n} from '@opentelemetry/instrumentation';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\n\nexport class LruMemoizerInstrumentation extends InstrumentationBase {\n  constructor(config: InstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  init(): InstrumentationNodeModuleDefinition[] {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'lru-memoizer',\n        ['>=1.3 <3'],\n        moduleExports => {\n          // moduleExports is a function which receives an options object,\n          // and returns a \"memoizer\" function upon invocation.\n          // We want to patch this \"memoizer's\" internal function\n          const asyncMemoizer = function (this: unknown) {\n            // This following function is invoked every time the user wants to get a (possible) memoized value\n            // We replace it with another function in which we bind the current context to the last argument (callback)\n            const origMemoizer = moduleExports.apply(this, arguments);\n            return function (this: unknown) {\n              const modifiedArguments = [...arguments];\n              // last argument is the callback\n              const origCallback = modifiedArguments.pop();\n              const callbackWithContext =\n                typeof origCallback === 'function'\n                  ? context.bind(context.active(), origCallback)\n                  : origCallback;\n              modifiedArguments.push(callbackWithContext);\n              return origMemoizer.apply(this, modifiedArguments);\n            };\n          };\n\n          // sync function preserves context, but we still need to export it\n          // as the lru-memoizer package does\n          asyncMemoizer.sync = moduleExports.sync;\n          return asyncMemoizer;\n        },\n        undefined // no need to disable as this instrumentation does not create any spans\n      ),\n    ];\n  }\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,MAAA;AACA,MAAA;AAKA,gBAAA,GACA,MAAA;AAEA,MAAa,mCAAmC,kBAAA,mBAAmB;IACjE,YAAY,SAAgC,CAAA,CAAE,CAAA;QAC5C,KAAK,CAAC,UAAA,YAAY,EAAE,UAAA,eAAe,EAAE;IACvC;IAEA,OAAI;QACF,OAAO;YACL,IAAI,kBAAA,mCAAmC,CACrC,gBACA;gBAAC;aAAW,EACZ,CAAA;gBACE,gEAAgE;gBAChE,qDAAqD;gBACrD,uDAAuD;gBACvD,MAAM,gBAAgB;oBACpB,kGAAkG;oBAClG,2GAA2G;oBAC3G,MAAM,eAAe,cAAc,KAAK,CAAC,IAAI,EAAE;oBAC/C,OAAO;wBACL,MAAM,oBAAoB;+BAAI;yBAAU;wBACxC,gCAAgC;wBAChC,MAAM,eAAe,kBAAkB,GAAG;wBAC1C,MAAM,sBACJ,OAAO,iBAAiB,aACpB,MAAA,OAAO,CAAC,IAAI,CAAC,MAAA,OAAO,CAAC,MAAM,IAAI,gBAC/B;wBACN,kBAAkB,IAAI,CAAC;wBACvB,OAAO,aAAa,KAAK,CAAC,IAAI,EAAE;oBAClC;gBACF;gBAEA,kEAAkE;gBAClE,mCAAmC;gBACnC,cAAc,IAAI,GAAG,cAAc,IAAI;gBACvC,OAAO;YACT,GACA,UAAU,uEAAuE;;SAEpF;IACH;;AAvCF,QAAA,0BAAA,GAAA"}},
    {"offset": {"line": 15690, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15694, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_3fc2450a96c8456857843b273a02340c/node_modules/@opentelemetry/instrumentation-lru-memoizer/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,8OAAA"}},
    {"offset": {"line": 15728, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15732, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_076c8da918723f5babd260d34c776f38/node_modules/@opentelemetry/instrumentation-mongodb/src/internal-types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport { Span } from '@opentelemetry/api';\n\nexport interface MongoDBInstrumentationExecutionResponseHook {\n  (span: Span, responseInfo: MongoResponseHookInformation): void;\n}\n\n/**\n * Function that can be used to serialize db.statement tag\n * @param cmd - MongoDB command object\n *\n * @returns serialized string that will be used as the db.statement attribute.\n */\nexport type DbStatementSerializer = (cmd: Record<string, unknown>) => string;\n\nexport interface MongoDBInstrumentationConfig extends InstrumentationConfig {\n  /**\n   * If true, additional information about query parameters and\n   * results will be attached (as `attributes`) to spans representing\n   * database operations.\n   */\n  enhancedDatabaseReporting?: boolean;\n\n  /**\n   * Hook that allows adding custom span attributes based on the data\n   * returned from MongoDB actions.\n   *\n   * @default undefined\n   */\n  responseHook?: MongoDBInstrumentationExecutionResponseHook;\n\n  /**\n   * Custom serializer function for the db.statement tag\n   */\n  dbStatementSerializer?: DbStatementSerializer;\n}\n\nexport type Func<T> = (...args: unknown[]) => T;\nexport type MongoInternalCommand = {\n  findandmodify: boolean;\n  createIndexes: boolean;\n  count: boolean;\n  aggregate: boolean;\n  ismaster: boolean;\n  indexes?: unknown[];\n  query?: Record<string, unknown>;\n  limit?: number;\n  q?: Record<string, unknown>;\n  u?: Record<string, unknown>;\n};\n\nexport type ServerSession = {\n  id: any;\n  lastUse: number;\n  txnNumber: number;\n  isDirty: boolean;\n};\n\nexport type CursorState = { cmd: MongoInternalCommand } & Record<\n  string,\n  unknown\n>;\n\nexport interface MongoResponseHookInformation {\n  data: CommandResult;\n}\n\n// https://github.com/mongodb/node-mongodb-native/blob/3.6/lib/core/connection/command_result.js\nexport type CommandResult = {\n  result?: unknown;\n  connection?: unknown;\n  message?: unknown;\n};\n\n// https://github.com/mongodb/node-mongodb-native/blob/3.6/lib/core/wireprotocol/index.js\nexport type WireProtocolInternal = {\n  insert: (\n    server: MongoInternalTopology,\n    ns: string,\n    ops: unknown[],\n    options: unknown | Function,\n    callback?: Function\n  ) => unknown;\n  update: (\n    server: MongoInternalTopology,\n    ns: string,\n    ops: unknown[],\n    options: unknown | Function,\n    callback?: Function\n  ) => unknown;\n  remove: (\n    server: MongoInternalTopology,\n    ns: string,\n    ops: unknown[],\n    options: unknown | Function,\n    callback?: Function\n  ) => unknown;\n  killCursors: (\n    server: MongoInternalTopology,\n    ns: string,\n    cursorState: CursorState,\n    callback: Function\n  ) => unknown;\n  getMore: (\n    server: MongoInternalTopology,\n    ns: string,\n    cursorState: CursorState,\n    batchSize: number,\n    options: unknown | Function,\n    callback?: Function\n  ) => unknown;\n  query: (\n    server: MongoInternalTopology,\n    ns: string,\n    cmd: MongoInternalCommand,\n    cursorState: CursorState,\n    options: unknown | Function,\n    callback?: Function\n  ) => unknown;\n  command: (\n    server: MongoInternalTopology,\n    ns: string,\n    cmd: MongoInternalCommand,\n    options: unknown | Function,\n    callback?: Function\n  ) => unknown;\n};\n\n// https://github.com/mongodb/node-mongodb-native/blob/3.6/lib/topologies/server.js#L172\n// https://github.com/mongodb/node-mongodb-native/blob/2.2/lib/server.js#L174\nexport type MongoInternalTopology = {\n  s?: {\n    // those are for mongodb@3\n    options?: {\n      host?: string;\n      port?: number;\n      servername?: string;\n    };\n    // those are for mongodb@2\n    host?: string;\n    port?: number;\n  };\n  // mongodb@3 with useUnifiedTopology option\n  description?: {\n    address?: string;\n  };\n};\n\nexport enum MongodbCommandType {\n  CREATE_INDEXES = 'createIndexes',\n  FIND_AND_MODIFY = 'findAndModify',\n  IS_MASTER = 'isMaster',\n  COUNT = 'count',\n  AGGREGATE = 'aggregate',\n  UNKNOWN = 'unknown',\n}\n\n// https://github.com/mongodb/js-bson/blob/main/src/bson.ts\nexport type Document = {\n  [key: string]: any;\n};\n\n// https://github.com/mongodb/node-mongodb-native/blob/v6.4.0/src/utils.ts#L281\nexport interface MongodbNamespace {\n  db: string;\n  collection?: string;\n}\n\nexport type V4Connection = {\n  command: Function;\n  // From version 6.4.0 the method does not expect a callback and returns a promise\n  // https://github.com/mongodb/node-mongodb-native/blob/v6.4.2/src/cmap/connection.ts\n  commandPromise(\n    ns: MongodbNamespace,\n    cmd: Document,\n    options: undefined | unknown,\n    // From v6.6.0 we have this new param which is a constructor function\n    // https://github.com/mongodb/node-mongodb-native/blob/v6.6.0/src/cmap/connection.ts#L588\n    responseType: undefined | unknown\n  ): Promise<any>;\n  // Earlier versions expect a callback param and return void\n  // https://github.com/mongodb/node-mongodb-native/blob/v4.2.2/src/cmap/connection.ts\n  commandCallback(\n    ns: MongodbNamespace,\n    cmd: Document,\n    options: undefined | unknown,\n    callback: any\n  ): void;\n};\n\n// https://github.com/mongodb/node-mongodb-native/blob/v4.2.2/src/cmap/connection_pool.ts\nexport type V4ConnectionPool = {\n  // Instrumentation just cares about carrying the async context so\n  // types of callback params are not needed\n  checkOut: (callback: (error: any, connection: any) => void) => void;\n};\n\nexport type V4Connect = {\n  connect: Function;\n  // From version 6.4.0 the method does not expect a callback and returns a promise\n  // https://github.com/mongodb/node-mongodb-native/blob/v6.4.0/src/cmap/connect.ts\n  connectPromise: (options: any) => Promise<any>;\n  // Earlier versions expect a callback param and return void\n  // https://github.com/mongodb/node-mongodb-native/blob/v4.2.2/src/cmap/connect.ts\n  connectCallback: (options: any, callback: any) => void;\n};\n\n// https://github.com/mongodb/node-mongodb-native/blob/v4.2.2/src/sessions.ts\nexport type V4Session = {\n  acquire: () => ServerSession;\n  release: (session: ServerSession) => void;\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAoKA,IAAY;AAAZ,CAAA,SAAY,kBAAkB;IAC5B,kBAAA,CAAA,iBAAA,GAAA;IACA,kBAAA,CAAA,kBAAA,GAAA;IACA,kBAAA,CAAA,YAAA,GAAA;IACA,kBAAA,CAAA,QAAA,GAAA;IACA,kBAAA,CAAA,YAAA,GAAA;IACA,kBAAA,CAAA,UAAA,GAAA;AACF,CAAC,EAPW,qBAAA,QAAA,kBAAkB,IAAA,CAAlB,QAAA,kBAAkB,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 15760, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15764, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_076c8da918723f5babd260d34c776f38/node_modules/@opentelemetry/instrumentation-mongodb/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.52.0';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-mongodb';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 15786, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 15790, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_076c8da918723f5babd260d34c776f38/node_modules/@opentelemetry/instrumentation-mongodb/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  context,\n  trace,\n  Span,\n  SpanKind,\n  SpanStatusCode,\n} from '@opentelemetry/api';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  isWrapped,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport {\n  DBSYSTEMVALUES_MONGODB,\n  SEMATTRS_DB_CONNECTION_STRING,\n  SEMATTRS_DB_MONGODB_COLLECTION,\n  SEMATTRS_DB_NAME,\n  SEMATTRS_DB_OPERATION,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport { MongoDBInstrumentationConfig, CommandResult } from './types';\nimport {\n  CursorState,\n  ServerSession,\n  MongodbCommandType,\n  MongoInternalCommand,\n  MongodbNamespace,\n  MongoInternalTopology,\n  WireProtocolInternal,\n  V4Connection,\n  V4ConnectionPool,\n} from './internal-types';\nimport { V4Connect, V4Session } from './internal-types';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport { UpDownCounter } from '@opentelemetry/api';\n\nconst DEFAULT_CONFIG: MongoDBInstrumentationConfig = {\n  requireParentSpan: true,\n};\n\n/** mongodb instrumentation plugin for OpenTelemetry */\nexport class MongoDBInstrumentation extends InstrumentationBase<MongoDBInstrumentationConfig> {\n  private _connectionsUsage!: UpDownCounter;\n  private _poolName!: string;\n\n  constructor(config: MongoDBInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, { ...DEFAULT_CONFIG, ...config });\n  }\n\n  override setConfig(config: MongoDBInstrumentationConfig = {}) {\n    super.setConfig({ ...DEFAULT_CONFIG, ...config });\n  }\n\n  override _updateMetricInstruments() {\n    this._connectionsUsage = this.meter.createUpDownCounter(\n      'db.client.connections.usage',\n      {\n        description:\n          'The number of connections that are currently in state described by the state attribute.',\n        unit: '{connection}',\n      }\n    );\n  }\n\n  init() {\n    const {\n      v3PatchConnection: v3PatchConnection,\n      v3UnpatchConnection: v3UnpatchConnection,\n    } = this._getV3ConnectionPatches();\n\n    const { v4PatchConnect, v4UnpatchConnect } = this._getV4ConnectPatches();\n    const {\n      v4PatchConnectionCallback,\n      v4PatchConnectionPromise,\n      v4UnpatchConnection,\n    } = this._getV4ConnectionPatches();\n    const { v4PatchConnectionPool, v4UnpatchConnectionPool } =\n      this._getV4ConnectionPoolPatches();\n    const { v4PatchSessions, v4UnpatchSessions } = this._getV4SessionsPatches();\n\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'mongodb',\n        ['>=3.3.0 <4'],\n        undefined,\n        undefined,\n        [\n          new InstrumentationNodeModuleFile(\n            'mongodb/lib/core/wireprotocol/index.js',\n            ['>=3.3.0 <4'],\n            v3PatchConnection,\n            v3UnpatchConnection\n          ),\n        ]\n      ),\n      new InstrumentationNodeModuleDefinition(\n        'mongodb',\n        ['>=4.0.0 <7'],\n        undefined,\n        undefined,\n        [\n          new InstrumentationNodeModuleFile(\n            'mongodb/lib/cmap/connection.js',\n            ['>=4.0.0 <6.4'],\n            v4PatchConnectionCallback,\n            v4UnpatchConnection\n          ),\n          new InstrumentationNodeModuleFile(\n            'mongodb/lib/cmap/connection.js',\n            ['>=6.4.0 <7'],\n            v4PatchConnectionPromise,\n            v4UnpatchConnection\n          ),\n          new InstrumentationNodeModuleFile(\n            'mongodb/lib/cmap/connection_pool.js',\n            ['>=4.0.0 <6.4'],\n            v4PatchConnectionPool,\n            v4UnpatchConnectionPool\n          ),\n          new InstrumentationNodeModuleFile(\n            'mongodb/lib/cmap/connect.js',\n            ['>=4.0.0 <7'],\n            v4PatchConnect,\n            v4UnpatchConnect\n          ),\n          new InstrumentationNodeModuleFile(\n            'mongodb/lib/sessions.js',\n            ['>=4.0.0 <7'],\n            v4PatchSessions,\n            v4UnpatchSessions\n          ),\n        ]\n      ),\n    ];\n  }\n\n  private _getV3ConnectionPatches<T extends WireProtocolInternal>() {\n    return {\n      v3PatchConnection: (moduleExports: T) => {\n        // patch insert operation\n        if (isWrapped(moduleExports.insert)) {\n          this._unwrap(moduleExports, 'insert');\n        }\n        this._wrap(\n          moduleExports,\n          'insert',\n          this._getV3PatchOperation('insert')\n        );\n        // patch remove operation\n        if (isWrapped(moduleExports.remove)) {\n          this._unwrap(moduleExports, 'remove');\n        }\n        this._wrap(\n          moduleExports,\n          'remove',\n          this._getV3PatchOperation('remove')\n        );\n        // patch update operation\n        if (isWrapped(moduleExports.update)) {\n          this._unwrap(moduleExports, 'update');\n        }\n        this._wrap(\n          moduleExports,\n          'update',\n          this._getV3PatchOperation('update')\n        );\n        // patch other command\n        if (isWrapped(moduleExports.command)) {\n          this._unwrap(moduleExports, 'command');\n        }\n        this._wrap(moduleExports, 'command', this._getV3PatchCommand());\n        // patch query\n        if (isWrapped(moduleExports.query)) {\n          this._unwrap(moduleExports, 'query');\n        }\n        this._wrap(moduleExports, 'query', this._getV3PatchFind());\n        // patch get more operation on cursor\n        if (isWrapped(moduleExports.getMore)) {\n          this._unwrap(moduleExports, 'getMore');\n        }\n        this._wrap(moduleExports, 'getMore', this._getV3PatchCursor());\n        return moduleExports;\n      },\n      v3UnpatchConnection: (moduleExports?: T) => {\n        if (moduleExports === undefined) return;\n        this._unwrap(moduleExports, 'insert');\n        this._unwrap(moduleExports, 'remove');\n        this._unwrap(moduleExports, 'update');\n        this._unwrap(moduleExports, 'command');\n        this._unwrap(moduleExports, 'query');\n        this._unwrap(moduleExports, 'getMore');\n      },\n    };\n  }\n\n  private _getV4SessionsPatches<T extends V4Session>() {\n    return {\n      v4PatchSessions: (moduleExports: any) => {\n        if (isWrapped(moduleExports.acquire)) {\n          this._unwrap(moduleExports, 'acquire');\n        }\n        this._wrap(\n          moduleExports.ServerSessionPool.prototype,\n          'acquire',\n          this._getV4AcquireCommand()\n        );\n\n        if (isWrapped(moduleExports.release)) {\n          this._unwrap(moduleExports, 'release');\n        }\n        this._wrap(\n          moduleExports.ServerSessionPool.prototype,\n          'release',\n          this._getV4ReleaseCommand()\n        );\n        return moduleExports;\n      },\n      v4UnpatchSessions: (moduleExports?: T) => {\n        if (moduleExports === undefined) return;\n        if (isWrapped(moduleExports.acquire)) {\n          this._unwrap(moduleExports, 'acquire');\n        }\n        if (isWrapped(moduleExports.release)) {\n          this._unwrap(moduleExports, 'release');\n        }\n      },\n    };\n  }\n\n  private _getV4AcquireCommand() {\n    const instrumentation = this;\n    return (original: V4Session['acquire']) => {\n      return function patchAcquire(this: any) {\n        const nSessionsBeforeAcquire = this.sessions.length;\n        const session = original.call(this);\n        const nSessionsAfterAcquire = this.sessions.length;\n\n        if (nSessionsBeforeAcquire === nSessionsAfterAcquire) {\n          //no session in the pool. a new session was created and used\n          instrumentation._connectionsUsage.add(1, {\n            state: 'used',\n            'pool.name': instrumentation._poolName,\n          });\n        } else if (nSessionsBeforeAcquire - 1 === nSessionsAfterAcquire) {\n          //a session was already in the pool. remove it from the pool and use it.\n          instrumentation._connectionsUsage.add(-1, {\n            state: 'idle',\n            'pool.name': instrumentation._poolName,\n          });\n          instrumentation._connectionsUsage.add(1, {\n            state: 'used',\n            'pool.name': instrumentation._poolName,\n          });\n        }\n        return session;\n      };\n    };\n  }\n\n  private _getV4ReleaseCommand() {\n    const instrumentation = this;\n    return (original: V4Session['release']) => {\n      return function patchRelease(this: any, session: ServerSession) {\n        const cmdPromise = original.call(this, session);\n\n        instrumentation._connectionsUsage.add(-1, {\n          state: 'used',\n          'pool.name': instrumentation._poolName,\n        });\n        instrumentation._connectionsUsage.add(1, {\n          state: 'idle',\n          'pool.name': instrumentation._poolName,\n        });\n        return cmdPromise;\n      };\n    };\n  }\n\n  private _getV4ConnectionPoolPatches<T extends V4ConnectionPool>() {\n    return {\n      v4PatchConnectionPool: (moduleExports: any) => {\n        const poolPrototype = moduleExports.ConnectionPool.prototype;\n\n        if (isWrapped(poolPrototype.checkOut)) {\n          this._unwrap(poolPrototype, 'checkOut');\n        }\n\n        this._wrap(\n          poolPrototype,\n          'checkOut',\n          this._getV4ConnectionPoolCheckOut()\n        );\n        return moduleExports;\n      },\n      v4UnpatchConnectionPool: (moduleExports?: any) => {\n        if (moduleExports === undefined) return;\n\n        this._unwrap(moduleExports.ConnectionPool.prototype, 'checkOut');\n      },\n    };\n  }\n\n  private _getV4ConnectPatches<T extends V4Connect>() {\n    return {\n      v4PatchConnect: (moduleExports: any) => {\n        if (isWrapped(moduleExports.connect)) {\n          this._unwrap(moduleExports, 'connect');\n        }\n\n        this._wrap(moduleExports, 'connect', this._getV4ConnectCommand());\n        return moduleExports;\n      },\n      v4UnpatchConnect: (moduleExports?: T) => {\n        if (moduleExports === undefined) return;\n\n        this._unwrap(moduleExports, 'connect');\n      },\n    };\n  }\n\n  // This patch will become unnecessary once\n  // https://jira.mongodb.org/browse/NODE-5639 is done.\n  private _getV4ConnectionPoolCheckOut() {\n    return (original: V4ConnectionPool['checkOut']) => {\n      return function patchedCheckout(this: unknown, callback: any) {\n        const patchedCallback = context.bind(context.active(), callback);\n        return original.call(this, patchedCallback);\n      };\n    };\n  }\n\n  private _getV4ConnectCommand() {\n    const instrumentation = this;\n\n    return (\n      original: V4Connect['connectCallback'] | V4Connect['connectPromise']\n    ) => {\n      return function patchedConnect(\n        this: unknown,\n        options: any,\n        callback: any\n      ) {\n        // from v6.4 `connect` method only accepts an options param and returns a promise\n        // with the connection\n        if (original.length === 1) {\n          const result = (original as V4Connect['connectPromise']).call(\n            this,\n            options\n          );\n          if (result && typeof result.then === 'function') {\n            result.then(\n              () => instrumentation.setPoolName(options),\n              // this handler is set to pass the lint rules\n              () => undefined\n            );\n          }\n          return result;\n        }\n\n        // Earlier versions expects a callback param and return void\n        const patchedCallback = function (err: any, conn: any) {\n          if (err || !conn) {\n            callback(err, conn);\n            return;\n          }\n          instrumentation.setPoolName(options);\n          callback(err, conn);\n        };\n\n        return (original as V4Connect['connectCallback']).call(\n          this,\n          options,\n          patchedCallback\n        );\n      };\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  private _getV4ConnectionPatches<T extends V4Connection>() {\n    return {\n      v4PatchConnectionCallback: (moduleExports: any) => {\n        // patch insert operation\n        if (isWrapped(moduleExports.Connection.prototype.command)) {\n          this._unwrap(moduleExports.Connection.prototype, 'command');\n        }\n\n        this._wrap(\n          moduleExports.Connection.prototype,\n          'command',\n          this._getV4PatchCommandCallback()\n        );\n        return moduleExports;\n      },\n      v4PatchConnectionPromise: (moduleExports: any) => {\n        // patch insert operation\n        if (isWrapped(moduleExports.Connection.prototype.command)) {\n          this._unwrap(moduleExports.Connection.prototype, 'command');\n        }\n\n        this._wrap(\n          moduleExports.Connection.prototype,\n          'command',\n          this._getV4PatchCommandPromise()\n        );\n        return moduleExports;\n      },\n      v4UnpatchConnection: (moduleExports?: any) => {\n        if (moduleExports === undefined) return;\n        this._unwrap(moduleExports.Connection.prototype, 'command');\n      },\n    };\n  }\n\n  /** Creates spans for common operations */\n  private _getV3PatchOperation(operationName: 'insert' | 'update' | 'remove') {\n    const instrumentation = this;\n    return (original: WireProtocolInternal[typeof operationName]) => {\n      return function patchedServerCommand(\n        this: unknown,\n        server: MongoInternalTopology,\n        ns: string,\n        ops: unknown[],\n        options: unknown | Function,\n        callback?: Function\n      ) {\n        const currentSpan = trace.getSpan(context.active());\n        const skipInstrumentation =\n          instrumentation._checkSkipInstrumentation(currentSpan);\n\n        const resultHandler =\n          typeof options === 'function' ? options : callback;\n        if (\n          skipInstrumentation ||\n          typeof resultHandler !== 'function' ||\n          typeof ops !== 'object'\n        ) {\n          if (typeof options === 'function') {\n            return original.call(this, server, ns, ops, options);\n          } else {\n            return original.call(this, server, ns, ops, options, callback);\n          }\n        }\n\n        const span = instrumentation.tracer.startSpan(\n          `mongodb.${operationName}`,\n          {\n            kind: SpanKind.CLIENT,\n          }\n        );\n\n        instrumentation._populateV3Attributes(\n          span,\n          ns,\n          server,\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          ops[0] as any,\n          operationName\n        );\n        const patchedCallback = instrumentation._patchEnd(span, resultHandler);\n        // handle when options is the callback to send the correct number of args\n        if (typeof options === 'function') {\n          return original.call(this, server, ns, ops, patchedCallback);\n        } else {\n          return original.call(this, server, ns, ops, options, patchedCallback);\n        }\n      };\n    };\n  }\n\n  /** Creates spans for command operation */\n  private _getV3PatchCommand() {\n    const instrumentation = this;\n    return (original: WireProtocolInternal['command']) => {\n      return function patchedServerCommand(\n        this: unknown,\n        server: MongoInternalTopology,\n        ns: string,\n        cmd: MongoInternalCommand,\n        options: unknown | Function,\n        callback?: Function\n      ) {\n        const currentSpan = trace.getSpan(context.active());\n        const skipInstrumentation =\n          instrumentation._checkSkipInstrumentation(currentSpan);\n\n        const resultHandler =\n          typeof options === 'function' ? options : callback;\n\n        if (\n          skipInstrumentation ||\n          typeof resultHandler !== 'function' ||\n          typeof cmd !== 'object'\n        ) {\n          if (typeof options === 'function') {\n            return original.call(this, server, ns, cmd, options);\n          } else {\n            return original.call(this, server, ns, cmd, options, callback);\n          }\n        }\n\n        const commandType = MongoDBInstrumentation._getCommandType(cmd);\n        const type =\n          commandType === MongodbCommandType.UNKNOWN ? 'command' : commandType;\n        const span = instrumentation.tracer.startSpan(`mongodb.${type}`, {\n          kind: SpanKind.CLIENT,\n        });\n        const operation =\n          commandType === MongodbCommandType.UNKNOWN ? undefined : commandType;\n        instrumentation._populateV3Attributes(span, ns, server, cmd, operation);\n        const patchedCallback = instrumentation._patchEnd(span, resultHandler);\n        // handle when options is the callback to send the correct number of args\n        if (typeof options === 'function') {\n          return original.call(this, server, ns, cmd, patchedCallback);\n        } else {\n          return original.call(this, server, ns, cmd, options, patchedCallback);\n        }\n      };\n    };\n  }\n\n  /** Creates spans for command operation */\n  private _getV4PatchCommandCallback() {\n    const instrumentation = this;\n    return (original: V4Connection['commandCallback']) => {\n      return function patchedV4ServerCommand(\n        this: any,\n        ns: MongodbNamespace,\n        cmd: any,\n        options: undefined | unknown,\n        callback: any\n      ) {\n        const currentSpan = trace.getSpan(context.active());\n        const skipInstrumentation =\n          instrumentation._checkSkipInstrumentation(currentSpan);\n        const resultHandler = callback;\n        const commandType = Object.keys(cmd)[0];\n\n        if (typeof cmd !== 'object' || cmd.ismaster || cmd.hello) {\n          return original.call(this, ns, cmd, options, callback);\n        }\n\n        let span = undefined;\n        if (!skipInstrumentation) {\n          span = instrumentation.tracer.startSpan(`mongodb.${commandType}`, {\n            kind: SpanKind.CLIENT,\n          });\n          instrumentation._populateV4Attributes(\n            span,\n            this,\n            ns,\n            cmd,\n            commandType\n          );\n        }\n        const patchedCallback = instrumentation._patchEnd(\n          span,\n          resultHandler,\n          this.id,\n          commandType\n        );\n\n        return original.call(this, ns, cmd, options, patchedCallback);\n      };\n    };\n  }\n\n  private _getV4PatchCommandPromise() {\n    const instrumentation = this;\n    return (original: V4Connection['commandPromise']) => {\n      return function patchedV4ServerCommand(\n        this: any,\n        ...args: Parameters<V4Connection['commandPromise']>\n      ) {\n        const [ns, cmd] = args;\n        const currentSpan = trace.getSpan(context.active());\n        const skipInstrumentation =\n          instrumentation._checkSkipInstrumentation(currentSpan);\n\n        const commandType = Object.keys(cmd)[0];\n        const resultHandler = () => undefined;\n\n        if (typeof cmd !== 'object' || cmd.ismaster || cmd.hello) {\n          return original.apply(this, args);\n        }\n\n        let span = undefined;\n        if (!skipInstrumentation) {\n          span = instrumentation.tracer.startSpan(`mongodb.${commandType}`, {\n            kind: SpanKind.CLIENT,\n          });\n          instrumentation._populateV4Attributes(\n            span,\n            this,\n            ns,\n            cmd,\n            commandType\n          );\n        }\n\n        const patchedCallback = instrumentation._patchEnd(\n          span,\n          resultHandler,\n          this.id,\n          commandType\n        );\n\n        const result = original.apply(this, args);\n        result.then(\n          (res: any) => patchedCallback(null, res),\n          (err: any) => patchedCallback(err)\n        );\n\n        return result;\n      };\n    };\n  }\n\n  /** Creates spans for find operation */\n  private _getV3PatchFind() {\n    const instrumentation = this;\n    return (original: WireProtocolInternal['query']) => {\n      return function patchedServerCommand(\n        this: unknown,\n        server: MongoInternalTopology,\n        ns: string,\n        cmd: MongoInternalCommand,\n        cursorState: CursorState,\n        options: unknown | Function,\n        callback?: Function\n      ) {\n        const currentSpan = trace.getSpan(context.active());\n        const skipInstrumentation =\n          instrumentation._checkSkipInstrumentation(currentSpan);\n        const resultHandler =\n          typeof options === 'function' ? options : callback;\n\n        if (\n          skipInstrumentation ||\n          typeof resultHandler !== 'function' ||\n          typeof cmd !== 'object'\n        ) {\n          if (typeof options === 'function') {\n            return original.call(this, server, ns, cmd, cursorState, options);\n          } else {\n            return original.call(\n              this,\n              server,\n              ns,\n              cmd,\n              cursorState,\n              options,\n              callback\n            );\n          }\n        }\n\n        const span = instrumentation.tracer.startSpan('mongodb.find', {\n          kind: SpanKind.CLIENT,\n        });\n        instrumentation._populateV3Attributes(span, ns, server, cmd, 'find');\n        const patchedCallback = instrumentation._patchEnd(span, resultHandler);\n        // handle when options is the callback to send the correct number of args\n        if (typeof options === 'function') {\n          return original.call(\n            this,\n            server,\n            ns,\n            cmd,\n            cursorState,\n            patchedCallback\n          );\n        } else {\n          return original.call(\n            this,\n            server,\n            ns,\n            cmd,\n            cursorState,\n            options,\n            patchedCallback\n          );\n        }\n      };\n    };\n  }\n\n  /** Creates spans for find operation */\n  private _getV3PatchCursor() {\n    const instrumentation = this;\n    return (original: WireProtocolInternal['getMore']) => {\n      return function patchedServerCommand(\n        this: unknown,\n        server: MongoInternalTopology,\n        ns: string,\n        cursorState: CursorState,\n        batchSize: number,\n        options: unknown | Function,\n        callback?: Function\n      ) {\n        const currentSpan = trace.getSpan(context.active());\n        const skipInstrumentation =\n          instrumentation._checkSkipInstrumentation(currentSpan);\n\n        const resultHandler =\n          typeof options === 'function' ? options : callback;\n\n        if (skipInstrumentation || typeof resultHandler !== 'function') {\n          if (typeof options === 'function') {\n            return original.call(\n              this,\n              server,\n              ns,\n              cursorState,\n              batchSize,\n              options\n            );\n          } else {\n            return original.call(\n              this,\n              server,\n              ns,\n              cursorState,\n              batchSize,\n              options,\n              callback\n            );\n          }\n        }\n\n        const span = instrumentation.tracer.startSpan('mongodb.getMore', {\n          kind: SpanKind.CLIENT,\n        });\n        instrumentation._populateV3Attributes(\n          span,\n          ns,\n          server,\n          cursorState.cmd,\n          'getMore'\n        );\n        const patchedCallback = instrumentation._patchEnd(span, resultHandler);\n        // handle when options is the callback to send the correct number of args\n        if (typeof options === 'function') {\n          return original.call(\n            this,\n            server,\n            ns,\n            cursorState,\n            batchSize,\n            patchedCallback\n          );\n        } else {\n          return original.call(\n            this,\n            server,\n            ns,\n            cursorState,\n            batchSize,\n            options,\n            patchedCallback\n          );\n        }\n      };\n    };\n  }\n\n  /**\n   * Get the mongodb command type from the object.\n   * @param command Internal mongodb command object\n   */\n  private static _getCommandType(\n    command: MongoInternalCommand\n  ): MongodbCommandType {\n    if (command.createIndexes !== undefined) {\n      return MongodbCommandType.CREATE_INDEXES;\n    } else if (command.findandmodify !== undefined) {\n      return MongodbCommandType.FIND_AND_MODIFY;\n    } else if (command.ismaster !== undefined) {\n      return MongodbCommandType.IS_MASTER;\n    } else if (command.count !== undefined) {\n      return MongodbCommandType.COUNT;\n    } else if (command.aggregate !== undefined) {\n      return MongodbCommandType.AGGREGATE;\n    } else {\n      return MongodbCommandType.UNKNOWN;\n    }\n  }\n\n  /**\n   * Populate span's attributes by fetching related metadata from the context\n   * @param span span to add attributes to\n   * @param connectionCtx mongodb internal connection context\n   * @param ns mongodb namespace\n   * @param command mongodb internal representation of a command\n   */\n  private _populateV4Attributes(\n    span: Span,\n    connectionCtx: any,\n    ns: MongodbNamespace,\n    command?: any,\n    operation?: string\n  ) {\n    let host, port: undefined | string;\n    if (connectionCtx) {\n      const hostParts =\n        typeof connectionCtx.address === 'string'\n          ? connectionCtx.address.split(':')\n          : '';\n      if (hostParts.length === 2) {\n        host = hostParts[0];\n        port = hostParts[1];\n      }\n    }\n    // capture parameters within the query as well if enhancedDatabaseReporting is enabled.\n    let commandObj: Record<string, unknown>;\n    if (command?.documents && command.documents[0]) {\n      commandObj = command.documents[0];\n    } else if (command?.cursors) {\n      commandObj = command.cursors;\n    } else {\n      commandObj = command;\n    }\n\n    this._addAllSpanAttributes(\n      span,\n      ns.db,\n      ns.collection,\n      host,\n      port,\n      commandObj,\n      operation\n    );\n  }\n\n  /**\n   * Populate span's attributes by fetching related metadata from the context\n   * @param span span to add attributes to\n   * @param ns mongodb namespace\n   * @param topology mongodb internal representation of the network topology\n   * @param command mongodb internal representation of a command\n   */\n  private _populateV3Attributes(\n    span: Span,\n    ns: string,\n    topology: MongoInternalTopology,\n    command?: MongoInternalCommand,\n    operation?: string | undefined\n  ) {\n    // add network attributes to determine the remote server\n    let host: undefined | string;\n    let port: undefined | string;\n    if (topology && topology.s) {\n      host = topology.s.options?.host ?? topology.s.host;\n      port = (topology.s.options?.port ?? topology.s.port)?.toString();\n      if (host == null || port == null) {\n        const address = topology.description?.address;\n        if (address) {\n          const addressSegments = address.split(':');\n          host = addressSegments[0];\n          port = addressSegments[1];\n        }\n      }\n    }\n\n    // The namespace is a combination of the database name and the name of the\n    // collection or index, like so: [database-name].[collection-or-index-name].\n    // It could be a string or an instance of MongoDBNamespace, as such we\n    // always coerce to a string to extract db and collection.\n    const [dbName, dbCollection] = ns.toString().split('.');\n    // capture parameters within the query as well if enhancedDatabaseReporting is enabled.\n    const commandObj = command?.query ?? command?.q ?? command;\n\n    this._addAllSpanAttributes(\n      span,\n      dbName,\n      dbCollection,\n      host,\n      port,\n      commandObj,\n      operation\n    );\n  }\n\n  private _addAllSpanAttributes(\n    span: Span,\n    dbName?: string,\n    dbCollection?: string,\n    host?: undefined | string,\n    port?: undefined | string,\n    commandObj?: any,\n    operation?: string | undefined\n  ) {\n    // add database related attributes\n    span.setAttributes({\n      [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_MONGODB,\n      [SEMATTRS_DB_NAME]: dbName,\n      [SEMATTRS_DB_MONGODB_COLLECTION]: dbCollection,\n      [SEMATTRS_DB_OPERATION]: operation,\n      [SEMATTRS_DB_CONNECTION_STRING]: `mongodb://${host}:${port}/${dbName}`,\n    });\n\n    if (host && port) {\n      span.setAttribute(SEMATTRS_NET_PEER_NAME, host);\n      const portNumber = parseInt(port, 10);\n      if (!isNaN(portNumber)) {\n        span.setAttribute(SEMATTRS_NET_PEER_PORT, portNumber);\n      }\n    }\n    if (!commandObj) return;\n\n    const { dbStatementSerializer: configDbStatementSerializer } =\n      this.getConfig();\n    const dbStatementSerializer =\n      typeof configDbStatementSerializer === 'function'\n        ? configDbStatementSerializer\n        : this._defaultDbStatementSerializer.bind(this);\n\n    safeExecuteInTheMiddle(\n      () => {\n        const query = dbStatementSerializer(commandObj);\n        span.setAttribute(SEMATTRS_DB_STATEMENT, query);\n      },\n      err => {\n        if (err) {\n          this._diag.error('Error running dbStatementSerializer hook', err);\n        }\n      },\n      true\n    );\n  }\n\n  private _defaultDbStatementSerializer(commandObj: Record<string, unknown>) {\n    const { enhancedDatabaseReporting } = this.getConfig();\n    const resultObj = enhancedDatabaseReporting\n      ? commandObj\n      : this._scrubStatement(commandObj);\n    return JSON.stringify(resultObj);\n  }\n\n  private _scrubStatement(value: unknown): unknown {\n    if (Array.isArray(value)) {\n      return value.map(element => this._scrubStatement(element));\n    }\n\n    if (typeof value === 'object' && value !== null) {\n      return Object.fromEntries(\n        Object.entries(value).map(([key, element]) => [\n          key,\n          this._scrubStatement(element),\n        ])\n      );\n    }\n\n    // A value like string or number, possible contains PII, scrub it\n    return '?';\n  }\n\n  /**\n   * Triggers the response hook in case it is defined.\n   * @param span The span to add the results to.\n   * @param result The command result\n   */\n  private _handleExecutionResult(span: Span, result: CommandResult) {\n    const { responseHook } = this.getConfig();\n    if (typeof responseHook === 'function') {\n      safeExecuteInTheMiddle(\n        () => {\n          responseHook(span, { data: result });\n        },\n        err => {\n          if (err) {\n            this._diag.error('Error running response hook', err);\n          }\n        },\n        true\n      );\n    }\n  }\n\n  /**\n   * Ends a created span.\n   * @param span The created span to end.\n   * @param resultHandler A callback function.\n   * @param connectionId: The connection ID of the Command response.\n   */\n  private _patchEnd(\n    span: Span | undefined,\n    resultHandler: Function,\n    connectionId?: number,\n    commandType?: string\n  ): Function {\n    // mongodb is using \"tick\" when calling a callback, this way the context\n    // in final callback (resultHandler) is lost\n    const activeContext = context.active();\n    const instrumentation = this;\n    return function patchedEnd(this: {}, ...args: unknown[]) {\n      const error = args[0];\n      if (span) {\n        if (error instanceof Error) {\n          span?.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: error.message,\n          });\n        } else {\n          const result = args[1] as CommandResult;\n          instrumentation._handleExecutionResult(span, result);\n        }\n        span.end();\n      }\n\n      return context.with(activeContext, () => {\n        if (commandType === 'endSessions') {\n          instrumentation._connectionsUsage.add(-1, {\n            state: 'idle',\n            'pool.name': instrumentation._poolName,\n          });\n        }\n        return resultHandler.apply(this, args);\n      });\n    };\n  }\n  private setPoolName(options: any) {\n    const host = options.hostAddress?.host;\n    const port = options.hostAddress?.port;\n    const database = options.dbName;\n    const poolName = `mongodb://${host}:${port}/${database}`;\n    this._poolName = poolName;\n  }\n\n  private _checkSkipInstrumentation(currentSpan: Span | undefined) {\n    const requireParentSpan = this.getConfig().requireParentSpan;\n    const hasNoParentSpan = currentSpan === undefined;\n    return requireParentSpan === true && hasNoParentSpan;\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,MAAA;AAOA,MAAA;AAOA,MAAA;AAYA,MAAA;AAYA,gBAAA,GACA,MAAA;AAGA,MAAM,iBAA+C;IACnD,mBAAmB;;AAGrB,qDAAA,GACA,MAAa,+BAA+B,kBAAA,mBAAiD;IAI3F,YAAY,SAAuC,CAAA,CAAE,CAAA;QACnD,KAAK,CAAC,UAAA,YAAY,EAAE,UAAA,eAAe,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAO,iBAAmB;IAC/D;IAES,UAAU,SAAuC,CAAA,CAAE,EAAA;QAC1D,KAAK,CAAC,UAAS,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAM,iBAAmB;IAC1C;IAES,2BAAwB;QAC/B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,mBAAmB,CACrD,+BACA;YACE,aACE;YACF,MAAM;;IAGZ;IAEA,OAAI;QACF,MAAM,EACJ,mBAAmB,iBAAiB,EACpC,qBAAqB,mBAAmB,EACzC,GAAG,IAAI,CAAC,uBAAuB;QAEhC,MAAM,EAAE,cAAc,EAAE,gBAAgB,EAAE,GAAG,IAAI,CAAC,oBAAoB;QACtE,MAAM,EACJ,yBAAyB,EACzB,wBAAwB,EACxB,mBAAmB,EACpB,GAAG,IAAI,CAAC,uBAAuB;QAChC,MAAM,EAAE,qBAAqB,EAAE,uBAAuB,EAAE,GACtD,IAAI,CAAC,2BAA2B;QAClC,MAAM,EAAE,eAAe,EAAE,iBAAiB,EAAE,GAAG,IAAI,CAAC,qBAAqB;QAEzE,OAAO;YACL,IAAI,kBAAA,mCAAmC,CACrC,WACA;gBAAC;aAAa,EACd,WACA,WACA;gBACE,IAAI,kBAAA,6BAA6B,CAC/B,0CACA;oBAAC;iBAAa,EACd,mBACA;aAEH;YAEH,IAAI,kBAAA,mCAAmC,CACrC,WACA;gBAAC;aAAa,EACd,WACA,WACA;gBACE,IAAI,kBAAA,6BAA6B,CAC/B,kCACA;oBAAC;iBAAe,EAChB,2BACA;gBAEF,IAAI,kBAAA,6BAA6B,CAC/B,kCACA;oBAAC;iBAAa,EACd,0BACA;gBAEF,IAAI,kBAAA,6BAA6B,CAC/B,uCACA;oBAAC;iBAAe,EAChB,uBACA;gBAEF,IAAI,kBAAA,6BAA6B,CAC/B,+BACA;oBAAC;iBAAa,EACd,gBACA;gBAEF,IAAI,kBAAA,6BAA6B,CAC/B,2BACA;oBAAC;iBAAa,EACd,iBACA;aAEH;SAEJ;IACH;IAEQ,0BAAuB;QAC7B,OAAO;YACL,mBAAmB,CAAC;gBAClB,yBAAyB;gBACzB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,MAAM,GAAG;oBACnC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CACR,eACA,UACA,IAAI,CAAC,oBAAoB,CAAC;gBAE5B,yBAAyB;gBACzB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,MAAM,GAAG;oBACnC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CACR,eACA,UACA,IAAI,CAAC,oBAAoB,CAAC;gBAE5B,yBAAyB;gBACzB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,MAAM,GAAG;oBACnC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CACR,eACA,UACA,IAAI,CAAC,oBAAoB,CAAC;gBAE5B,sBAAsB;gBACtB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,OAAO,GAAG;oBACpC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CAAC,eAAe,WAAW,IAAI,CAAC,kBAAkB;gBAC5D,cAAc;gBACd,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,KAAK,GAAG;oBAClC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CAAC,eAAe,SAAS,IAAI,CAAC,eAAe;gBACvD,qCAAqC;gBACrC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,OAAO,GAAG;oBACpC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CAAC,eAAe,WAAW,IAAI,CAAC,iBAAiB;gBAC3D,OAAO;YACT;YACA,qBAAqB,CAAC;gBACpB,IAAI,kBAAkB,WAAW;gBACjC,IAAI,CAAC,OAAO,CAAC,eAAe;gBAC5B,IAAI,CAAC,OAAO,CAAC,eAAe;gBAC5B,IAAI,CAAC,OAAO,CAAC,eAAe;gBAC5B,IAAI,CAAC,OAAO,CAAC,eAAe;gBAC5B,IAAI,CAAC,OAAO,CAAC,eAAe;gBAC5B,IAAI,CAAC,OAAO,CAAC,eAAe;YAC9B;;IAEJ;IAEQ,wBAAqB;QAC3B,OAAO;YACL,iBAAiB,CAAC;gBAChB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,OAAO,GAAG;oBACpC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CACR,cAAc,iBAAiB,CAAC,SAAS,EACzC,WACA,IAAI,CAAC,oBAAoB;gBAG3B,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,OAAO,GAAG;oBACpC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CACR,cAAc,iBAAiB,CAAC,SAAS,EACzC,WACA,IAAI,CAAC,oBAAoB;gBAE3B,OAAO;YACT;YACA,mBAAmB,CAAC;gBAClB,IAAI,kBAAkB,WAAW;gBACjC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,OAAO,GAAG;oBACpC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,OAAO,GAAG;oBACpC,IAAI,CAAC,OAAO,CAAC,eAAe;;YAEhC;;IAEJ;IAEQ,uBAAoB;QAC1B,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS;gBACd,MAAM,yBAAyB,IAAI,CAAC,QAAQ,CAAC,MAAM;gBACnD,MAAM,UAAU,SAAS,IAAI,CAAC,IAAI;gBAClC,MAAM,wBAAwB,IAAI,CAAC,QAAQ,CAAC,MAAM;gBAElD,IAAI,2BAA2B,uBAAuB;oBACpD,4DAA4D;oBAC5D,gBAAgB,iBAAiB,CAAC,GAAG,CAAC,GAAG;wBACvC,OAAO;wBACP,aAAa,gBAAgB,SAAS;;uBAEnC,IAAI,yBAAyB,MAAM,uBAAuB;oBAC/D,wEAAwE;oBACxE,gBAAgB,iBAAiB,CAAC,GAAG,CAAC,CAAC,GAAG;wBACxC,OAAO;wBACP,aAAa,gBAAgB,SAAS;;oBAExC,gBAAgB,iBAAiB,CAAC,GAAG,CAAC,GAAG;wBACvC,OAAO;wBACP,aAAa,gBAAgB,SAAS;;;gBAG1C,OAAO;YACT;QACF;IACF;IAEQ,uBAAoB;QAC1B,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS,aAAwB,OAAsB;gBAC5D,MAAM,aAAa,SAAS,IAAI,CAAC,IAAI,EAAE;gBAEvC,gBAAgB,iBAAiB,CAAC,GAAG,CAAC,CAAC,GAAG;oBACxC,OAAO;oBACP,aAAa,gBAAgB,SAAS;;gBAExC,gBAAgB,iBAAiB,CAAC,GAAG,CAAC,GAAG;oBACvC,OAAO;oBACP,aAAa,gBAAgB,SAAS;;gBAExC,OAAO;YACT;QACF;IACF;IAEQ,8BAA2B;QACjC,OAAO;YACL,uBAAuB,CAAC;gBACtB,MAAM,gBAAgB,cAAc,cAAc,CAAC,SAAS;gBAE5D,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,QAAQ,GAAG;oBACrC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAG9B,IAAI,CAAC,KAAK,CACR,eACA,YACA,IAAI,CAAC,4BAA4B;gBAEnC,OAAO;YACT;YACA,yBAAyB,CAAC;gBACxB,IAAI,kBAAkB,WAAW;gBAEjC,IAAI,CAAC,OAAO,CAAC,cAAc,cAAc,CAAC,SAAS,EAAE;YACvD;;IAEJ;IAEQ,uBAAoB;QAC1B,OAAO;YACL,gBAAgB,CAAC;gBACf,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,OAAO,GAAG;oBACpC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAG9B,IAAI,CAAC,KAAK,CAAC,eAAe,WAAW,IAAI,CAAC,oBAAoB;gBAC9D,OAAO;YACT;YACA,kBAAkB,CAAC;gBACjB,IAAI,kBAAkB,WAAW;gBAEjC,IAAI,CAAC,OAAO,CAAC,eAAe;YAC9B;;IAEJ;IAEA,0CAA0C;IAC1C,qDAAqD;IAC7C,+BAA4B;QAClC,OAAO,CAAC;YACN,OAAO,SAAS,gBAA+B,QAAa;gBAC1D,MAAM,kBAAkB,MAAA,OAAO,CAAC,IAAI,CAAC,MAAA,OAAO,CAAC,MAAM,IAAI;gBACvD,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE;YAC7B;QACF;IACF;IAEQ,uBAAoB;QAC1B,MAAM,kBAAkB,IAAI;QAE5B,OAAO,CACL;YAEA,OAAO,SAAS,eAEd,OAAY,EACZ,QAAa;gBAEb,iFAAiF;gBACjF,sBAAsB;gBACtB,IAAI,SAAS,MAAM,KAAK,GAAG;oBACzB,MAAM,SAAU,SAAyC,IAAI,CAC3D,IAAI,EACJ;oBAEF,IAAI,UAAU,OAAO,OAAO,IAAI,KAAK,YAAY;wBAC/C,OAAO,IAAI,CACT,IAAM,gBAAgB,WAAW,CAAC,UAClC,6CAA6C;wBAC7C,IAAM;;oBAGV,OAAO;;gBAGT,4DAA4D;gBAC5D,MAAM,kBAAkB,SAAU,GAAQ,EAAE,IAAS;oBACnD,IAAI,OAAO,CAAC,MAAM;wBAChB,SAAS,KAAK;wBACd;;oBAEF,gBAAgB,WAAW,CAAC;oBAC5B,SAAS,KAAK;gBAChB;gBAEA,OAAQ,SAA0C,IAAI,CACpD,IAAI,EACJ,SACA;YAEJ;QACF;IACF;IAEA,6DAA6D;IACrD,0BAAuB;QAC7B,OAAO;YACL,2BAA2B,CAAC;gBAC1B,yBAAyB;gBACzB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG;oBACzD,IAAI,CAAC,OAAO,CAAC,cAAc,UAAU,CAAC,SAAS,EAAE;;gBAGnD,IAAI,CAAC,KAAK,CACR,cAAc,UAAU,CAAC,SAAS,EAClC,WACA,IAAI,CAAC,0BAA0B;gBAEjC,OAAO;YACT;YACA,0BAA0B,CAAC;gBACzB,yBAAyB;gBACzB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG;oBACzD,IAAI,CAAC,OAAO,CAAC,cAAc,UAAU,CAAC,SAAS,EAAE;;gBAGnD,IAAI,CAAC,KAAK,CACR,cAAc,UAAU,CAAC,SAAS,EAClC,WACA,IAAI,CAAC,yBAAyB;gBAEhC,OAAO;YACT;YACA,qBAAqB,CAAC;gBACpB,IAAI,kBAAkB,WAAW;gBACjC,IAAI,CAAC,OAAO,CAAC,cAAc,UAAU,CAAC,SAAS,EAAE;YACnD;;IAEJ;IAEA,wCAAA,GACQ,qBAAqB,aAA6C,EAAA;QACxE,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS,qBAEd,MAA6B,EAC7B,EAAU,EACV,GAAc,EACd,OAA2B,EAC3B,QAAmB;gBAEnB,MAAM,cAAc,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBAChD,MAAM,sBACJ,gBAAgB,yBAAyB,CAAC;gBAE5C,MAAM,gBACJ,OAAO,YAAY,aAAa,UAAU;gBAC5C,IACE,uBACA,OAAO,kBAAkB,cACzB,OAAO,QAAQ,UACf;oBACA,IAAI,OAAO,YAAY,YAAY;wBACjC,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK;2BACvC;wBACL,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK,SAAS;;;gBAIzD,MAAM,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAC3C,CAAA,QAAA,EAAW,cAAa,CAAE,EAC1B;oBACE,MAAM,MAAA,QAAQ,CAAC,MAAM;;gBAIzB,gBAAgB,qBAAqB,CACnC,MACA,IACA,QACA,8DAA8D;gBAC9D,GAAG,CAAC,EAAS,EACb;gBAEF,MAAM,kBAAkB,gBAAgB,SAAS,CAAC,MAAM;gBACxD,yEAAyE;gBACzE,IAAI,OAAO,YAAY,YAAY;oBACjC,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK;uBACvC;oBACL,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK,SAAS;;YAEzD;QACF;IACF;IAEA,wCAAA,GACQ,qBAAkB;QACxB,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS,qBAEd,MAA6B,EAC7B,EAAU,EACV,GAAyB,EACzB,OAA2B,EAC3B,QAAmB;gBAEnB,MAAM,cAAc,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBAChD,MAAM,sBACJ,gBAAgB,yBAAyB,CAAC;gBAE5C,MAAM,gBACJ,OAAO,YAAY,aAAa,UAAU;gBAE5C,IACE,uBACA,OAAO,kBAAkB,cACzB,OAAO,QAAQ,UACf;oBACA,IAAI,OAAO,YAAY,YAAY;wBACjC,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK;2BACvC;wBACL,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK,SAAS;;;gBAIzD,MAAM,cAAc,uBAAuB,eAAe,CAAC;gBAC3D,MAAM,OACJ,gBAAgB,iBAAA,kBAAkB,CAAC,OAAO,GAAG,YAAY;gBAC3D,MAAM,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAAC,CAAA,QAAA,EAAW,KAAI,CAAE,EAAE;oBAC/D,MAAM,MAAA,QAAQ,CAAC,MAAM;;gBAEvB,MAAM,YACJ,gBAAgB,iBAAA,kBAAkB,CAAC,OAAO,GAAG,YAAY;gBAC3D,gBAAgB,qBAAqB,CAAC,MAAM,IAAI,QAAQ,KAAK;gBAC7D,MAAM,kBAAkB,gBAAgB,SAAS,CAAC,MAAM;gBACxD,yEAAyE;gBACzE,IAAI,OAAO,YAAY,YAAY;oBACjC,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK;uBACvC;oBACL,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK,SAAS;;YAEzD;QACF;IACF;IAEA,wCAAA,GACQ,6BAA0B;QAChC,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS,uBAEd,EAAoB,EACpB,GAAQ,EACR,OAA4B,EAC5B,QAAa;gBAEb,MAAM,cAAc,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBAChD,MAAM,sBACJ,gBAAgB,yBAAyB,CAAC;gBAC5C,MAAM,gBAAgB;gBACtB,MAAM,cAAc,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE;gBAEvC,IAAI,OAAO,QAAQ,YAAY,IAAI,QAAQ,IAAI,IAAI,KAAK,EAAE;oBACxD,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,IAAI,KAAK,SAAS;;gBAG/C,IAAI,OAAO;gBACX,IAAI,CAAC,qBAAqB;oBACxB,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAAC,CAAA,QAAA,EAAW,YAAW,CAAE,EAAE;wBAChE,MAAM,MAAA,QAAQ,CAAC,MAAM;;oBAEvB,gBAAgB,qBAAqB,CACnC,MACA,IAAI,EACJ,IACA,KACA;;gBAGJ,MAAM,kBAAkB,gBAAgB,SAAS,CAC/C,MACA,eACA,IAAI,CAAC,EAAE,EACP;gBAGF,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,IAAI,KAAK,SAAS;YAC/C;QACF;IACF;IAEQ,4BAAyB;QAC/B,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS,uBAEd,GAAG,IAAgD;gBAEnD,MAAM,CAAC,IAAI,IAAI,GAAG;gBAClB,MAAM,cAAc,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBAChD,MAAM,sBACJ,gBAAgB,yBAAyB,CAAC;gBAE5C,MAAM,cAAc,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE;gBACvC,MAAM,gBAAgB,IAAM;gBAE5B,IAAI,OAAO,QAAQ,YAAY,IAAI,QAAQ,IAAI,IAAI,KAAK,EAAE;oBACxD,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;;gBAG9B,IAAI,OAAO;gBACX,IAAI,CAAC,qBAAqB;oBACxB,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAAC,CAAA,QAAA,EAAW,YAAW,CAAE,EAAE;wBAChE,MAAM,MAAA,QAAQ,CAAC,MAAM;;oBAEvB,gBAAgB,qBAAqB,CACnC,MACA,IAAI,EACJ,IACA,KACA;;gBAIJ,MAAM,kBAAkB,gBAAgB,SAAS,CAC/C,MACA,eACA,IAAI,CAAC,EAAE,EACP;gBAGF,MAAM,SAAS,SAAS,KAAK,CAAC,IAAI,EAAE;gBACpC,OAAO,IAAI,CACT,CAAC,MAAa,gBAAgB,MAAM,MACpC,CAAC,MAAa,gBAAgB;gBAGhC,OAAO;YACT;QACF;IACF;IAEA,qCAAA,GACQ,kBAAe;QACrB,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS,qBAEd,MAA6B,EAC7B,EAAU,EACV,GAAyB,EACzB,WAAwB,EACxB,OAA2B,EAC3B,QAAmB;gBAEnB,MAAM,cAAc,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBAChD,MAAM,sBACJ,gBAAgB,yBAAyB,CAAC;gBAC5C,MAAM,gBACJ,OAAO,YAAY,aAAa,UAAU;gBAE5C,IACE,uBACA,OAAO,kBAAkB,cACzB,OAAO,QAAQ,UACf;oBACA,IAAI,OAAO,YAAY,YAAY;wBACjC,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK,aAAa;2BACpD;wBACL,OAAO,SAAS,IAAI,CAClB,IAAI,EACJ,QACA,IACA,KACA,aACA,SACA;;;gBAKN,MAAM,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAAC,gBAAgB;oBAC5D,MAAM,MAAA,QAAQ,CAAC,MAAM;;gBAEvB,gBAAgB,qBAAqB,CAAC,MAAM,IAAI,QAAQ,KAAK;gBAC7D,MAAM,kBAAkB,gBAAgB,SAAS,CAAC,MAAM;gBACxD,yEAAyE;gBACzE,IAAI,OAAO,YAAY,YAAY;oBACjC,OAAO,SAAS,IAAI,CAClB,IAAI,EACJ,QACA,IACA,KACA,aACA;uBAEG;oBACL,OAAO,SAAS,IAAI,CAClB,IAAI,EACJ,QACA,IACA,KACA,aACA,SACA;;YAGN;QACF;IACF;IAEA,qCAAA,GACQ,oBAAiB;QACvB,MAAM,kBAAkB,IAAI;QAC5B,OAAO,CAAC;YACN,OAAO,SAAS,qBAEd,MAA6B,EAC7B,EAAU,EACV,WAAwB,EACxB,SAAiB,EACjB,OAA2B,EAC3B,QAAmB;gBAEnB,MAAM,cAAc,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBAChD,MAAM,sBACJ,gBAAgB,yBAAyB,CAAC;gBAE5C,MAAM,gBACJ,OAAO,YAAY,aAAa,UAAU;gBAE5C,IAAI,uBAAuB,OAAO,kBAAkB,YAAY;oBAC9D,IAAI,OAAO,YAAY,YAAY;wBACjC,OAAO,SAAS,IAAI,CAClB,IAAI,EACJ,QACA,IACA,aACA,WACA;2BAEG;wBACL,OAAO,SAAS,IAAI,CAClB,IAAI,EACJ,QACA,IACA,aACA,WACA,SACA;;;gBAKN,MAAM,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAAC,mBAAmB;oBAC/D,MAAM,MAAA,QAAQ,CAAC,MAAM;;gBAEvB,gBAAgB,qBAAqB,CACnC,MACA,IACA,QACA,YAAY,GAAG,EACf;gBAEF,MAAM,kBAAkB,gBAAgB,SAAS,CAAC,MAAM;gBACxD,yEAAyE;gBACzE,IAAI,OAAO,YAAY,YAAY;oBACjC,OAAO,SAAS,IAAI,CAClB,IAAI,EACJ,QACA,IACA,aACA,WACA;uBAEG;oBACL,OAAO,SAAS,IAAI,CAClB,IAAI,EACJ,QACA,IACA,aACA,WACA,SACA;;YAGN;QACF;IACF;IAEA;;;QAIQ,OAAO,gBACb,OAA6B,EAAA;QAE7B,IAAI,QAAQ,aAAa,KAAK,WAAW;YACvC,OAAO,iBAAA,kBAAkB,CAAC,cAAc;eACnC,IAAI,QAAQ,aAAa,KAAK,WAAW;YAC9C,OAAO,iBAAA,kBAAkB,CAAC,eAAe;eACpC,IAAI,QAAQ,QAAQ,KAAK,WAAW;YACzC,OAAO,iBAAA,kBAAkB,CAAC,SAAS;eAC9B,IAAI,QAAQ,KAAK,KAAK,WAAW;YACtC,OAAO,iBAAA,kBAAkB,CAAC,KAAK;eAC1B,IAAI,QAAQ,SAAS,KAAK,WAAW;YAC1C,OAAO,iBAAA,kBAAkB,CAAC,SAAS;eAC9B;YACL,OAAO,iBAAA,kBAAkB,CAAC,OAAO;;IAErC;IAEA;;;;;;QAOQ,sBACN,IAAU,EACV,aAAkB,EAClB,EAAoB,EACpB,OAAa,EACb,SAAkB,EAAA;QAElB,IAAI,MAAM;QACV,IAAI,eAAe;YACjB,MAAM,YACJ,OAAO,cAAc,OAAO,KAAK,WAC7B,cAAc,OAAO,CAAC,KAAK,CAAC,OAC5B;YACN,IAAI,UAAU,MAAM,KAAK,GAAG;gBAC1B,OAAO,SAAS,CAAC,EAAE;gBACnB,OAAO,SAAS,CAAC,EAAE;;;QAGvB,uFAAuF;QACvF,IAAI;QACJ,IAAI,CAAA,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,SAAS,KAAI,QAAQ,SAAS,CAAC,EAAE,EAAE;YAC9C,aAAa,QAAQ,SAAS,CAAC,EAAE;eAC5B,IAAI,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,OAAO,EAAE;YAC3B,aAAa,QAAQ,OAAO;eACvB;YACL,aAAa;;QAGf,IAAI,CAAC,qBAAqB,CACxB,MACA,GAAG,EAAE,EACL,GAAG,UAAU,EACb,MACA,MACA,YACA;IAEJ;IAEA;;;;;;QAOQ,sBACN,IAAU,EACV,EAAU,EACV,QAA+B,EAC/B,OAA8B,EAC9B,SAA8B,EAAA;;QAE9B,wDAAwD;QACxD,IAAI;QACJ,IAAI;QACJ,IAAI,YAAY,SAAS,CAAC,EAAE;YAC1B,OAAO,CAAA,KAAA,CAAA,KAAA,SAAS,CAAC,CAAC,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,SAAS,CAAC,CAAC,IAAI;YAClD,OAAO,CAAA,KAAC,CAAA,KAAA,CAAA,KAAA,SAAS,CAAC,CAAC,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,SAAS,CAAC,CAAC,IAAI,AAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,QAAQ;YAC9D,IAAI,QAAQ,QAAQ,QAAQ,MAAM;gBAChC,MAAM,UAAU,CAAA,KAAA,SAAS,WAAW,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,OAAO;gBAC7C,IAAI,SAAS;oBACX,MAAM,kBAAkB,QAAQ,KAAK,CAAC;oBACtC,OAAO,eAAe,CAAC,EAAE;oBACzB,OAAO,eAAe,CAAC,EAAE;;;;QAK/B,0EAA0E;QAC1E,4EAA4E;QAC5E,sEAAsE;QACtE,0DAA0D;QAC1D,MAAM,CAAC,QAAQ,aAAa,GAAG,GAAG,QAAQ,GAAG,KAAK,CAAC;QACnD,uFAAuF;QACvF,MAAM,aAAa,CAAA,KAAA,CAAA,KAAA,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,KAAK,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI;QAEnD,IAAI,CAAC,qBAAqB,CACxB,MACA,QACA,cACA,MACA,MACA,YACA;IAEJ;IAEQ,sBACN,IAAU,EACV,MAAe,EACf,YAAqB,EACrB,IAAyB,EACzB,IAAyB,EACzB,UAAgB,EAChB,SAA8B,EAAA;QAE9B,kCAAkC;QAClC,KAAK,aAAa,CAAC;YACjB,CAAC,uBAAA,kBAAkB,CAAC,EAAE,uBAAA,sBAAsB;YAC5C,CAAC,uBAAA,gBAAgB,CAAC,EAAE;YACpB,CAAC,uBAAA,8BAA8B,CAAC,EAAE;YAClC,CAAC,uBAAA,qBAAqB,CAAC,EAAE;YACzB,CAAC,uBAAA,6BAA6B,CAAC,EAAE,CAAA,UAAA,EAAa,KAAI,CAAA,EAAI,KAAI,CAAA,EAAI,OAAM,CAAE;;QAGxE,IAAI,QAAQ,MAAM;YAChB,KAAK,YAAY,CAAC,uBAAA,sBAAsB,EAAE;YAC1C,MAAM,aAAa,SAAS,MAAM;YAClC,IAAI,CAAC,MAAM,aAAa;gBACtB,KAAK,YAAY,CAAC,uBAAA,sBAAsB,EAAE;;;QAG9C,IAAI,CAAC,YAAY;QAEjB,MAAM,EAAE,uBAAuB,2BAA2B,EAAE,GAC1D,IAAI,CAAC,SAAS;QAChB,MAAM,wBACJ,OAAO,gCAAgC,aACnC,8BACA,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,IAAI;QAElD,CAAA,GAAA,kBAAA,sBAAsB,EACpB;YACE,MAAM,QAAQ,sBAAsB;YACpC,KAAK,YAAY,CAAC,uBAAA,qBAAqB,EAAE;QAC3C,GACA,CAAA;YACE,IAAI,KAAK;gBACP,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,4CAA4C;;QAEjE,GACA;IAEJ;IAEQ,8BAA8B,UAAmC,EAAA;QACvE,MAAM,EAAE,yBAAyB,EAAE,GAAG,IAAI,CAAC,SAAS;QACpD,MAAM,YAAY,4BACd,aACA,IAAI,CAAC,eAAe,CAAC;QACzB,OAAO,KAAK,SAAS,CAAC;IACxB;IAEQ,gBAAgB,KAAc,EAAA;QACpC,IAAI,MAAM,OAAO,CAAC,QAAQ;YACxB,OAAO,MAAM,GAAG,CAAC,CAAA,UAAW,IAAI,CAAC,eAAe,CAAC;;QAGnD,IAAI,OAAO,UAAU,YAAY,UAAU,MAAM;YAC/C,OAAO,OAAO,WAAW,CACvB,OAAO,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,QAAQ,GAAK;oBAC5C;oBACA,IAAI,CAAC,eAAe,CAAC;iBACtB;;QAIL,iEAAiE;QACjE,OAAO;IACT;IAEA;;;;QAKQ,uBAAuB,IAAU,EAAE,MAAqB,EAAA;QAC9D,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,CAAC,SAAS;QACvC,IAAI,OAAO,iBAAiB,YAAY;YACtC,CAAA,GAAA,kBAAA,sBAAsB,EACpB;gBACE,aAAa,MAAM;oBAAE,MAAM;gBAAM;YACnC,GACA,CAAA;gBACE,IAAI,KAAK;oBACP,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,+BAA+B;;YAEpD,GACA;;IAGN;IAEA;;;;;QAMQ,UACN,IAAsB,EACtB,aAAuB,EACvB,YAAqB,EACrB,WAAoB,EAAA;QAEpB,wEAAwE;QACxE,4CAA4C;QAC5C,MAAM,gBAAgB,MAAA,OAAO,CAAC,MAAM;QACpC,MAAM,kBAAkB,IAAI;QAC5B,OAAO,SAAS,WAAqB,GAAG,IAAe;YACrD,MAAM,QAAQ,IAAI,CAAC,EAAE;YACrB,IAAI,MAAM;gBACR,IAAI,iBAAiB,OAAO;oBAC1B,SAAI,QAAJ,SAAI,KAAA,IAAA,KAAA,IAAJ,KAAM,SAAS,CAAC;wBACd,MAAM,MAAA,cAAc,CAAC,KAAK;wBAC1B,SAAS,MAAM,OAAO;;uBAEnB;oBACL,MAAM,SAAS,IAAI,CAAC,EAAmB;oBACvC,gBAAgB,sBAAsB,CAAC,MAAM;;gBAE/C,KAAK,GAAG;;YAGV,OAAO,MAAA,OAAO,CAAC,IAAI,CAAC,eAAe;gBACjC,IAAI,gBAAgB,eAAe;oBACjC,gBAAgB,iBAAiB,CAAC,GAAG,CAAC,CAAC,GAAG;wBACxC,OAAO;wBACP,aAAa,gBAAgB,SAAS;;;gBAG1C,OAAO,cAAc,KAAK,CAAC,IAAI,EAAE;YACnC;QACF;IACF;IACQ,YAAY,OAAY,EAAA;;QAC9B,MAAM,OAAO,CAAA,KAAA,QAAQ,WAAW,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI;QACtC,MAAM,OAAO,CAAA,KAAA,QAAQ,WAAW,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI;QACtC,MAAM,WAAW,QAAQ,MAAM;QAC/B,MAAM,WAAW,CAAA,UAAA,EAAa,KAAI,CAAA,EAAI,KAAI,CAAA,EAAI,SAAQ,CAAE;QACxD,IAAI,CAAC,SAAS,GAAG;IACnB;IAEQ,0BAA0B,WAA6B,EAAA;QAC7D,MAAM,oBAAoB,IAAI,CAAC,SAAS,GAAG,iBAAiB;QAC5D,MAAM,kBAAkB,gBAAgB;QACxC,OAAO,sBAAsB,QAAQ;IACvC;;AAh+BF,QAAA,sBAAA,GAAA"}},
    {"offset": {"line": 16428, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16432, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_076c8da918723f5babd260d34c776f38/node_modules/@opentelemetry/instrumentation-mongodb/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport { Span } from '@opentelemetry/api';\n\nexport interface MongoDBInstrumentationExecutionResponseHook {\n  (span: Span, responseInfo: MongoResponseHookInformation): void;\n}\n\n/**\n * Function that can be used to serialize db.statement tag\n * @param cmd - MongoDB command object\n *\n * @returns serialized string that will be used as the db.statement attribute.\n */\nexport type DbStatementSerializer = (cmd: Record<string, unknown>) => string;\n\nexport interface MongoDBInstrumentationConfig extends InstrumentationConfig {\n  /**\n   * If true, additional information about query parameters and\n   * results will be attached (as `attributes`) to spans representing\n   * database operations.\n   */\n  enhancedDatabaseReporting?: boolean;\n\n  /**\n   * Hook that allows adding custom span attributes based on the data\n   * returned from MongoDB actions.\n   *\n   * @default undefined\n   */\n  responseHook?: MongoDBInstrumentationExecutionResponseHook;\n\n  /**\n   * Custom serializer function for the db.statement tag\n   */\n  dbStatementSerializer?: DbStatementSerializer;\n\n  /**\n   * Require parent to create mongodb span, default when unset is true\n   */\n  requireParentSpan?: boolean;\n}\n\nexport interface MongoResponseHookInformation {\n  data: CommandResult;\n}\n\n// https://github.com/mongodb/node-mongodb-native/blob/3.6/lib/core/connection/command_result.js\nexport type CommandResult = {\n  result?: unknown;\n  connection?: unknown;\n  message?: unknown;\n};\n\nexport enum MongodbCommandType {\n  CREATE_INDEXES = 'createIndexes',\n  FIND_AND_MODIFY = 'findAndModify',\n  IS_MASTER = 'isMaster',\n  COUNT = 'count',\n  UNKNOWN = 'unknown',\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAqEA,IAAY;AAAZ,CAAA,SAAY,kBAAkB;IAC5B,kBAAA,CAAA,iBAAA,GAAA;IACA,kBAAA,CAAA,kBAAA,GAAA;IACA,kBAAA,CAAA,YAAA,GAAA;IACA,kBAAA,CAAA,QAAA,GAAA;IACA,kBAAA,CAAA,UAAA,GAAA;AACF,CAAC,EANW,qBAAA,QAAA,kBAAkB,IAAA,CAAlB,QAAA,kBAAkB,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 16459, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16463, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_076c8da918723f5babd260d34c776f38/node_modules/@opentelemetry/instrumentation-mongodb/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,yOAAA;AACA,+NAAA"}},
    {"offset": {"line": 16498, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16502, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_abf4b6a813f0c904766ef5a676a2a270/node_modules/@opentelemetry/instrumentation-mongoose/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Attributes, SpanStatusCode, diag, Span } from '@opentelemetry/api';\nimport type { Collection } from 'mongoose';\nimport { MongooseResponseCustomAttributesFunction } from './types';\nimport { safeExecuteInTheMiddle } from '@opentelemetry/instrumentation';\nimport {\n  SEMATTRS_DB_MONGODB_COLLECTION,\n  SEMATTRS_DB_NAME,\n  SEMATTRS_DB_USER,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n} from '@opentelemetry/semantic-conventions';\n\nexport function getAttributesFromCollection(\n  collection: Collection\n): Attributes {\n  return {\n    [SEMATTRS_DB_MONGODB_COLLECTION]: collection.name,\n    [SEMATTRS_DB_NAME]: collection.conn.name,\n    [SEMATTRS_DB_USER]: collection.conn.user,\n    [SEMATTRS_NET_PEER_NAME]: collection.conn.host,\n    [SEMATTRS_NET_PEER_PORT]: collection.conn.port,\n  };\n}\n\nfunction setErrorStatus(span: Span, error: any = {}) {\n  span.recordException(error);\n\n  span.setStatus({\n    code: SpanStatusCode.ERROR,\n    message: `${error.message} ${\n      error.code ? `\\nMongoose Error Code: ${error.code}` : ''\n    }`,\n  });\n}\n\nfunction applyResponseHook(\n  span: Span,\n  response: any,\n  responseHook?: MongooseResponseCustomAttributesFunction,\n  moduleVersion: string | undefined = undefined\n) {\n  if (!responseHook) {\n    return;\n  }\n\n  safeExecuteInTheMiddle(\n    () => responseHook(span, { moduleVersion, response }),\n    e => {\n      if (e) {\n        diag.error('mongoose instrumentation: responseHook error', e);\n      }\n    },\n    true\n  );\n}\n\nexport function handlePromiseResponse(\n  execResponse: any,\n  span: Span,\n  responseHook?: MongooseResponseCustomAttributesFunction,\n  moduleVersion: string | undefined = undefined\n): any {\n  if (!(execResponse instanceof Promise)) {\n    applyResponseHook(span, execResponse, responseHook, moduleVersion);\n    span.end();\n    return execResponse;\n  }\n\n  return execResponse\n    .then(response => {\n      applyResponseHook(span, response, responseHook, moduleVersion);\n      return response;\n    })\n    .catch(err => {\n      setErrorStatus(span, err);\n      throw err;\n    })\n    .finally(() => span.end());\n}\n\nexport function handleCallbackResponse(\n  callback: Function,\n  exec: Function,\n  originalThis: any,\n  span: Span,\n  args: IArguments,\n  responseHook?: MongooseResponseCustomAttributesFunction,\n  moduleVersion: string | undefined = undefined\n) {\n  let callbackArgumentIndex = 0;\n  if (args.length === 2) {\n    callbackArgumentIndex = 1;\n  }\n\n  args[callbackArgumentIndex] = (err: Error, response: any): any => {\n    err\n      ? setErrorStatus(span, err)\n      : applyResponseHook(span, response, responseHook, moduleVersion);\n\n    span.end();\n    return callback!(err, response);\n  };\n\n  return exec.apply(originalThis, args);\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,MAAA;AAGA,MAAA;AACA,MAAA;AAQA,SAAgB,4BACd,UAAsB;IAEtB,OAAO;QACL,CAAC,uBAAA,8BAA8B,CAAC,EAAE,WAAW,IAAI;QACjD,CAAC,uBAAA,gBAAgB,CAAC,EAAE,WAAW,IAAI,CAAC,IAAI;QACxC,CAAC,uBAAA,gBAAgB,CAAC,EAAE,WAAW,IAAI,CAAC,IAAI;QACxC,CAAC,uBAAA,sBAAsB,CAAC,EAAE,WAAW,IAAI,CAAC,IAAI;QAC9C,CAAC,uBAAA,sBAAsB,CAAC,EAAE,WAAW,IAAI,CAAC,IAAI;;AAElD;AAVA,QAAA,2BAAA,GAAA;AAYA,SAAS,eAAe,IAAU,EAAE,QAAa,CAAA,CAAE;IACjD,KAAK,eAAe,CAAC;IAErB,KAAK,SAAS,CAAC;QACb,MAAM,MAAA,cAAc,CAAC,KAAK;QAC1B,SAAS,CAAA,EAAG,MAAM,OAAO,CAAA,CAAA,EACvB,MAAM,IAAI,GAAG,CAAA,uBAAA,EAA0B,MAAM,IAAI,CAAA,CAAE,GAAG,GACxD,CAAE;;AAEN;AAEA,SAAS,kBACP,IAAU,EACV,QAAa,EACb,YAAuD,EACvD,gBAAoC,SAAS;IAE7C,IAAI,CAAC,cAAc;QACjB;;IAGF,CAAA,GAAA,kBAAA,sBAAsB,EACpB,IAAM,aAAa,MAAM;YAAE;YAAe;QAAQ,IAClD,CAAA;QACE,IAAI,GAAG;YACL,MAAA,IAAI,CAAC,KAAK,CAAC,gDAAgD;;IAE/D,GACA;AAEJ;AAEA,SAAgB,sBACd,YAAiB,EACjB,IAAU,EACV,YAAuD,EACvD,gBAAoC,SAAS;IAE7C,IAAI,CAAC,CAAC,wBAAwB,OAAO,GAAG;QACtC,kBAAkB,MAAM,cAAc,cAAc;QACpD,KAAK,GAAG;QACR,OAAO;;IAGT,OAAO,aACJ,IAAI,CAAC,CAAA;QACJ,kBAAkB,MAAM,UAAU,cAAc;QAChD,OAAO;IACT,GACC,KAAK,CAAC,CAAA;QACL,eAAe,MAAM;QACrB,MAAM;IACR,GACC,OAAO,CAAC,IAAM,KAAK,GAAG;AAC3B;AAtBA,QAAA,qBAAA,GAAA;AAwBA,SAAgB,uBACd,QAAkB,EAClB,IAAc,EACd,YAAiB,EACjB,IAAU,EACV,IAAgB,EAChB,YAAuD,EACvD,gBAAoC,SAAS;IAE7C,IAAI,wBAAwB;IAC5B,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,wBAAwB;;IAG1B,IAAI,CAAC,sBAAsB,GAAG,CAAC,KAAY;QACzC,MACI,eAAe,MAAM,OACrB,kBAAkB,MAAM,UAAU,cAAc;QAEpD,KAAK,GAAG;QACR,OAAO,SAAU,KAAK;IACxB;IAEA,OAAO,KAAK,KAAK,CAAC,cAAc;AAClC;AAxBA,QAAA,sBAAA,GAAA"}},
    {"offset": {"line": 16582, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16586, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_abf4b6a813f0c904766ef5a676a2a270/node_modules/@opentelemetry/instrumentation-mongoose/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.46.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-mongoose';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 16608, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16612, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_abf4b6a813f0c904766ef5a676a2a270/node_modules/@opentelemetry/instrumentation-mongoose/src/mongoose.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { context, Span, trace, Attributes, SpanKind } from '@opentelemetry/api';\nimport { suppressTracing } from '@opentelemetry/core';\nimport type * as mongoose from 'mongoose';\nimport { MongooseInstrumentationConfig, SerializerPayload } from './types';\nimport {\n  handleCallbackResponse,\n  handlePromiseResponse,\n  getAttributesFromCollection,\n} from './utils';\nimport {\n  InstrumentationBase,\n  InstrumentationModuleDefinition,\n  InstrumentationNodeModuleDefinition,\n} from '@opentelemetry/instrumentation';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport {\n  SEMATTRS_DB_OPERATION,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n} from '@opentelemetry/semantic-conventions';\n\nconst contextCaptureFunctionsCommon = [\n  'deleteOne',\n  'deleteMany',\n  'find',\n  'findOne',\n  'estimatedDocumentCount',\n  'countDocuments',\n  'distinct',\n  'where',\n  '$where',\n  'findOneAndUpdate',\n  'findOneAndDelete',\n  'findOneAndReplace',\n];\n\nconst contextCaptureFunctions6 = [\n  'remove',\n  'count',\n  'findOneAndRemove',\n  ...contextCaptureFunctionsCommon,\n];\nconst contextCaptureFunctions7 = [\n  'count',\n  'findOneAndRemove',\n  ...contextCaptureFunctionsCommon,\n];\nconst contextCaptureFunctions8 = [...contextCaptureFunctionsCommon];\n\nfunction getContextCaptureFunctions(\n  moduleVersion: string | undefined\n): string[] {\n  /* istanbul ignore next */\n  if (!moduleVersion) {\n    return contextCaptureFunctionsCommon;\n  } else if (moduleVersion.startsWith('6.') || moduleVersion.startsWith('5.')) {\n    return contextCaptureFunctions6;\n  } else if (moduleVersion.startsWith('7.')) {\n    return contextCaptureFunctions7;\n  } else {\n    return contextCaptureFunctions8;\n  }\n}\n\nfunction instrumentRemove(moduleVersion: string | undefined): boolean {\n  return (\n    (moduleVersion &&\n      (moduleVersion.startsWith('5.') || moduleVersion.startsWith('6.'))) ||\n    false\n  );\n}\n\n// when mongoose functions are called, we store the original call context\n// and then set it as the parent for the spans created by Query/Aggregate exec()\n// calls. this bypass the unlinked spans issue on thenables await operations.\nexport const _STORED_PARENT_SPAN: unique symbol = Symbol('stored-parent-span');\n\nexport class MongooseInstrumentation extends InstrumentationBase<MongooseInstrumentationConfig> {\n  constructor(config: MongooseInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  protected init(): InstrumentationModuleDefinition {\n    const module = new InstrumentationNodeModuleDefinition(\n      'mongoose',\n      ['>=5.9.7 <9'],\n      this.patch.bind(this),\n      this.unpatch.bind(this)\n    );\n    return module;\n  }\n\n  private patch(\n    moduleExports: typeof mongoose,\n    moduleVersion: string | undefined\n  ) {\n    this._wrap(\n      moduleExports.Model.prototype,\n      'save',\n      this.patchOnModelMethods('save', moduleVersion)\n    );\n    // mongoose applies this code on module require:\n    // Model.prototype.$save = Model.prototype.save;\n    // which captures the save function before it is patched.\n    // so we need to apply the same logic after instrumenting the save function.\n    moduleExports.Model.prototype.$save = moduleExports.Model.prototype.save;\n\n    if (instrumentRemove(moduleVersion)) {\n      this._wrap(\n        moduleExports.Model.prototype,\n        'remove',\n        this.patchOnModelMethods('remove', moduleVersion)\n      );\n    }\n\n    this._wrap(\n      moduleExports.Query.prototype,\n      'exec',\n      this.patchQueryExec(moduleVersion)\n    );\n    this._wrap(\n      moduleExports.Aggregate.prototype,\n      'exec',\n      this.patchAggregateExec(moduleVersion)\n    );\n\n    const contextCaptureFunctions = getContextCaptureFunctions(moduleVersion);\n\n    contextCaptureFunctions.forEach((funcName: string) => {\n      this._wrap(\n        moduleExports.Query.prototype,\n        funcName as any,\n        this.patchAndCaptureSpanContext(funcName)\n      );\n    });\n    this._wrap(moduleExports.Model, 'aggregate', this.patchModelAggregate());\n\n    return moduleExports;\n  }\n\n  private unpatch(\n    moduleExports: typeof mongoose,\n    moduleVersion: string | undefined\n  ): void {\n    const contextCaptureFunctions = getContextCaptureFunctions(moduleVersion);\n\n    this._unwrap(moduleExports.Model.prototype, 'save');\n    // revert the patch for $save which we applied by aliasing it to patched `save`\n    moduleExports.Model.prototype.$save = moduleExports.Model.prototype.save;\n\n    if (instrumentRemove(moduleVersion)) {\n      this._unwrap(moduleExports.Model.prototype, 'remove');\n    }\n\n    this._unwrap(moduleExports.Query.prototype, 'exec');\n    this._unwrap(moduleExports.Aggregate.prototype, 'exec');\n\n    contextCaptureFunctions.forEach((funcName: string) => {\n      this._unwrap(moduleExports.Query.prototype, funcName as any);\n    });\n    this._unwrap(moduleExports.Model, 'aggregate');\n  }\n\n  private patchAggregateExec(moduleVersion: string | undefined) {\n    const self = this;\n    return (originalAggregate: Function) => {\n      return function exec(this: any, callback?: Function) {\n        if (\n          self.getConfig().requireParentSpan &&\n          trace.getSpan(context.active()) === undefined\n        ) {\n          return originalAggregate.apply(this, arguments);\n        }\n\n        const parentSpan = this[_STORED_PARENT_SPAN];\n        const attributes: Attributes = {};\n        const { dbStatementSerializer } = self.getConfig();\n        if (dbStatementSerializer) {\n          attributes[SEMATTRS_DB_STATEMENT] = dbStatementSerializer(\n            'aggregate',\n            {\n              options: this.options,\n              aggregatePipeline: this._pipeline,\n            }\n          );\n        }\n\n        const span = self._startSpan(\n          this._model.collection,\n          this._model?.modelName,\n          'aggregate',\n          attributes,\n          parentSpan\n        );\n\n        return self._handleResponse(\n          span,\n          originalAggregate,\n          this,\n          arguments,\n          callback,\n          moduleVersion\n        );\n      };\n    };\n  }\n\n  private patchQueryExec(moduleVersion: string | undefined) {\n    const self = this;\n    return (originalExec: Function) => {\n      return function exec(this: any, callback?: Function) {\n        if (\n          self.getConfig().requireParentSpan &&\n          trace.getSpan(context.active()) === undefined\n        ) {\n          return originalExec.apply(this, arguments);\n        }\n\n        const parentSpan = this[_STORED_PARENT_SPAN];\n        const attributes: Attributes = {};\n        const { dbStatementSerializer } = self.getConfig();\n        if (dbStatementSerializer) {\n          attributes[SEMATTRS_DB_STATEMENT] = dbStatementSerializer(this.op, {\n            condition: this._conditions,\n            updates: this._update,\n            options: this.options,\n            fields: this._fields,\n          });\n        }\n        const span = self._startSpan(\n          this.mongooseCollection,\n          this.model.modelName,\n          this.op,\n          attributes,\n          parentSpan\n        );\n\n        return self._handleResponse(\n          span,\n          originalExec,\n          this,\n          arguments,\n          callback,\n          moduleVersion\n        );\n      };\n    };\n  }\n\n  private patchOnModelMethods(op: string, moduleVersion: string | undefined) {\n    const self = this;\n    return (originalOnModelFunction: Function) => {\n      return function method(this: any, options?: any, callback?: Function) {\n        if (\n          self.getConfig().requireParentSpan &&\n          trace.getSpan(context.active()) === undefined\n        ) {\n          return originalOnModelFunction.apply(this, arguments);\n        }\n\n        const serializePayload: SerializerPayload = { document: this };\n        if (options && !(options instanceof Function)) {\n          serializePayload.options = options;\n        }\n        const attributes: Attributes = {};\n        const { dbStatementSerializer } = self.getConfig();\n        if (dbStatementSerializer) {\n          attributes[SEMATTRS_DB_STATEMENT] = dbStatementSerializer(\n            op,\n            serializePayload\n          );\n        }\n        const span = self._startSpan(\n          this.constructor.collection,\n          this.constructor.modelName,\n          op,\n          attributes\n        );\n\n        if (options instanceof Function) {\n          callback = options;\n          options = undefined;\n        }\n\n        return self._handleResponse(\n          span,\n          originalOnModelFunction,\n          this,\n          arguments,\n          callback,\n          moduleVersion\n        );\n      };\n    };\n  }\n\n  // we want to capture the otel span on the object which is calling exec.\n  // in the special case of aggregate, we need have no function to path\n  // on the Aggregate object to capture the context on, so we patch\n  // the aggregate of Model, and set the context on the Aggregate object\n  private patchModelAggregate() {\n    const self = this;\n    return (original: Function) => {\n      return function captureSpanContext(this: any) {\n        const currentSpan = trace.getSpan(context.active());\n        const aggregate = self._callOriginalFunction(() =>\n          original.apply(this, arguments)\n        );\n        if (aggregate) aggregate[_STORED_PARENT_SPAN] = currentSpan;\n        return aggregate;\n      };\n    };\n  }\n\n  private patchAndCaptureSpanContext(funcName: string) {\n    const self = this;\n    return (original: Function) => {\n      return function captureSpanContext(this: any) {\n        this[_STORED_PARENT_SPAN] = trace.getSpan(context.active());\n        return self._callOriginalFunction(() =>\n          original.apply(this, arguments)\n        );\n      };\n    };\n  }\n\n  private _startSpan(\n    collection: mongoose.Collection,\n    modelName: string,\n    operation: string,\n    attributes: Attributes,\n    parentSpan?: Span\n  ): Span {\n    return this.tracer.startSpan(\n      `mongoose.${modelName}.${operation}`,\n      {\n        kind: SpanKind.CLIENT,\n        attributes: {\n          ...attributes,\n          ...getAttributesFromCollection(collection),\n          [SEMATTRS_DB_OPERATION]: operation,\n          [SEMATTRS_DB_SYSTEM]: 'mongoose',\n        },\n      },\n      parentSpan ? trace.setSpan(context.active(), parentSpan) : undefined\n    );\n  }\n\n  private _handleResponse(\n    span: Span,\n    exec: Function,\n    originalThis: any,\n    args: IArguments,\n    callback?: Function,\n    moduleVersion: string | undefined = undefined\n  ) {\n    const self = this;\n    if (callback instanceof Function) {\n      return self._callOriginalFunction(() =>\n        handleCallbackResponse(\n          callback,\n          exec,\n          originalThis,\n          span,\n          args,\n          self.getConfig().responseHook,\n          moduleVersion\n        )\n      );\n    } else {\n      const response = self._callOriginalFunction(() =>\n        exec.apply(originalThis, args)\n      );\n      return handlePromiseResponse(\n        response,\n        span,\n        self.getConfig().responseHook,\n        moduleVersion\n      );\n    }\n  }\n\n  private _callOriginalFunction<T>(originalFunction: (...args: any[]) => T): T {\n    if (this.getConfig().suppressInternalInstrumentation) {\n      return context.with(suppressTracing(context.active()), originalFunction);\n    } else {\n      return originalFunction();\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,MAAA;AACA,MAAA;AAGA,MAAA;AAKA,MAAA;AAKA,gBAAA,GACA,MAAA;AACA,MAAA;AAMA,MAAM,gCAAgC;IACpC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,2BAA2B;IAC/B;IACA;IACA;OACG;CACJ;AACD,MAAM,2BAA2B;IAC/B;IACA;OACG;CACJ;AACD,MAAM,2BAA2B;OAAI;CAA8B;AAEnE,SAAS,2BACP,aAAiC;IAEjC,wBAAA,GACA,IAAI,CAAC,eAAe;QAClB,OAAO;WACF,IAAI,cAAc,UAAU,CAAC,SAAS,cAAc,UAAU,CAAC,OAAO;QAC3E,OAAO;WACF,IAAI,cAAc,UAAU,CAAC,OAAO;QACzC,OAAO;WACF;QACL,OAAO;;AAEX;AAEA,SAAS,iBAAiB,aAAiC;IACzD,OACE,AAAC,iBACC,CAAC,cAAc,UAAU,CAAC,SAAS,cAAc,UAAU,CAAC,KAAK,KACnE;AAEJ;AAEA,yEAAyE;AACzE,gFAAgF;AAChF,6EAA6E;AAChE,QAAA,mBAAmB,GAAkB,OAAO;AAEzD,MAAa,gCAAgC,kBAAA,mBAAkD;IAC7F,YAAY,SAAwC,CAAA,CAAE,CAAA;QACpD,KAAK,CAAC,UAAA,YAAY,EAAE,UAAA,eAAe,EAAE;IACvC;IAEU,OAAI;QACZ,MAAM,SAAS,IAAI,kBAAA,mCAAmC,CACpD,YACA;YAAC;SAAa,EACd,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI;QAExB,OAAO;IACT;IAEQ,MACN,aAA8B,EAC9B,aAAiC,EAAA;QAEjC,IAAI,CAAC,KAAK,CACR,cAAc,KAAK,CAAC,SAAS,EAC7B,QACA,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QAEnC,gDAAgD;QAChD,gDAAgD;QAChD,yDAAyD;QACzD,4EAA4E;QAC5E,cAAc,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,cAAc,KAAK,CAAC,SAAS,CAAC,IAAI;QAExE,IAAI,iBAAiB,gBAAgB;YACnC,IAAI,CAAC,KAAK,CACR,cAAc,KAAK,CAAC,SAAS,EAC7B,UACA,IAAI,CAAC,mBAAmB,CAAC,UAAU;;QAIvC,IAAI,CAAC,KAAK,CACR,cAAc,KAAK,CAAC,SAAS,EAC7B,QACA,IAAI,CAAC,cAAc,CAAC;QAEtB,IAAI,CAAC,KAAK,CACR,cAAc,SAAS,CAAC,SAAS,EACjC,QACA,IAAI,CAAC,kBAAkB,CAAC;QAG1B,MAAM,0BAA0B,2BAA2B;QAE3D,wBAAwB,OAAO,CAAC,CAAC;YAC/B,IAAI,CAAC,KAAK,CACR,cAAc,KAAK,CAAC,SAAS,EAC7B,UACA,IAAI,CAAC,0BAA0B,CAAC;QAEpC;QACA,IAAI,CAAC,KAAK,CAAC,cAAc,KAAK,EAAE,aAAa,IAAI,CAAC,mBAAmB;QAErE,OAAO;IACT;IAEQ,QACN,aAA8B,EAC9B,aAAiC,EAAA;QAEjC,MAAM,0BAA0B,2BAA2B;QAE3D,IAAI,CAAC,OAAO,CAAC,cAAc,KAAK,CAAC,SAAS,EAAE;QAC5C,+EAA+E;QAC/E,cAAc,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,cAAc,KAAK,CAAC,SAAS,CAAC,IAAI;QAExE,IAAI,iBAAiB,gBAAgB;YACnC,IAAI,CAAC,OAAO,CAAC,cAAc,KAAK,CAAC,SAAS,EAAE;;QAG9C,IAAI,CAAC,OAAO,CAAC,cAAc,KAAK,CAAC,SAAS,EAAE;QAC5C,IAAI,CAAC,OAAO,CAAC,cAAc,SAAS,CAAC,SAAS,EAAE;QAEhD,wBAAwB,OAAO,CAAC,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,cAAc,KAAK,CAAC,SAAS,EAAE;QAC9C;QACA,IAAI,CAAC,OAAO,CAAC,cAAc,KAAK,EAAE;IACpC;IAEQ,mBAAmB,aAAiC,EAAA;QAC1D,MAAM,OAAO,IAAI;QACjB,OAAO,CAAC;YACN,OAAO,SAAS,KAAgB,QAAmB;;gBACjD,IACE,KAAK,SAAS,GAAG,iBAAiB,IAClC,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM,QAAQ,WACpC;oBACA,OAAO,kBAAkB,KAAK,CAAC,IAAI,EAAE;;gBAGvC,MAAM,aAAa,IAAI,CAAC,QAAA,mBAAmB,CAAC;gBAC5C,MAAM,aAAyB,CAAA;gBAC/B,MAAM,EAAE,qBAAqB,EAAE,GAAG,KAAK,SAAS;gBAChD,IAAI,uBAAuB;oBACzB,UAAU,CAAC,uBAAA,qBAAqB,CAAC,GAAG,sBAClC,aACA;wBACE,SAAS,IAAI,CAAC,OAAO;wBACrB,mBAAmB,IAAI,CAAC,SAAS;;;gBAKvC,MAAM,OAAO,KAAK,UAAU,CAC1B,IAAI,CAAC,MAAM,CAAC,UAAU,EACtB,CAAA,KAAA,IAAI,CAAC,MAAM,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,SAAS,EACtB,aACA,YACA;gBAGF,OAAO,KAAK,eAAe,CACzB,MACA,mBACA,IAAI,EACJ,WACA,UACA;YAEJ;QACF;IACF;IAEQ,eAAe,aAAiC,EAAA;QACtD,MAAM,OAAO,IAAI;QACjB,OAAO,CAAC;YACN,OAAO,SAAS,KAAgB,QAAmB;gBACjD,IACE,KAAK,SAAS,GAAG,iBAAiB,IAClC,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM,QAAQ,WACpC;oBACA,OAAO,aAAa,KAAK,CAAC,IAAI,EAAE;;gBAGlC,MAAM,aAAa,IAAI,CAAC,QAAA,mBAAmB,CAAC;gBAC5C,MAAM,aAAyB,CAAA;gBAC/B,MAAM,EAAE,qBAAqB,EAAE,GAAG,KAAK,SAAS;gBAChD,IAAI,uBAAuB;oBACzB,UAAU,CAAC,uBAAA,qBAAqB,CAAC,GAAG,sBAAsB,IAAI,CAAC,EAAE,EAAE;wBACjE,WAAW,IAAI,CAAC,WAAW;wBAC3B,SAAS,IAAI,CAAC,OAAO;wBACrB,SAAS,IAAI,CAAC,OAAO;wBACrB,QAAQ,IAAI,CAAC,OAAO;;;gBAGxB,MAAM,OAAO,KAAK,UAAU,CAC1B,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,KAAK,CAAC,SAAS,EACpB,IAAI,CAAC,EAAE,EACP,YACA;gBAGF,OAAO,KAAK,eAAe,CACzB,MACA,cACA,IAAI,EACJ,WACA,UACA;YAEJ;QACF;IACF;IAEQ,oBAAoB,EAAU,EAAE,aAAiC,EAAA;QACvE,MAAM,OAAO,IAAI;QACjB,OAAO,CAAC;YACN,OAAO,SAAS,OAAkB,OAAa,EAAE,QAAmB;gBAClE,IACE,KAAK,SAAS,GAAG,iBAAiB,IAClC,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM,QAAQ,WACpC;oBACA,OAAO,wBAAwB,KAAK,CAAC,IAAI,EAAE;;gBAG7C,MAAM,mBAAsC;oBAAE,UAAU,IAAI;gBAAA;gBAC5D,IAAI,WAAW,CAAC,CAAC,mBAAmB,QAAQ,GAAG;oBAC7C,iBAAiB,OAAO,GAAG;;gBAE7B,MAAM,aAAyB,CAAA;gBAC/B,MAAM,EAAE,qBAAqB,EAAE,GAAG,KAAK,SAAS;gBAChD,IAAI,uBAAuB;oBACzB,UAAU,CAAC,uBAAA,qBAAqB,CAAC,GAAG,sBAClC,IACA;;gBAGJ,MAAM,OAAO,KAAK,UAAU,CAC1B,IAAI,CAAC,WAAW,CAAC,UAAU,EAC3B,IAAI,CAAC,WAAW,CAAC,SAAS,EAC1B,IACA;gBAGF,IAAI,mBAAmB,UAAU;oBAC/B,WAAW;oBACX,UAAU;;gBAGZ,OAAO,KAAK,eAAe,CACzB,MACA,yBACA,IAAI,EACJ,WACA,UACA;YAEJ;QACF;IACF;IAEA,wEAAwE;IACxE,qEAAqE;IACrE,iEAAiE;IACjE,sEAAsE;IAC9D,sBAAmB;QACzB,MAAM,OAAO,IAAI;QACjB,OAAO,CAAC;YACN,OAAO,SAAS;gBACd,MAAM,cAAc,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBAChD,MAAM,YAAY,KAAK,qBAAqB,CAAC,IAC3C,SAAS,KAAK,CAAC,IAAI,EAAE;gBAEvB,IAAI,WAAW,SAAS,CAAC,QAAA,mBAAmB,CAAC,GAAG;gBAChD,OAAO;YACT;QACF;IACF;IAEQ,2BAA2B,QAAgB,EAAA;QACjD,MAAM,OAAO,IAAI;QACjB,OAAO,CAAC;YACN,OAAO,SAAS;gBACd,IAAI,CAAC,QAAA,mBAAmB,CAAC,GAAG,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM;gBACxD,OAAO,KAAK,qBAAqB,CAAC,IAChC,SAAS,KAAK,CAAC,IAAI,EAAE;YAEzB;QACF;IACF;IAEQ,WACN,UAA+B,EAC/B,SAAiB,EACjB,SAAiB,EACjB,UAAsB,EACtB,UAAiB,EAAA;QAEjB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAC1B,CAAA,SAAA,EAAY,UAAS,CAAA,EAAI,UAAS,CAAE,EACpC;YACE,MAAM,MAAA,QAAQ,CAAC,MAAM;YACrB,YAAU,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACL,aACA,CAAA,GAAA,QAAA,2BAA2B,EAAC,cAAW;gBAC1C,CAAC,uBAAA,qBAAqB,CAAC,EAAE;gBACzB,CAAC,uBAAA,kBAAkB,CAAC,EAAE;YAAU;WAGpC,aAAa,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM,IAAI,cAAc;IAE/D;IAEQ,gBACN,IAAU,EACV,IAAc,EACd,YAAiB,EACjB,IAAgB,EAChB,QAAmB,EACnB,gBAAoC,SAAS,EAAA;QAE7C,MAAM,OAAO,IAAI;QACjB,IAAI,oBAAoB,UAAU;YAChC,OAAO,KAAK,qBAAqB,CAAC,IAChC,CAAA,GAAA,QAAA,sBAAsB,EACpB,UACA,MACA,cACA,MACA,MACA,KAAK,SAAS,GAAG,YAAY,EAC7B;eAGC;YACL,MAAM,WAAW,KAAK,qBAAqB,CAAC,IAC1C,KAAK,KAAK,CAAC,cAAc;YAE3B,OAAO,CAAA,GAAA,QAAA,qBAAqB,EAC1B,UACA,MACA,KAAK,SAAS,GAAG,YAAY,EAC7B;;IAGN;IAEQ,sBAAyB,gBAAuC,EAAA;QACtE,IAAI,IAAI,CAAC,SAAS,GAAG,+BAA+B,EAAE;YACpD,OAAO,MAAA,OAAO,CAAC,IAAI,CAAC,CAAA,GAAA,OAAA,eAAe,EAAC,MAAA,OAAO,CAAC,MAAM,KAAK;eAClD;YACL,OAAO;;IAEX;;AAvTF,QAAA,uBAAA,GAAA"}},
    {"offset": {"line": 16850, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16854, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_abf4b6a813f0c904766ef5a676a2a270/node_modules/@opentelemetry/instrumentation-mongoose/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Span } from '@opentelemetry/api';\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport interface SerializerPayload {\n  condition?: any;\n  options?: any;\n  updates?: any;\n  document?: any;\n  aggregatePipeline?: any;\n  fields?: any;\n}\n\nexport type DbStatementSerializer = (\n  operation: string,\n  payload: SerializerPayload\n) => string;\n\nexport interface ResponseInfo {\n  moduleVersion: string | undefined;\n  response: any;\n}\n\nexport type MongooseResponseCustomAttributesFunction = (\n  span: Span,\n  responseInfo: ResponseInfo\n) => void;\n\nexport interface MongooseInstrumentationConfig extends InstrumentationConfig {\n  /**\n   * Mongoose operation use mongodb under the hood.\n   * If mongodb instrumentation is enabled, a mongoose operation will also create\n   * a mongodb operation describing the communication with mongoDB servers.\n   * Setting the `suppressInternalInstrumentation` config value to `true` will\n   * cause the instrumentation to suppress instrumentation of underlying operations,\n   * effectively causing mongodb spans to be non-recordable.\n   */\n  suppressInternalInstrumentation?: boolean;\n\n  /** Custom serializer function for the db.statement tag */\n  dbStatementSerializer?: DbStatementSerializer;\n\n  /** hook for adding custom attributes using the response payload */\n  responseHook?: MongooseResponseCustomAttributesFunction;\n\n  /** Set to true if you do not want to collect traces that start with mongoose */\n  requireParentSpan?: boolean;\n}\n"],"names":[],"mappings":""}},
    {"offset": {"line": 16858, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16862, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_abf4b6a813f0c904766ef5a676a2a270/node_modules/@opentelemetry/instrumentation-mongoose/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './mongoose';\nexport * from './types';\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;IAeA,mOAAA;AACA,gOAAA"}},
    {"offset": {"line": 16897, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16901, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ab69e4c556dff34942065695f09b9a90/node_modules/@opentelemetry/instrumentation-mysql/src/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Mysql specific attributes not covered by semantic conventions\nexport enum AttributeNames {\n  MYSQL_VALUES = 'db.mysql.values',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,gEAAgE;AAChE,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,eAAA,GAAA;AACF,CAAC,EAFW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 16925, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16929, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ab69e4c556dff34942065695f09b9a90/node_modules/@opentelemetry/instrumentation-mysql/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Attributes } from '@opentelemetry/api';\nimport {\n  SEMATTRS_DB_CONNECTION_STRING,\n  SEMATTRS_DB_NAME,\n  SEMATTRS_DB_USER,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport type {\n  ConnectionConfig,\n  PoolActualConfig,\n  Query,\n  QueryOptions,\n} from 'mysql';\nimport type * as mysqlTypes from 'mysql';\n\n/**\n * Get an Attributes map from a mysql connection config object\n *\n * @param config ConnectionConfig\n */\nexport function getConnectionAttributes(\n  config: ConnectionConfig | PoolActualConfig\n): Attributes {\n  const { host, port, database, user } = getConfig(config);\n  const portNumber = parseInt(port, 10);\n  if (!isNaN(portNumber)) {\n    return {\n      [SEMATTRS_NET_PEER_NAME]: host,\n      [SEMATTRS_NET_PEER_PORT]: portNumber,\n      [SEMATTRS_DB_CONNECTION_STRING]: getJDBCString(host, port, database),\n      [SEMATTRS_DB_NAME]: database,\n      [SEMATTRS_DB_USER]: user,\n    };\n  }\n  return {\n    [SEMATTRS_NET_PEER_NAME]: host,\n    [SEMATTRS_DB_CONNECTION_STRING]: getJDBCString(host, port, database),\n    [SEMATTRS_DB_NAME]: database,\n    [SEMATTRS_DB_USER]: user,\n  };\n}\n\nfunction getConfig(config: any) {\n  const { host, port, database, user } =\n    (config && config.connectionConfig) || config || {};\n  return { host, port, database, user };\n}\n\nfunction getJDBCString(\n  host: string | undefined,\n  port: number | undefined,\n  database: string | undefined\n) {\n  let jdbcString = `jdbc:mysql://${host || 'localhost'}`;\n\n  if (typeof port === 'number') {\n    jdbcString += `:${port}`;\n  }\n\n  if (typeof database === 'string') {\n    jdbcString += `/${database}`;\n  }\n\n  return jdbcString;\n}\n\n/**\n * @returns the database statement being executed.\n */\nexport function getDbStatement(query: string | Query | QueryOptions): string {\n  if (typeof query === 'string') {\n    return query;\n  } else {\n    return query.sql;\n  }\n}\n\nexport function getDbValues(\n  query: string | Query | QueryOptions,\n  values?: any[]\n): string {\n  if (typeof query === 'string') {\n    return arrayStringifyHelper(values);\n  } else {\n    // According to https://github.com/mysqljs/mysql#performing-queries\n    // The values argument will override the values in the option object.\n    return arrayStringifyHelper(values || query.values);\n  }\n}\n\n/**\n * The span name SHOULD be set to a low cardinality value\n * representing the statement executed on the database.\n *\n * @returns SQL statement without variable arguments or SQL verb\n */\nexport function getSpanName(query: string | Query | QueryOptions): string {\n  const rawQuery = typeof query === 'object' ? query.sql : query;\n  // Extract the SQL verb\n  const firstSpace = rawQuery?.indexOf(' ');\n  if (typeof firstSpace === 'number' && firstSpace !== -1) {\n    return rawQuery?.substring(0, firstSpace);\n  }\n  return rawQuery;\n}\n\nexport function arrayStringifyHelper(arr: Array<unknown> | undefined): string {\n  if (arr) return `[${arr.toString()}]`;\n  return '';\n}\n\nexport function getPoolName(pool: mysqlTypes.Pool): string {\n  const c = pool.config.connectionConfig;\n  let poolName = '';\n  poolName += c.host ? `host: '${c.host}', ` : '';\n  poolName += c.port ? `port: ${c.port}, ` : '';\n  poolName += c.database ? `database: '${c.database}', ` : '';\n  poolName += c.user ? `user: '${c.user}'` : '';\n  if (!c.user) {\n    poolName = poolName.substring(0, poolName.length - 2); //omit last comma\n  }\n  return poolName.trim();\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 17045, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17049, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ab69e4c556dff34942065695f09b9a90/node_modules/@opentelemetry/instrumentation-mysql/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.45.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-mysql';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 17071, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17075, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ab69e4c556dff34942065695f09b9a90/node_modules/@opentelemetry/instrumentation-mysql/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  context,\n  Context,\n  trace,\n  Span,\n  SpanKind,\n  SpanStatusCode,\n} from '@opentelemetry/api';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\nimport {\n  DBSYSTEMVALUES_MYSQL,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n} from '@opentelemetry/semantic-conventions';\nimport type * as mysqlTypes from 'mysql';\nimport { AttributeNames } from './AttributeNames';\nimport { MySQLInstrumentationConfig } from './types';\nimport {\n  getConnectionAttributes,\n  getDbStatement,\n  getDbValues,\n  getSpanName,\n  getPoolName,\n} from './utils';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport { UpDownCounter, MeterProvider } from '@opentelemetry/api';\n\ntype getConnectionCallbackType = (\n  err: mysqlTypes.MysqlError,\n  connection: mysqlTypes.PoolConnection\n) => void;\n\nexport class MySQLInstrumentation extends InstrumentationBase<MySQLInstrumentationConfig> {\n  static readonly COMMON_ATTRIBUTES = {\n    [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_MYSQL,\n  };\n  private _connectionsUsage!: UpDownCounter;\n\n  constructor(config: MySQLInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n    this._setMetricInstruments();\n  }\n\n  override setMeterProvider(meterProvider: MeterProvider) {\n    super.setMeterProvider(meterProvider);\n    this._setMetricInstruments();\n  }\n\n  private _setMetricInstruments() {\n    this._connectionsUsage = this.meter.createUpDownCounter(\n      'db.client.connections.usage', //TODO:: use semantic convention\n      {\n        description:\n          'The number of connections that are currently in state described by the state attribute.',\n        unit: '{connection}',\n      }\n    );\n  }\n\n  protected init() {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'mysql',\n        ['>=2.0.0 <3'],\n        (moduleExports: typeof mysqlTypes) => {\n          if (isWrapped(moduleExports.createConnection)) {\n            this._unwrap(moduleExports, 'createConnection');\n          }\n          this._wrap(\n            moduleExports,\n            'createConnection',\n            this._patchCreateConnection() as any\n          );\n\n          if (isWrapped(moduleExports.createPool)) {\n            this._unwrap(moduleExports, 'createPool');\n          }\n          this._wrap(\n            moduleExports,\n            'createPool',\n            this._patchCreatePool() as any\n          );\n\n          if (isWrapped(moduleExports.createPoolCluster)) {\n            this._unwrap(moduleExports, 'createPoolCluster');\n          }\n          this._wrap(\n            moduleExports,\n            'createPoolCluster',\n            this._patchCreatePoolCluster() as any\n          );\n\n          return moduleExports;\n        },\n        (moduleExports: typeof mysqlTypes) => {\n          if (moduleExports === undefined) return;\n          this._unwrap(moduleExports, 'createConnection');\n          this._unwrap(moduleExports, 'createPool');\n          this._unwrap(moduleExports, 'createPoolCluster');\n        }\n      ),\n    ];\n  }\n\n  // global export function\n  private _patchCreateConnection() {\n    return (originalCreateConnection: Function) => {\n      const thisPlugin = this;\n\n      return function createConnection(\n        _connectionUri: string | mysqlTypes.ConnectionConfig\n      ) {\n        const originalResult = originalCreateConnection(...arguments);\n\n        // This is unwrapped on next call after unpatch\n        thisPlugin._wrap(\n          originalResult,\n          'query',\n          thisPlugin._patchQuery(originalResult) as any\n        );\n\n        return originalResult;\n      };\n    };\n  }\n\n  // global export function\n  private _patchCreatePool() {\n    return (originalCreatePool: Function) => {\n      const thisPlugin = this;\n      return function createPool(_config: string | mysqlTypes.PoolConfig) {\n        const pool = originalCreatePool(...arguments);\n\n        thisPlugin._wrap(pool, 'query', thisPlugin._patchQuery(pool));\n        thisPlugin._wrap(\n          pool,\n          'getConnection',\n          thisPlugin._patchGetConnection(pool)\n        );\n        thisPlugin._wrap(pool, 'end', thisPlugin._patchPoolEnd(pool));\n        thisPlugin._setPoolcallbacks(pool, thisPlugin, '');\n\n        return pool;\n      };\n    };\n  }\n  private _patchPoolEnd(pool: any) {\n    return (originalPoolEnd: Function) => {\n      const thisPlugin = this;\n      return function end(callback?: unknown) {\n        const nAll = (pool as any)._allConnections.length;\n        const nFree = (pool as any)._freeConnections.length;\n        const nUsed = nAll - nFree;\n        const poolName = getPoolName(pool);\n        thisPlugin._connectionsUsage.add(-nUsed, {\n          state: 'used',\n          name: poolName,\n        });\n        thisPlugin._connectionsUsage.add(-nFree, {\n          state: 'idle',\n          name: poolName,\n        });\n        originalPoolEnd.apply(pool, arguments);\n      };\n    };\n  }\n\n  // global export function\n  private _patchCreatePoolCluster() {\n    return (originalCreatePoolCluster: Function) => {\n      const thisPlugin = this;\n      return function createPool(_config: string | mysqlTypes.PoolConfig) {\n        const cluster = originalCreatePoolCluster(...arguments);\n\n        // This is unwrapped on next call after unpatch\n        thisPlugin._wrap(\n          cluster,\n          'getConnection',\n          thisPlugin._patchGetConnection(cluster)\n        );\n        thisPlugin._wrap(cluster, 'add', thisPlugin._patchAdd(cluster));\n\n        return cluster;\n      };\n    };\n  }\n  private _patchAdd(cluster: mysqlTypes.PoolCluster) {\n    return (originalAdd: Function) => {\n      const thisPlugin = this;\n      return function add(id: string, config: unknown) {\n        // Unwrap if unpatch has been called\n        if (!thisPlugin['_enabled']) {\n          thisPlugin._unwrap(cluster, 'add');\n          return originalAdd.apply(cluster, arguments);\n        }\n        originalAdd.apply(cluster, arguments);\n        const nodes = cluster['_nodes' as keyof mysqlTypes.PoolCluster] as any;\n        if (nodes) {\n          const nodeId =\n            typeof id === 'object'\n              ? 'CLUSTER::' + (cluster as any)._lastId\n              : String(id);\n\n          const pool = nodes[nodeId].pool;\n          thisPlugin._setPoolcallbacks(pool, thisPlugin, id);\n        }\n      };\n    };\n  }\n\n  // method on cluster or pool\n  private _patchGetConnection(pool: mysqlTypes.Pool | mysqlTypes.PoolCluster) {\n    return (originalGetConnection: Function) => {\n      const thisPlugin = this;\n\n      return function getConnection(\n        arg1?: unknown,\n        arg2?: unknown,\n        arg3?: unknown\n      ) {\n        // Unwrap if unpatch has been called\n        if (!thisPlugin['_enabled']) {\n          thisPlugin._unwrap(pool, 'getConnection');\n          return originalGetConnection.apply(pool, arguments);\n        }\n\n        if (arguments.length === 1 && typeof arg1 === 'function') {\n          const patchFn = thisPlugin._getConnectionCallbackPatchFn(\n            arg1 as getConnectionCallbackType\n          );\n          return originalGetConnection.call(pool, patchFn);\n        }\n        if (arguments.length === 2 && typeof arg2 === 'function') {\n          const patchFn = thisPlugin._getConnectionCallbackPatchFn(\n            arg2 as getConnectionCallbackType\n          );\n          return originalGetConnection.call(pool, arg1, patchFn);\n        }\n        if (arguments.length === 3 && typeof arg3 === 'function') {\n          const patchFn = thisPlugin._getConnectionCallbackPatchFn(\n            arg3 as getConnectionCallbackType\n          );\n          return originalGetConnection.call(pool, arg1, arg2, patchFn);\n        }\n\n        return originalGetConnection.apply(pool, arguments);\n      };\n    };\n  }\n\n  private _getConnectionCallbackPatchFn(cb: getConnectionCallbackType) {\n    const thisPlugin = this;\n    const activeContext = context.active();\n    return function (\n      this: any,\n      err: mysqlTypes.MysqlError,\n      connection: mysqlTypes.PoolConnection\n    ) {\n      if (connection) {\n        // this is the callback passed into a query\n        // no need to unwrap\n        if (!isWrapped(connection.query)) {\n          thisPlugin._wrap(\n            connection,\n            'query',\n            thisPlugin._patchQuery(connection)\n          );\n        }\n      }\n      if (typeof cb === 'function') {\n        context.with(activeContext, cb, this, err, connection);\n      }\n    };\n  }\n\n  private _patchQuery(connection: mysqlTypes.Connection | mysqlTypes.Pool) {\n    return (originalQuery: Function): mysqlTypes.QueryFunction => {\n      const thisPlugin = this;\n\n      return function query(\n        query: string | mysqlTypes.Query | mysqlTypes.QueryOptions,\n        _valuesOrCallback?: unknown[] | mysqlTypes.queryCallback,\n        _callback?: mysqlTypes.queryCallback\n      ) {\n        if (!thisPlugin['_enabled']) {\n          thisPlugin._unwrap(connection, 'query');\n          return originalQuery.apply(connection, arguments);\n        }\n\n        const span = thisPlugin.tracer.startSpan(getSpanName(query), {\n          kind: SpanKind.CLIENT,\n          attributes: {\n            ...MySQLInstrumentation.COMMON_ATTRIBUTES,\n            ...getConnectionAttributes(connection.config),\n          },\n        });\n\n        span.setAttribute(SEMATTRS_DB_STATEMENT, getDbStatement(query));\n\n        if (thisPlugin.getConfig().enhancedDatabaseReporting) {\n          let values;\n\n          if (Array.isArray(_valuesOrCallback)) {\n            values = _valuesOrCallback;\n          } else if (arguments[2]) {\n            values = [_valuesOrCallback];\n          }\n\n          span.setAttribute(\n            AttributeNames.MYSQL_VALUES,\n            getDbValues(query, values)\n          );\n        }\n\n        const cbIndex = Array.from(arguments).findIndex(\n          arg => typeof arg === 'function'\n        );\n\n        const parentContext = context.active();\n\n        if (cbIndex === -1) {\n          const streamableQuery: mysqlTypes.Query = context.with(\n            trace.setSpan(context.active(), span),\n            () => {\n              return originalQuery.apply(connection, arguments);\n            }\n          );\n          context.bind(parentContext, streamableQuery);\n\n          return streamableQuery\n            .on('error', err =>\n              span.setStatus({\n                code: SpanStatusCode.ERROR,\n                message: err.message,\n              })\n            )\n            .on('end', () => {\n              span.end();\n            });\n        } else {\n          thisPlugin._wrap(\n            arguments,\n            cbIndex,\n            thisPlugin._patchCallbackQuery(span, parentContext)\n          );\n\n          return context.with(trace.setSpan(context.active(), span), () => {\n            return originalQuery.apply(connection, arguments);\n          });\n        }\n      };\n    };\n  }\n\n  private _patchCallbackQuery(span: Span, parentContext: Context) {\n    return (originalCallback: Function) => {\n      return function (\n        err: mysqlTypes.MysqlError | null,\n        results?: any,\n        fields?: mysqlTypes.FieldInfo[]\n      ) {\n        if (err) {\n          span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: err.message,\n          });\n        }\n        span.end();\n        return context.with(parentContext, () =>\n          originalCallback(...arguments)\n        );\n      };\n    };\n  }\n  private _setPoolcallbacks(\n    pool: mysqlTypes.Pool,\n    thisPlugin: MySQLInstrumentation,\n    id: string\n  ) {\n    //TODO:: use semantic convention\n    const poolName = id || getPoolName(pool);\n\n    pool.on('connection', connection => {\n      thisPlugin._connectionsUsage.add(1, {\n        state: 'idle',\n        name: poolName,\n      });\n    });\n\n    pool.on('acquire', connection => {\n      thisPlugin._connectionsUsage.add(-1, {\n        state: 'idle',\n        name: poolName,\n      });\n      thisPlugin._connectionsUsage.add(1, {\n        state: 'used',\n        name: poolName,\n      });\n    });\n\n    pool.on('release', connection => {\n      thisPlugin._connectionsUsage.add(-1, {\n        state: 'used',\n        name: poolName,\n      });\n      thisPlugin._connectionsUsage.add(1, {\n        state: 'idle',\n        name: poolName,\n      });\n    });\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 17356, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17360, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ab69e4c556dff34942065695f09b9a90/node_modules/@opentelemetry/instrumentation-mysql/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport interface MySQLInstrumentationConfig extends InstrumentationConfig {\n  /**\n   * If true, an attribute containing the query's parameters will be attached\n   * the spans generated to represent the query.\n   */\n  enhancedDatabaseReporting?: boolean;\n}\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 17378, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17382, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_ab69e4c556dff34942065695f09b9a90/node_modules/@opentelemetry/instrumentation-mysql/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,uOAAA;AACA,6NAAA"}},
    {"offset": {"line": 17417, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17421, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+sql-common@0.40.1_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/sql-common/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  trace,\n  Span,\n  ROOT_CONTEXT,\n  defaultTextMapSetter,\n} from '@opentelemetry/api';\nimport { W3CTraceContextPropagator } from '@opentelemetry/core';\n\n// NOTE: This function currently is returning false-positives\n// in cases where comment characters appear in string literals\n// (\"SELECT '-- not a comment';\" would return true, although has no comment)\nfunction hasValidSqlComment(query: string): boolean {\n  const indexOpeningDashDashComment = query.indexOf('--');\n  if (indexOpeningDashDashComment >= 0) {\n    return true;\n  }\n\n  const indexOpeningSlashComment = query.indexOf('/*');\n  if (indexOpeningSlashComment < 0) {\n    return false;\n  }\n\n  const indexClosingSlashComment = query.indexOf('*/');\n  return indexOpeningDashDashComment < indexClosingSlashComment;\n}\n\n// sqlcommenter specification (https://google.github.io/sqlcommenter/spec/#value-serialization)\n// expects us to URL encode based on the RFC 3986 spec (https://en.wikipedia.org/wiki/Percent-encoding),\n// but encodeURIComponent does not handle some characters correctly (! ' ( ) *),\n// which means we need special handling for this\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\nfunction fixedEncodeURIComponent(str: string) {\n  return encodeURIComponent(str).replace(\n    /[!'()*]/g,\n    c => `%${c.charCodeAt(0).toString(16).toUpperCase()}`\n  );\n}\n\nexport function addSqlCommenterComment(span: Span, query: string): string {\n  if (typeof query !== 'string' || query.length === 0) {\n    return query;\n  }\n\n  // As per sqlcommenter spec we shall not add a comment if there already is a comment\n  // in the query\n  if (hasValidSqlComment(query)) {\n    return query;\n  }\n\n  const propagator = new W3CTraceContextPropagator();\n  const headers: { [key: string]: string } = {};\n  propagator.inject(\n    trace.setSpan(ROOT_CONTEXT, span),\n    headers,\n    defaultTextMapSetter\n  );\n\n  // sqlcommenter spec requires keys in the comment to be sorted lexicographically\n  const sortedKeys = Object.keys(headers).sort();\n\n  if (sortedKeys.length === 0) {\n    return query;\n  }\n\n  const commentString = sortedKeys\n    .map(key => {\n      const encodedValue = fixedEncodeURIComponent(headers[key]);\n      return `${key}='${encodedValue}'`;\n    })\n    .join(',');\n\n  return `${query} /*${commentString}*/`;\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,MAAA;AAMA,MAAA;AAEA,6DAA6D;AAC7D,8DAA8D;AAC9D,4EAA4E;AAC5E,SAAS,mBAAmB,KAAa;IACvC,MAAM,8BAA8B,MAAM,OAAO,CAAC;IAClD,IAAI,+BAA+B,GAAG;QACpC,OAAO;;IAGT,MAAM,2BAA2B,MAAM,OAAO,CAAC;IAC/C,IAAI,2BAA2B,GAAG;QAChC,OAAO;;IAGT,MAAM,2BAA2B,MAAM,OAAO,CAAC;IAC/C,OAAO,8BAA8B;AACvC;AAEA,+FAA+F;AAC/F,wGAAwG;AACxG,gFAAgF;AAChF,gDAAgD;AAChD,sGAAsG;AACtG,SAAS,wBAAwB,GAAW;IAC1C,OAAO,mBAAmB,KAAK,OAAO,CACpC,YACA,CAAA,IAAK,CAAA,CAAA,EAAI,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,IAAI,WAAW,GAAE,CAAE;AAEzD;AAEA,SAAgB,uBAAuB,IAAU,EAAE,KAAa;IAC9D,IAAI,OAAO,UAAU,YAAY,MAAM,MAAM,KAAK,GAAG;QACnD,OAAO;;IAGT,oFAAoF;IACpF,eAAe;IACf,IAAI,mBAAmB,QAAQ;QAC7B,OAAO;;IAGT,MAAM,aAAa,IAAI,OAAA,yBAAyB;IAChD,MAAM,UAAqC,CAAA;IAC3C,WAAW,MAAM,CACf,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,YAAY,EAAE,OAC5B,SACA,MAAA,oBAAoB;IAGtB,gFAAgF;IAChF,MAAM,aAAa,OAAO,IAAI,CAAC,SAAS,IAAI;IAE5C,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,OAAO;;IAGT,MAAM,gBAAgB,WACnB,GAAG,CAAC,CAAA;QACH,MAAM,eAAe,wBAAwB,OAAO,CAAC,IAAI;QACzD,OAAO,CAAA,EAAG,IAAG,EAAA,EAAK,aAAY,CAAA,CAAG;IACnC,GACC,IAAI,CAAC;IAER,OAAO,CAAA,EAAG,MAAK,GAAA,EAAM,cAAa,EAAA,CAAI;AACxC;AAlCA,QAAA,sBAAA,GAAA"}},
    {"offset": {"line": 17489, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17493, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_8fb0b3779fee785da1dae0a2bdbfac0d/node_modules/@opentelemetry/instrumentation-mysql2/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Attributes } from '@opentelemetry/api';\nimport {\n  SEMATTRS_DB_CONNECTION_STRING,\n  SEMATTRS_DB_NAME,\n  SEMATTRS_DB_USER,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport type * as mysqlTypes from 'mysql2';\n\ntype formatType = typeof mysqlTypes.format;\n\n/*\n  Following types declare an expectation on mysql2 types and define a subset we\n  use in the instrumentation of the types actually defined in mysql2 package\n\n  We need to import them here so that the installing party of the instrumentation\n  doesn't have to absolutely install the mysql2 package as well - specially\n  important for auto-loaders and meta-packages.\n*/\ninterface QueryOptions {\n  sql: string;\n  values?: any | any[] | { [param: string]: any };\n}\n\ninterface Query {\n  sql: string;\n}\n\ninterface Config {\n  host?: string;\n  port?: number;\n  database?: string;\n  user?: string;\n  connectionConfig?: Config;\n}\n/**\n * Get an Attributes map from a mysql connection config object\n *\n * @param config ConnectionConfig\n */\nexport function getConnectionAttributes(config: Config): Attributes {\n  const { host, port, database, user } = getConfig(config);\n  const portNumber = parseInt(port, 10);\n  if (!isNaN(portNumber)) {\n    return {\n      [SEMATTRS_NET_PEER_NAME]: host,\n      [SEMATTRS_NET_PEER_PORT]: portNumber,\n      [SEMATTRS_DB_CONNECTION_STRING]: getJDBCString(host, port, database),\n      [SEMATTRS_DB_NAME]: database,\n      [SEMATTRS_DB_USER]: user,\n    };\n  }\n  return {\n    [SEMATTRS_NET_PEER_NAME]: host,\n    [SEMATTRS_DB_CONNECTION_STRING]: getJDBCString(host, port, database),\n    [SEMATTRS_DB_NAME]: database,\n    [SEMATTRS_DB_USER]: user,\n  };\n}\n\nfunction getConfig(config: any) {\n  const { host, port, database, user } =\n    (config && config.connectionConfig) || config || {};\n  return { host, port, database, user };\n}\n\nfunction getJDBCString(\n  host: string | undefined,\n  port: number | undefined,\n  database: string | undefined\n) {\n  let jdbcString = `jdbc:mysql://${host || 'localhost'}`;\n\n  if (typeof port === 'number') {\n    jdbcString += `:${port}`;\n  }\n\n  if (typeof database === 'string') {\n    jdbcString += `/${database}`;\n  }\n\n  return jdbcString;\n}\n\n/**\n * Conjures up the value for the db.statement attribute by formatting a SQL query.\n *\n * @returns the database statement being executed.\n */\nexport function getDbStatement(\n  query: string | Query | QueryOptions,\n  format?: formatType,\n  values?: any[]\n): string {\n  if (!format) {\n    return typeof query === 'string' ? query : query.sql;\n  }\n  if (typeof query === 'string') {\n    return values ? format(query, values) : query;\n  } else {\n    // According to https://github.com/mysqljs/mysql#performing-queries\n    // The values argument will override the values in the option object.\n    return values || (query as QueryOptions).values\n      ? format(query.sql, values || (query as QueryOptions).values)\n      : query.sql;\n  }\n}\n\n/**\n * The span name SHOULD be set to a low cardinality value\n * representing the statement executed on the database.\n *\n * @returns SQL statement without variable arguments or SQL verb\n */\nexport function getSpanName(query: string | Query | QueryOptions): string {\n  const rawQuery = typeof query === 'object' ? query.sql : query;\n  // Extract the SQL verb\n  const firstSpace = rawQuery?.indexOf(' ');\n  if (typeof firstSpace === 'number' && firstSpace !== -1) {\n    return rawQuery?.substring(0, firstSpace);\n  }\n  return rawQuery;\n}\n\nexport const once = (fn: Function) => {\n  let called = false;\n  return (...args: unknown[]) => {\n    if (called) return;\n    called = true;\n    return fn(...args);\n  };\n};\n\nexport function getConnectionPrototypeToInstrument(connection: any) {\n  const connectionPrototype = connection.prototype;\n  const basePrototype = Object.getPrototypeOf(connectionPrototype);\n\n  // mysql2@3.11.5 included a refactoring, where most code was moved out of the `Connection` class and into a shared base\n  // so we need to instrument that instead, see https://github.com/sidorares/node-mysql2/pull/3081\n  // This checks if the functions we're instrumenting are there on the base - we cannot use the presence of a base\n  // prototype since EventEmitter is the base for mysql2@<=3.11.4\n  if (\n    typeof basePrototype?.query === 'function' &&\n    typeof basePrototype?.execute === 'function'\n  ) {\n    return basePrototype;\n  }\n\n  // otherwise instrument the connection directly.\n  return connectionPrototype;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 17611, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17615, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_8fb0b3779fee785da1dae0a2bdbfac0d/node_modules/@opentelemetry/instrumentation-mysql2/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.45.2';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-mysql2';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 17637, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17641, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_8fb0b3779fee785da1dae0a2bdbfac0d/node_modules/@opentelemetry/instrumentation-mysql2/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  isWrapped,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport {\n  DBSYSTEMVALUES_MYSQL,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n} from '@opentelemetry/semantic-conventions';\nimport { addSqlCommenterComment } from '@opentelemetry/sql-common';\nimport type * as mysqlTypes from 'mysql2';\nimport { MySQL2InstrumentationConfig } from './types';\nimport {\n  getConnectionAttributes,\n  getConnectionPrototypeToInstrument,\n  getDbStatement,\n  getSpanName,\n  once,\n} from './utils';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\n\ntype formatType = typeof mysqlTypes.format;\n\nconst supportedVersions = ['>=1.4.2 <4'];\n\nexport class MySQL2Instrumentation extends InstrumentationBase<MySQL2InstrumentationConfig> {\n  static readonly COMMON_ATTRIBUTES = {\n    [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_MYSQL,\n  };\n\n  constructor(config: MySQL2InstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  protected init() {\n    let format: formatType | undefined;\n    function setFormatFunction(moduleExports: any) {\n      if (!format && moduleExports.format) {\n        format = moduleExports.format;\n      }\n    }\n    const patch = (ConnectionPrototype: mysqlTypes.Connection) => {\n      if (isWrapped(ConnectionPrototype.query)) {\n        this._unwrap(ConnectionPrototype, 'query');\n      }\n      this._wrap(\n        ConnectionPrototype,\n        'query',\n        this._patchQuery(format, false) as any\n      );\n      if (isWrapped(ConnectionPrototype.execute)) {\n        this._unwrap(ConnectionPrototype, 'execute');\n      }\n      this._wrap(\n        ConnectionPrototype,\n        'execute',\n        this._patchQuery(format, true) as any\n      );\n    };\n    const unpatch = (ConnectionPrototype: mysqlTypes.Connection) => {\n      this._unwrap(ConnectionPrototype, 'query');\n      this._unwrap(ConnectionPrototype, 'execute');\n    };\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'mysql2',\n        supportedVersions,\n        (moduleExports: any) => {\n          setFormatFunction(moduleExports);\n          return moduleExports;\n        },\n        () => {},\n        [\n          new InstrumentationNodeModuleFile(\n            'mysql2/promise.js',\n            supportedVersions,\n            (moduleExports: any) => {\n              setFormatFunction(moduleExports);\n              return moduleExports;\n            },\n            () => {}\n          ),\n          new InstrumentationNodeModuleFile(\n            'mysql2/lib/connection.js',\n            supportedVersions,\n            (moduleExports: any) => {\n              const ConnectionPrototype: mysqlTypes.Connection =\n                getConnectionPrototypeToInstrument(moduleExports);\n              patch(ConnectionPrototype);\n              return moduleExports;\n            },\n            (moduleExports: any) => {\n              if (moduleExports === undefined) return;\n              const ConnectionPrototype: mysqlTypes.Connection =\n                getConnectionPrototypeToInstrument(moduleExports);\n              unpatch(ConnectionPrototype);\n            }\n          ),\n        ]\n      ),\n    ];\n  }\n\n  private _patchQuery(format: formatType | undefined, isPrepared: boolean) {\n    return (originalQuery: Function): Function => {\n      const thisPlugin = this;\n      return function query(\n        this: mysqlTypes.Connection,\n        query: string | mysqlTypes.Query | mysqlTypes.QueryOptions,\n        _valuesOrCallback?: unknown[] | Function,\n        _callback?: Function\n      ) {\n        let values;\n        if (Array.isArray(_valuesOrCallback)) {\n          values = _valuesOrCallback;\n        } else if (arguments[2]) {\n          values = [_valuesOrCallback];\n        }\n\n        const span = thisPlugin.tracer.startSpan(getSpanName(query), {\n          kind: api.SpanKind.CLIENT,\n          attributes: {\n            ...MySQL2Instrumentation.COMMON_ATTRIBUTES,\n            ...getConnectionAttributes(this.config),\n            [SEMATTRS_DB_STATEMENT]: getDbStatement(query, format, values),\n          },\n        });\n\n        if (\n          !isPrepared &&\n          thisPlugin.getConfig().addSqlCommenterCommentToQueries\n        ) {\n          arguments[0] = query =\n            typeof query === 'string'\n              ? addSqlCommenterComment(span, query)\n              : Object.assign(query, {\n                  sql: addSqlCommenterComment(span, query.sql),\n                });\n        }\n\n        const endSpan = once((err?: any, results?: any) => {\n          if (err) {\n            span.setStatus({\n              code: api.SpanStatusCode.ERROR,\n              message: err.message,\n            });\n          } else {\n            const { responseHook } = thisPlugin.getConfig();\n            if (typeof responseHook === 'function') {\n              safeExecuteInTheMiddle(\n                () => {\n                  responseHook(span, {\n                    queryResults: results,\n                  });\n                },\n                err => {\n                  if (err) {\n                    thisPlugin._diag.warn('Failed executing responseHook', err);\n                  }\n                },\n                true\n              );\n            }\n          }\n\n          span.end();\n        });\n\n        if (arguments.length === 1) {\n          if (typeof (query as any).onResult === 'function') {\n            thisPlugin._wrap(\n              query as any,\n              'onResult',\n              thisPlugin._patchCallbackQuery(endSpan)\n            );\n          }\n\n          const streamableQuery: mysqlTypes.Query = originalQuery.apply(\n            this,\n            arguments\n          );\n\n          // `end` in mysql behaves similarly to `result` in mysql2.\n          streamableQuery\n            .once('error', err => {\n              endSpan(err);\n            })\n            .once('result', results => {\n              endSpan(undefined, results);\n            });\n\n          return streamableQuery;\n        }\n\n        if (typeof arguments[1] === 'function') {\n          thisPlugin._wrap(\n            arguments,\n            1,\n            thisPlugin._patchCallbackQuery(endSpan)\n          );\n        } else if (typeof arguments[2] === 'function') {\n          thisPlugin._wrap(\n            arguments,\n            2,\n            thisPlugin._patchCallbackQuery(endSpan)\n          );\n        }\n\n        return originalQuery.apply(this, arguments);\n      };\n    };\n  }\n\n  private _patchCallbackQuery(endSpan: Function) {\n    return (originalCallback: Function) => {\n      return function (\n        err: mysqlTypes.QueryError | null,\n        results?: any,\n        fields?: mysqlTypes.FieldPacket[]\n      ) {\n        endSpan(err, results);\n        return originalCallback(...arguments);\n      };\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 17795, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17799, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_8fb0b3779fee785da1dae0a2bdbfac0d/node_modules/@opentelemetry/instrumentation-mysql2/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport type { Span } from '@opentelemetry/api';\n\nexport interface MySQL2ResponseHookInformation {\n  queryResults: any;\n}\n\nexport interface MySQL2InstrumentationExecutionResponseHook {\n  (span: Span, responseHookInfo: MySQL2ResponseHookInformation): void;\n}\n\nexport interface MySQL2InstrumentationConfig extends InstrumentationConfig {\n  /**\n   * Hook that allows adding custom span attributes based on the data\n   * returned MySQL2 queries.\n   *\n   * @default undefined\n   */\n  responseHook?: MySQL2InstrumentationExecutionResponseHook;\n\n  /**\n   * If true, queries are modified to also include a comment with\n   * the tracing context, following the {@link https://github.com/open-telemetry/opentelemetry-sqlcommenter sqlcommenter} format\n   */\n  addSqlCommenterCommentToQueries?: boolean;\n}\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 17817, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17821, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_8fb0b3779fee785da1dae0a2bdbfac0d/node_modules/@opentelemetry/instrumentation-mysql2/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,wOAAA;AACA,8NAAA"}},
    {"offset": {"line": 17856, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17860, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_340b4582e894fcadfee9bcc3d638a1af/node_modules/@opentelemetry/instrumentation-ioredis/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Span, SpanStatusCode } from '@opentelemetry/api';\n\nexport const endSpan = (\n  span: Span,\n  err: NodeJS.ErrnoException | null | undefined\n) => {\n  if (err) {\n    span.recordException(err);\n    span.setStatus({\n      code: SpanStatusCode.ERROR,\n      message: err.message,\n    });\n  }\n  span.end();\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,MAAA;AAEO,MAAM,UAAU,CACrB,MACA;IAEA,IAAI,KAAK;QACP,KAAK,eAAe,CAAC;QACrB,KAAK,SAAS,CAAC;YACb,MAAM,MAAA,cAAc,CAAC,KAAK;YAC1B,SAAS,IAAI,OAAO;;;IAGxB,KAAK,GAAG;AACV;AAZa,QAAA,OAAO,GAAA"}},
    {"offset": {"line": 17891, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17895, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_340b4582e894fcadfee9bcc3d638a1af/node_modules/@opentelemetry/instrumentation-ioredis/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.47.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-ioredis';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 17917, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17921, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_340b4582e894fcadfee9bcc3d638a1af/node_modules/@opentelemetry/instrumentation-ioredis/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag, trace, context, SpanKind } from '@opentelemetry/api';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\nimport { IORedisInstrumentationConfig } from './types';\nimport { IORedisCommand, RedisInterface } from './internal-types';\nimport {\n  DBSYSTEMVALUES_REDIS,\n  SEMATTRS_DB_CONNECTION_STRING,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport { safeExecuteInTheMiddle } from '@opentelemetry/instrumentation';\nimport { endSpan } from './utils';\nimport { defaultDbStatementSerializer } from '@opentelemetry/redis-common';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\n\nconst DEFAULT_CONFIG: IORedisInstrumentationConfig = {\n  requireParentSpan: true,\n};\n\nexport class IORedisInstrumentation extends InstrumentationBase<IORedisInstrumentationConfig> {\n  constructor(config: IORedisInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, { ...DEFAULT_CONFIG, ...config });\n  }\n\n  override setConfig(config: IORedisInstrumentationConfig = {}) {\n    super.setConfig({ ...DEFAULT_CONFIG, ...config });\n  }\n\n  init(): InstrumentationNodeModuleDefinition[] {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'ioredis',\n        ['>=2.0.0 <6'],\n        (module, moduleVersion?: string) => {\n          const moduleExports =\n            module[Symbol.toStringTag] === 'Module'\n              ? module.default // ESM\n              : module; // CommonJS\n          if (isWrapped(moduleExports.prototype.sendCommand)) {\n            this._unwrap(moduleExports.prototype, 'sendCommand');\n          }\n          this._wrap(\n            moduleExports.prototype,\n            'sendCommand',\n            this._patchSendCommand(moduleVersion)\n          );\n          if (isWrapped(moduleExports.prototype.connect)) {\n            this._unwrap(moduleExports.prototype, 'connect');\n          }\n          this._wrap(\n            moduleExports.prototype,\n            'connect',\n            this._patchConnection()\n          );\n          return module;\n        },\n        module => {\n          if (module === undefined) return;\n          const moduleExports =\n            module[Symbol.toStringTag] === 'Module'\n              ? module.default // ESM\n              : module; // CommonJS\n          this._unwrap(moduleExports.prototype, 'sendCommand');\n          this._unwrap(moduleExports.prototype, 'connect');\n        }\n      ),\n    ];\n  }\n\n  /**\n   * Patch send command internal to trace requests\n   */\n  private _patchSendCommand(moduleVersion?: string) {\n    return (original: Function) => {\n      return this._traceSendCommand(original, moduleVersion);\n    };\n  }\n\n  private _patchConnection() {\n    return (original: Function) => {\n      return this._traceConnection(original);\n    };\n  }\n\n  private _traceSendCommand(original: Function, moduleVersion?: string) {\n    const instrumentation = this;\n    return function (this: RedisInterface, cmd?: IORedisCommand) {\n      if (arguments.length < 1 || typeof cmd !== 'object') {\n        return original.apply(this, arguments);\n      }\n      const config = instrumentation.getConfig();\n      const dbStatementSerializer =\n        config.dbStatementSerializer || defaultDbStatementSerializer;\n\n      const hasNoParentSpan = trace.getSpan(context.active()) === undefined;\n      if (config.requireParentSpan === true && hasNoParentSpan) {\n        return original.apply(this, arguments);\n      }\n\n      const span = instrumentation.tracer.startSpan(cmd.name, {\n        kind: SpanKind.CLIENT,\n        attributes: {\n          [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_REDIS,\n          [SEMATTRS_DB_STATEMENT]: dbStatementSerializer(cmd.name, cmd.args),\n        },\n      });\n\n      const { requestHook } = config;\n      if (requestHook) {\n        safeExecuteInTheMiddle(\n          () =>\n            requestHook(span, {\n              moduleVersion,\n              cmdName: cmd.name,\n              cmdArgs: cmd.args,\n            }),\n          e => {\n            if (e) {\n              diag.error('ioredis instrumentation: request hook failed', e);\n            }\n          },\n          true\n        );\n      }\n\n      const { host, port } = this.options;\n\n      span.setAttributes({\n        [SEMATTRS_NET_PEER_NAME]: host,\n        [SEMATTRS_NET_PEER_PORT]: port,\n        [SEMATTRS_DB_CONNECTION_STRING]: `redis://${host}:${port}`,\n      });\n\n      try {\n        const result = original.apply(this, arguments);\n\n        const origResolve = cmd.resolve;\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        cmd.resolve = function (result: any) {\n          safeExecuteInTheMiddle(\n            () => config.responseHook?.(span, cmd.name, cmd.args, result),\n            e => {\n              if (e) {\n                diag.error('ioredis instrumentation: response hook failed', e);\n              }\n            },\n            true\n          );\n\n          endSpan(span, null);\n          origResolve(result);\n        };\n\n        const origReject = cmd.reject;\n        cmd.reject = function (err: Error) {\n          endSpan(span, err);\n          origReject(err);\n        };\n\n        return result;\n      } catch (error: any) {\n        endSpan(span, error);\n        throw error;\n      }\n    };\n  }\n\n  private _traceConnection(original: Function) {\n    const instrumentation = this;\n    return function (this: RedisInterface) {\n      const hasNoParentSpan = trace.getSpan(context.active()) === undefined;\n      if (\n        instrumentation.getConfig().requireParentSpan === true &&\n        hasNoParentSpan\n      ) {\n        return original.apply(this, arguments);\n      }\n\n      const span = instrumentation.tracer.startSpan('connect', {\n        kind: SpanKind.CLIENT,\n        attributes: {\n          [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_REDIS,\n          [SEMATTRS_DB_STATEMENT]: 'connect',\n        },\n      });\n      const { host, port } = this.options;\n\n      span.setAttributes({\n        [SEMATTRS_NET_PEER_NAME]: host,\n        [SEMATTRS_NET_PEER_PORT]: port,\n        [SEMATTRS_DB_CONNECTION_STRING]: `redis://${host}:${port}`,\n      });\n      try {\n        const client = original.apply(this, arguments);\n        endSpan(span, null);\n        return client;\n      } catch (error: any) {\n        endSpan(span, error);\n        throw error;\n      }\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 18090, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18094, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_340b4582e894fcadfee9bcc3d638a1af/node_modules/@opentelemetry/instrumentation-ioredis/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport { Span } from '@opentelemetry/api';\n\nexport type CommandArgs = Array<string | Buffer | number | any[]>;\n\n/**\n * Function that can be used to serialize db.statement tag\n * @param cmdName - The name of the command (eg. set, get, mset)\n * @param cmdArgs - Array of arguments passed to the command\n *\n * @returns serialized string that will be used as the db.statement attribute.\n */\nexport type DbStatementSerializer = (\n  cmdName: string,\n  cmdArgs: CommandArgs\n) => string;\n\nexport interface IORedisRequestHookInformation {\n  moduleVersion?: string;\n  cmdName: string;\n  cmdArgs: CommandArgs;\n}\n\nexport interface RedisRequestCustomAttributeFunction {\n  (span: Span, requestInfo: IORedisRequestHookInformation): void;\n}\n\n/**\n * Function that can be used to add custom attributes to span on response from redis server\n * @param span - The span created for the redis command, on which attributes can be set\n * @param cmdName - The name of the command (eg. set, get, mset)\n * @param cmdArgs - Array of arguments passed to the command\n * @param response - The response object which is returned to the user who called this command.\n *  Can be used to set custom attributes on the span.\n *  The type of the response varies depending on the specific command.\n */\nexport interface RedisResponseCustomAttributeFunction {\n  (span: Span, cmdName: string, cmdArgs: CommandArgs, response: unknown): void;\n}\n\n/**\n * Options available for the IORedis Instrumentation (see [documentation](https://github.com/open-telemetry/opentelemetry-js-contrib/blob/main/plugins/node/opentelemetry-instrumentation-ioredis/README.md#ioredis-instrumentation-options))\n */\nexport interface IORedisInstrumentationConfig extends InstrumentationConfig {\n  /** Custom serializer function for the db.statement tag */\n  dbStatementSerializer?: DbStatementSerializer;\n\n  /** Function for adding custom attributes on db request */\n  requestHook?: RedisRequestCustomAttributeFunction;\n\n  /** Function for adding custom attributes on db response */\n  responseHook?: RedisResponseCustomAttributeFunction;\n\n  /** Require parent to create ioredis span, default when unset is true */\n  requireParentSpan?: boolean;\n}\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 18112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18116, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_340b4582e894fcadfee9bcc3d638a1af/node_modules/@opentelemetry/instrumentation-ioredis/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,yOAAA;AACA,+NAAA"}},
    {"offset": {"line": 18151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18155, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+redis-common@0.36.2/node_modules/@opentelemetry/redis-common/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * List of regexes and the number of arguments that should be serialized for matching commands.\n * For example, HSET should serialize which key and field it's operating on, but not its value.\n * Setting the subset to -1 will serialize all arguments.\n * Commands without a match will have their first argument serialized.\n *\n * Refer to https://redis.io/commands/ for the full list.\n */\nconst serializationSubsets = [\n  {\n    regex: /^ECHO/i,\n    args: 0,\n  },\n  {\n    regex: /^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,\n    args: 1,\n  },\n  {\n    regex: /^(HSET|HMSET|LSET|LINSERT)/i,\n    args: 2,\n  },\n  {\n    regex:\n      /^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,\n    args: -1,\n  },\n];\n\nexport type DbStatementSerializer = (\n  cmdName: string,\n  cmdArgs: Array<string | Buffer | number | any[]>\n) => string;\n\n/**\n * Given the redis command name and arguments, return a combination of the\n * command name + the allowed arguments according to `serializationSubsets`.\n * @param cmdName The redis command name\n * @param cmdArgs The redis command arguments\n * @returns a combination of the command name + args according to `serializationSubsets`.\n */\nexport const defaultDbStatementSerializer: DbStatementSerializer = (\n  cmdName,\n  cmdArgs\n) => {\n  if (Array.isArray(cmdArgs) && cmdArgs.length) {\n    const nArgsToSerialize =\n      serializationSubsets.find(({ regex }) => {\n        return regex.test(cmdName);\n      })?.args ?? 0;\n    const argsToSerialize =\n      nArgsToSerialize >= 0 ? cmdArgs.slice(0, nArgsToSerialize) : cmdArgs;\n    if (cmdArgs.length > argsToSerialize.length) {\n      argsToSerialize.push(\n        `[${cmdArgs.length - nArgsToSerialize} other arguments]`\n      );\n    }\n    return `${cmdName} ${argsToSerialize.join(' ')}`;\n  }\n  return cmdName;\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA;;;;;;;IAQA,MAAM,uBAAuB;IAC3B;QACE,OAAO;QACP,MAAM;;IAER;QACE,OAAO;QACP,MAAM;;IAER;QACE,OAAO;QACP,MAAM;;IAER;QACE,OACE;QACF,MAAM,CAAC;;CAEV;AAOD;;;;;;IAOO,MAAM,+BAAsD,CACjE,SACA;;IAEA,IAAI,MAAM,OAAO,CAAC,YAAY,QAAQ,MAAM,EAAE;QAC5C,MAAM,mBACJ,CAAA,KAAA,CAAA,KAAA,qBAAqB,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE;YAClC,OAAO,MAAM,IAAI,CAAC;QACpB,EAAE,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI;QACd,MAAM,kBACJ,oBAAoB,IAAI,QAAQ,KAAK,CAAC,GAAG,oBAAoB;QAC/D,IAAI,QAAQ,MAAM,GAAG,gBAAgB,MAAM,EAAE;YAC3C,gBAAgB,IAAI,CAClB,CAAA,CAAA,EAAI,QAAQ,MAAM,GAAG,iBAAgB,iBAAA,CAAmB;;QAG5D,OAAO,CAAA,EAAG,QAAO,CAAA,EAAI,gBAAgB,IAAI,CAAC,KAAI,CAAE;;IAElD,OAAO;AACT;AAnBa,QAAA,4BAA4B,GAAA"}},
    {"offset": {"line": 18220, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18224, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_bcd3a6c0ed06879ccfce35e3dc2b72cc/node_modules/@opentelemetry/instrumentation-redis-4/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Attributes, DiagLogger } from '@opentelemetry/api';\nimport {\n  SEMATTRS_DB_SYSTEM,\n  SEMATTRS_DB_CONNECTION_STRING,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n  DBSYSTEMVALUES_REDIS,\n} from '@opentelemetry/semantic-conventions';\n\nexport function getClientAttributes(\n  diag: DiagLogger,\n  options: any\n): Attributes {\n  return {\n    [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_REDIS,\n    [SEMATTRS_NET_PEER_NAME]: options?.socket?.host,\n    [SEMATTRS_NET_PEER_PORT]: options?.socket?.port,\n    [SEMATTRS_DB_CONNECTION_STRING]:\n      removeCredentialsFromDBConnectionStringAttribute(diag, options?.url),\n  };\n}\n\n/**\n * removeCredentialsFromDBConnectionStringAttribute removes basic auth from url and user_pwd from query string\n *\n * Examples:\n *   redis://user:pass@localhost:6379/mydb => redis://localhost:6379/mydb\n *   redis://localhost:6379?db=mydb&user_pwd=pass => redis://localhost:6379?db=mydb\n */\nfunction removeCredentialsFromDBConnectionStringAttribute(\n  diag: DiagLogger,\n  url?: unknown\n): string | undefined {\n  if (typeof url !== 'string' || !url) {\n    return;\n  }\n\n  try {\n    const u = new URL(url);\n    u.searchParams.delete('user_pwd');\n    u.username = '';\n    u.password = '';\n    return u.href;\n  } catch (err) {\n    diag.error('failed to sanitize redis connection url', err);\n  }\n  return;\n}\n"],"names":[],"mappings":";;;;;AAgBA,MAAA;AAQA,SAAgB,oBACd,IAAgB,EAChB,OAAY;;IAEZ,OAAO;QACL,CAAC,uBAAA,kBAAkB,CAAC,EAAE,uBAAA,oBAAoB;QAC1C,CAAC,uBAAA,sBAAsB,CAAC,EAAE,CAAA,KAAA,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,MAAM,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI;QAC/C,CAAC,uBAAA,sBAAsB,CAAC,EAAE,CAAA,KAAA,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,MAAM,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI;QAC/C,CAAC,uBAAA,6BAA6B,CAAC,EAC7B,iDAAiD,MAAM,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,GAAG;;AAEzE;AAXA,QAAA,mBAAA,GAAA;AAaA;;;;;;IAOA,SAAS,iDACP,IAAgB,EAChB,GAAa;IAEb,IAAI,OAAO,QAAQ,YAAY,CAAC,KAAK;QACnC;;IAGF,IAAI;QACF,MAAM,IAAI,IAAI,IAAI;QAClB,EAAE,YAAY,CAAC,MAAM,CAAC;QACtB,EAAE,QAAQ,GAAG;QACb,EAAE,QAAQ,GAAG;QACb,OAAO,EAAE,IAAI;MACb,OAAO,KAAK;QACZ,KAAK,KAAK,CAAC,2CAA2C;;IAExD;AACF"}},
    {"offset": {"line": 18261, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18265, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_bcd3a6c0ed06879ccfce35e3dc2b72cc/node_modules/@opentelemetry/instrumentation-redis-4/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.46.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-redis-4';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 18287, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18291, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_bcd3a6c0ed06879ccfce35e3dc2b72cc/node_modules/@opentelemetry/instrumentation-redis-4/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  trace,\n  context,\n  SpanKind,\n  Span,\n  SpanStatusCode,\n} from '@opentelemetry/api';\nimport {\n  isWrapped,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n} from '@opentelemetry/instrumentation';\nimport { getClientAttributes } from './utils';\nimport { defaultDbStatementSerializer } from '@opentelemetry/redis-common';\nimport { RedisInstrumentationConfig } from './types';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport { SEMATTRS_DB_STATEMENT } from '@opentelemetry/semantic-conventions';\nimport type { MultiErrorReply } from './internal-types';\n\nconst OTEL_OPEN_SPANS = Symbol(\n  'opentelemetry.instrumentation.redis.open_spans'\n);\nconst MULTI_COMMAND_OPTIONS = Symbol(\n  'opentelemetry.instrumentation.redis.multi_command_options'\n);\n\ninterface MutliCommandInfo {\n  span: Span;\n  commandName: string;\n  commandArgs: Array<string | Buffer>;\n}\n\nconst DEFAULT_CONFIG: RedisInstrumentationConfig = {\n  requireParentSpan: false,\n};\n\nexport class RedisInstrumentation extends InstrumentationBase<RedisInstrumentationConfig> {\n  static readonly COMPONENT = 'redis';\n\n  constructor(config: RedisInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, { ...DEFAULT_CONFIG, ...config });\n  }\n\n  override setConfig(config: RedisInstrumentationConfig = {}) {\n    super.setConfig({ ...DEFAULT_CONFIG, ...config });\n  }\n\n  protected init() {\n    // @node-redis/client is a new package introduced and consumed by 'redis 4.0.x'\n    // on redis@4.1.0 it was changed to @redis/client.\n    // we will instrument both packages\n    return [\n      this._getInstrumentationNodeModuleDefinition('@redis/client'),\n      this._getInstrumentationNodeModuleDefinition('@node-redis/client'),\n    ];\n  }\n\n  private _getInstrumentationNodeModuleDefinition(\n    basePackageName: string\n  ): InstrumentationNodeModuleDefinition {\n    const commanderModuleFile = new InstrumentationNodeModuleFile(\n      `${basePackageName}/dist/lib/commander.js`,\n      ['^1.0.0'],\n      (moduleExports: any, moduleVersion?: string) => {\n        const transformCommandArguments =\n          moduleExports.transformCommandArguments;\n        if (!transformCommandArguments) {\n          this._diag.error(\n            'internal instrumentation error, missing transformCommandArguments function'\n          );\n          return moduleExports;\n        }\n\n        // function name and signature changed in redis 4.1.0 from 'extendWithCommands' to 'attachCommands'\n        // the matching internal package names starts with 1.0.x (for redis 4.0.x)\n        const functionToPatch = moduleVersion?.startsWith('1.0.')\n          ? 'extendWithCommands'\n          : 'attachCommands';\n        // this is the function that extend a redis client with a list of commands.\n        // the function patches the commandExecutor to record a span\n        if (isWrapped(moduleExports?.[functionToPatch])) {\n          this._unwrap(moduleExports, functionToPatch);\n        }\n        this._wrap(\n          moduleExports,\n          functionToPatch,\n          this._getPatchExtendWithCommands(transformCommandArguments)\n        );\n\n        return moduleExports;\n      },\n      (moduleExports: any) => {\n        if (isWrapped(moduleExports?.extendWithCommands)) {\n          this._unwrap(moduleExports, 'extendWithCommands');\n        }\n        if (isWrapped(moduleExports?.attachCommands)) {\n          this._unwrap(moduleExports, 'attachCommands');\n        }\n      }\n    );\n\n    const multiCommanderModule = new InstrumentationNodeModuleFile(\n      `${basePackageName}/dist/lib/client/multi-command.js`,\n      ['^1.0.0'],\n      (moduleExports: any) => {\n        const redisClientMultiCommandPrototype =\n          moduleExports?.default?.prototype;\n\n        if (isWrapped(redisClientMultiCommandPrototype?.exec)) {\n          this._unwrap(redisClientMultiCommandPrototype, 'exec');\n        }\n        this._wrap(\n          redisClientMultiCommandPrototype,\n          'exec',\n          this._getPatchMultiCommandsExec()\n        );\n\n        if (isWrapped(redisClientMultiCommandPrototype?.addCommand)) {\n          this._unwrap(redisClientMultiCommandPrototype, 'addCommand');\n        }\n        this._wrap(\n          redisClientMultiCommandPrototype,\n          'addCommand',\n          this._getPatchMultiCommandsAddCommand()\n        );\n\n        return moduleExports;\n      },\n      (moduleExports: any) => {\n        const redisClientMultiCommandPrototype =\n          moduleExports?.default?.prototype;\n        if (isWrapped(redisClientMultiCommandPrototype?.exec)) {\n          this._unwrap(redisClientMultiCommandPrototype, 'exec');\n        }\n        if (isWrapped(redisClientMultiCommandPrototype?.addCommand)) {\n          this._unwrap(redisClientMultiCommandPrototype, 'addCommand');\n        }\n      }\n    );\n\n    const clientIndexModule = new InstrumentationNodeModuleFile(\n      `${basePackageName}/dist/lib/client/index.js`,\n      ['^1.0.0'],\n      (moduleExports: any) => {\n        const redisClientPrototype = moduleExports?.default?.prototype;\n\n        // In some @redis/client versions 'multi' is a method. In later\n        // versions, as of https://github.com/redis/node-redis/pull/2324,\n        // 'MULTI' is a method and 'multi' is a property defined in the\n        // constructor that points to 'MULTI', and therefore it will not\n        // be defined on the prototype.\n        if (redisClientPrototype?.multi) {\n          if (isWrapped(redisClientPrototype?.multi)) {\n            this._unwrap(redisClientPrototype, 'multi');\n          }\n          this._wrap(\n            redisClientPrototype,\n            'multi',\n            this._getPatchRedisClientMulti()\n          );\n        }\n        if (redisClientPrototype?.MULTI) {\n          if (isWrapped(redisClientPrototype?.MULTI)) {\n            this._unwrap(redisClientPrototype, 'MULTI');\n          }\n          this._wrap(\n            redisClientPrototype,\n            'MULTI',\n            this._getPatchRedisClientMulti()\n          );\n        }\n\n        if (isWrapped(redisClientPrototype?.sendCommand)) {\n          this._unwrap(redisClientPrototype, 'sendCommand');\n        }\n        this._wrap(\n          redisClientPrototype,\n          'sendCommand',\n          this._getPatchRedisClientSendCommand()\n        );\n\n        this._wrap(\n          redisClientPrototype,\n          'connect',\n          this._getPatchedClientConnect()\n        );\n\n        return moduleExports;\n      },\n      (moduleExports: any) => {\n        const redisClientPrototype = moduleExports?.default?.prototype;\n        if (isWrapped(redisClientPrototype?.multi)) {\n          this._unwrap(redisClientPrototype, 'multi');\n        }\n        if (isWrapped(redisClientPrototype?.MULTI)) {\n          this._unwrap(redisClientPrototype, 'MULTI');\n        }\n        if (isWrapped(redisClientPrototype?.sendCommand)) {\n          this._unwrap(redisClientPrototype, 'sendCommand');\n        }\n      }\n    );\n\n    return new InstrumentationNodeModuleDefinition(\n      basePackageName,\n      ['^1.0.0'],\n      (moduleExports: any) => {\n        return moduleExports;\n      },\n      () => {},\n      [commanderModuleFile, multiCommanderModule, clientIndexModule]\n    );\n  }\n\n  // serves both for redis 4.0.x where function name is extendWithCommands\n  // and redis ^4.1.0 where function name is attachCommands\n  private _getPatchExtendWithCommands(transformCommandArguments: Function) {\n    const plugin = this;\n    return function extendWithCommandsPatchWrapper(original: Function) {\n      return function extendWithCommandsPatch(this: any, config: any) {\n        if (config?.BaseClass?.name !== 'RedisClient') {\n          return original.apply(this, arguments);\n        }\n\n        const origExecutor = config.executor;\n        config.executor = function (\n          this: any,\n          command: any,\n          args: Array<string | Buffer>\n        ) {\n          const redisCommandArguments = transformCommandArguments(\n            command,\n            args\n          ).args;\n          return plugin._traceClientCommand(\n            origExecutor,\n            this,\n            arguments,\n            redisCommandArguments\n          );\n        };\n        return original.apply(this, arguments);\n      };\n    };\n  }\n\n  private _getPatchMultiCommandsExec() {\n    const plugin = this;\n    return function execPatchWrapper(original: Function) {\n      return function execPatch(this: any) {\n        const execRes = original.apply(this, arguments);\n        if (typeof execRes?.then !== 'function') {\n          plugin._diag.error(\n            'got non promise result when patching RedisClientMultiCommand.exec'\n          );\n          return execRes;\n        }\n\n        return execRes\n          .then((redisRes: unknown[]) => {\n            const openSpans = this[OTEL_OPEN_SPANS];\n            plugin._endSpansWithRedisReplies(openSpans, redisRes);\n            return redisRes;\n          })\n          .catch((err: Error) => {\n            const openSpans = this[OTEL_OPEN_SPANS];\n            if (!openSpans) {\n              plugin._diag.error(\n                'cannot find open spans to end for redis multi command'\n              );\n            } else {\n              const replies =\n                err.constructor.name === 'MultiErrorReply'\n                  ? (err as MultiErrorReply).replies\n                  : new Array(openSpans.length).fill(err);\n              plugin._endSpansWithRedisReplies(openSpans, replies);\n            }\n            return Promise.reject(err);\n          });\n      };\n    };\n  }\n\n  private _getPatchMultiCommandsAddCommand() {\n    const plugin = this;\n    return function addCommandWrapper(original: Function) {\n      return function addCommandPatch(this: any, args: Array<string | Buffer>) {\n        return plugin._traceClientCommand(original, this, arguments, args);\n      };\n    };\n  }\n\n  private _getPatchRedisClientMulti() {\n    return function multiPatchWrapper(original: Function) {\n      return function multiPatch(this: any) {\n        const multiRes = original.apply(this, arguments);\n        multiRes[MULTI_COMMAND_OPTIONS] = this.options;\n        return multiRes;\n      };\n    };\n  }\n\n  private _getPatchRedisClientSendCommand() {\n    const plugin = this;\n    return function sendCommandWrapper(original: Function) {\n      return function sendCommandPatch(\n        this: any,\n        args: Array<string | Buffer>\n      ) {\n        return plugin._traceClientCommand(original, this, arguments, args);\n      };\n    };\n  }\n\n  private _getPatchedClientConnect() {\n    const plugin = this;\n    return function connectWrapper(original: Function) {\n      return function patchedConnect(this: any): Promise<void> {\n        const options = this.options;\n\n        const attributes = getClientAttributes(plugin._diag, options);\n\n        const span = plugin.tracer.startSpan(\n          `${RedisInstrumentation.COMPONENT}-connect`,\n          {\n            kind: SpanKind.CLIENT,\n            attributes,\n          }\n        );\n\n        const res = context.with(trace.setSpan(context.active(), span), () => {\n          return original.apply(this);\n        });\n\n        return res\n          .then((result: unknown) => {\n            span.end();\n            return result;\n          })\n          .catch((error: Error) => {\n            span.recordException(error);\n            span.setStatus({\n              code: SpanStatusCode.ERROR,\n              message: error.message,\n            });\n            span.end();\n            return Promise.reject(error);\n          });\n      };\n    };\n  }\n\n  private _traceClientCommand(\n    origFunction: Function,\n    origThis: any,\n    origArguments: IArguments,\n    redisCommandArguments: Array<string | Buffer>\n  ) {\n    const hasNoParentSpan = trace.getSpan(context.active()) === undefined;\n    if (hasNoParentSpan && this.getConfig().requireParentSpan) {\n      return origFunction.apply(origThis, origArguments);\n    }\n\n    const clientOptions = origThis.options || origThis[MULTI_COMMAND_OPTIONS];\n\n    const commandName = redisCommandArguments[0] as string; // types also allows it to be a Buffer, but in practice it only string\n    const commandArgs = redisCommandArguments.slice(1);\n\n    const dbStatementSerializer =\n      this.getConfig().dbStatementSerializer || defaultDbStatementSerializer;\n\n    const attributes = getClientAttributes(this._diag, clientOptions);\n\n    try {\n      const dbStatement = dbStatementSerializer(commandName, commandArgs);\n      if (dbStatement != null) {\n        attributes[SEMATTRS_DB_STATEMENT] = dbStatement;\n      }\n    } catch (e) {\n      this._diag.error('dbStatementSerializer throw an exception', e, {\n        commandName,\n      });\n    }\n\n    const span = this.tracer.startSpan(\n      `${RedisInstrumentation.COMPONENT}-${commandName}`,\n      {\n        kind: SpanKind.CLIENT,\n        attributes,\n      }\n    );\n\n    const res = context.with(trace.setSpan(context.active(), span), () => {\n      return origFunction.apply(origThis, origArguments);\n    });\n    if (typeof res?.then === 'function') {\n      res.then(\n        (redisRes: unknown) => {\n          this._endSpanWithResponse(\n            span,\n            commandName,\n            commandArgs,\n            redisRes,\n            undefined\n          );\n        },\n        (err: any) => {\n          this._endSpanWithResponse(span, commandName, commandArgs, null, err);\n        }\n      );\n    } else {\n      const redisClientMultiCommand = res as {\n        [OTEL_OPEN_SPANS]?: Array<MutliCommandInfo>;\n      };\n      redisClientMultiCommand[OTEL_OPEN_SPANS] =\n        redisClientMultiCommand[OTEL_OPEN_SPANS] || [];\n      redisClientMultiCommand[OTEL_OPEN_SPANS]!.push({\n        span,\n        commandName,\n        commandArgs,\n      });\n    }\n    return res;\n  }\n\n  private _endSpansWithRedisReplies(\n    openSpans: Array<MutliCommandInfo>,\n    replies: unknown[]\n  ) {\n    if (!openSpans) {\n      return this._diag.error(\n        'cannot find open spans to end for redis multi command'\n      );\n    }\n    if (replies.length !== openSpans.length) {\n      return this._diag.error(\n        'number of multi command spans does not match response from redis'\n      );\n    }\n    for (let i = 0; i < openSpans.length; i++) {\n      const { span, commandName, commandArgs } = openSpans[i];\n      const currCommandRes = replies[i];\n      const [res, err] =\n        currCommandRes instanceof Error\n          ? [null, currCommandRes]\n          : [currCommandRes, undefined];\n      this._endSpanWithResponse(span, commandName, commandArgs, res, err);\n    }\n  }\n\n  private _endSpanWithResponse(\n    span: Span,\n    commandName: string,\n    commandArgs: Array<string | Buffer>,\n    response: unknown,\n    error: Error | undefined\n  ) {\n    const { responseHook } = this.getConfig();\n    if (!error && responseHook) {\n      try {\n        responseHook(span, commandName, commandArgs, response);\n      } catch (err) {\n        this._diag.error('responseHook throw an exception', err);\n      }\n    }\n    if (error) {\n      span.recordException(error);\n      span.setStatus({ code: SpanStatusCode.ERROR, message: error?.message });\n    }\n    span.end();\n  }\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,MAAA;AAOA,MAAA;AAMA,MAAA;AACA,MAAA;AAEA,gBAAA,GACA,MAAA;AACA,MAAA;AAGA,MAAM,kBAAkB,OACtB;AAEF,MAAM,wBAAwB,OAC5B;AASF,MAAM,iBAA6C;IACjD,mBAAmB;;AAGrB,MAAa,6BAA6B,kBAAA,mBAA+C;IAGvF,YAAY,SAAqC,CAAA,CAAE,CAAA;QACjD,KAAK,CAAC,UAAA,YAAY,EAAE,UAAA,eAAe,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAO,iBAAmB;IAC/D;IAES,UAAU,SAAqC,CAAA,CAAE,EAAA;QACxD,KAAK,CAAC,UAAS,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAM,iBAAmB;IAC1C;IAEU,OAAI;QACZ,+EAA+E;QAC/E,kDAAkD;QAClD,mCAAmC;QACnC,OAAO;YACL,IAAI,CAAC,uCAAuC,CAAC;YAC7C,IAAI,CAAC,uCAAuC,CAAC;SAC9C;IACH;IAEQ,wCACN,eAAuB,EAAA;QAEvB,MAAM,sBAAsB,IAAI,kBAAA,6BAA6B,CAC3D,CAAA,EAAG,gBAAe,sBAAA,CAAwB,EAC1C;YAAC;SAAS,EACV,CAAC,eAAoB;YACnB,MAAM,4BACJ,cAAc,yBAAyB;YACzC,IAAI,CAAC,2BAA2B;gBAC9B,IAAI,CAAC,KAAK,CAAC,KAAK,CACd;gBAEF,OAAO;;YAGT,mGAAmG;YACnG,0EAA0E;YAC1E,MAAM,kBAAkB,CAAA,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,cAAe,UAAU,CAAC,OAAO,IACrD,uBACA;YACJ,2EAA2E;YAC3E,4DAA4D;YAC5D,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,aAAa,CAAG,gBAAgB,GAAG;gBAC/C,IAAI,CAAC,OAAO,CAAC,eAAe;;YAE9B,IAAI,CAAC,KAAK,CACR,eACA,iBACA,IAAI,CAAC,2BAA2B,CAAC;YAGnC,OAAO;QACT,GACA,CAAC;YACC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,cAAe,kBAAkB,GAAG;gBAChD,IAAI,CAAC,OAAO,CAAC,eAAe;;YAE9B,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,cAAe,cAAc,GAAG;gBAC5C,IAAI,CAAC,OAAO,CAAC,eAAe;;QAEhC;QAGF,MAAM,uBAAuB,IAAI,kBAAA,6BAA6B,CAC5D,CAAA,EAAG,gBAAe,iCAAA,CAAmC,EACrD;YAAC;SAAS,EACV,CAAC;;YACC,MAAM,mCACJ,CAAA,KAAA,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,cAAe,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,SAAS;YAEnC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,qCAAgC,QAAhC,qCAAgC,KAAA,IAAA,KAAA,IAAhC,iCAAkC,IAAI,GAAG;gBACrD,IAAI,CAAC,OAAO,CAAC,kCAAkC;;YAEjD,IAAI,CAAC,KAAK,CACR,kCACA,QACA,IAAI,CAAC,0BAA0B;YAGjC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,qCAAgC,QAAhC,qCAAgC,KAAA,IAAA,KAAA,IAAhC,iCAAkC,UAAU,GAAG;gBAC3D,IAAI,CAAC,OAAO,CAAC,kCAAkC;;YAEjD,IAAI,CAAC,KAAK,CACR,kCACA,cACA,IAAI,CAAC,gCAAgC;YAGvC,OAAO;QACT,GACA,CAAC;;YACC,MAAM,mCACJ,CAAA,KAAA,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,cAAe,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,SAAS;YACnC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,qCAAgC,QAAhC,qCAAgC,KAAA,IAAA,KAAA,IAAhC,iCAAkC,IAAI,GAAG;gBACrD,IAAI,CAAC,OAAO,CAAC,kCAAkC;;YAEjD,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,qCAAgC,QAAhC,qCAAgC,KAAA,IAAA,KAAA,IAAhC,iCAAkC,UAAU,GAAG;gBAC3D,IAAI,CAAC,OAAO,CAAC,kCAAkC;;QAEnD;QAGF,MAAM,oBAAoB,IAAI,kBAAA,6BAA6B,CACzD,CAAA,EAAG,gBAAe,yBAAA,CAA2B,EAC7C;YAAC;SAAS,EACV,CAAC;;YACC,MAAM,uBAAuB,CAAA,KAAA,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,cAAe,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,SAAS;YAE9D,+DAA+D;YAC/D,iEAAiE;YACjE,+DAA+D;YAC/D,gEAAgE;YAChE,+BAA+B;YAC/B,IAAI,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,KAAK,EAAE;gBAC/B,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,KAAK,GAAG;oBAC1C,IAAI,CAAC,OAAO,CAAC,sBAAsB;;gBAErC,IAAI,CAAC,KAAK,CACR,sBACA,SACA,IAAI,CAAC,yBAAyB;;YAGlC,IAAI,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,KAAK,EAAE;gBAC/B,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,KAAK,GAAG;oBAC1C,IAAI,CAAC,OAAO,CAAC,sBAAsB;;gBAErC,IAAI,CAAC,KAAK,CACR,sBACA,SACA,IAAI,CAAC,yBAAyB;;YAIlC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,WAAW,GAAG;gBAChD,IAAI,CAAC,OAAO,CAAC,sBAAsB;;YAErC,IAAI,CAAC,KAAK,CACR,sBACA,eACA,IAAI,CAAC,+BAA+B;YAGtC,IAAI,CAAC,KAAK,CACR,sBACA,WACA,IAAI,CAAC,wBAAwB;YAG/B,OAAO;QACT,GACA,CAAC;;YACC,MAAM,uBAAuB,CAAA,KAAA,kBAAa,QAAb,kBAAa,KAAA,IAAA,KAAA,IAAb,cAAe,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,SAAS;YAC9D,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,KAAK,GAAG;gBAC1C,IAAI,CAAC,OAAO,CAAC,sBAAsB;;YAErC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,KAAK,GAAG;gBAC1C,IAAI,CAAC,OAAO,CAAC,sBAAsB;;YAErC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,yBAAoB,QAApB,yBAAoB,KAAA,IAAA,KAAA,IAApB,qBAAsB,WAAW,GAAG;gBAChD,IAAI,CAAC,OAAO,CAAC,sBAAsB;;QAEvC;QAGF,OAAO,IAAI,kBAAA,mCAAmC,CAC5C,iBACA;YAAC;SAAS,EACV,CAAC;YACC,OAAO;QACT,GACA,KAAO,GACP;YAAC;YAAqB;YAAsB;SAAkB;IAElE;IAEA,wEAAwE;IACxE,yDAAyD;IACjD,4BAA4B,yBAAmC,EAAA;QACrE,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,+BAA+B,QAAkB;YAC/D,OAAO,SAAS,wBAAmC,MAAW;;gBAC5D,IAAI,CAAA,CAAA,KAAA,WAAM,QAAN,WAAM,KAAA,IAAA,KAAA,IAAN,OAAQ,SAAS,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,MAAK,eAAe;oBAC7C,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;;gBAG9B,MAAM,eAAe,OAAO,QAAQ;gBACpC,OAAO,QAAQ,GAAG,SAEhB,OAAY,EACZ,IAA4B;oBAE5B,MAAM,wBAAwB,0BAC5B,SACA,MACA,IAAI;oBACN,OAAO,OAAO,mBAAmB,CAC/B,cACA,IAAI,EACJ,WACA;gBAEJ;gBACA,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;YAC9B;QACF;IACF;IAEQ,6BAA0B;QAChC,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,iBAAiB,QAAkB;YACjD,OAAO,SAAS;gBACd,MAAM,UAAU,SAAS,KAAK,CAAC,IAAI,EAAE;gBACrC,IAAI,OAAO,CAAA,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,IAAI,MAAK,YAAY;oBACvC,OAAO,KAAK,CAAC,KAAK,CAChB;oBAEF,OAAO;;gBAGT,OAAO,QACJ,IAAI,CAAC,CAAC;oBACL,MAAM,YAAY,IAAI,CAAC,gBAAgB;oBACvC,OAAO,yBAAyB,CAAC,WAAW;oBAC5C,OAAO;gBACT,GACC,KAAK,CAAC,CAAC;oBACN,MAAM,YAAY,IAAI,CAAC,gBAAgB;oBACvC,IAAI,CAAC,WAAW;wBACd,OAAO,KAAK,CAAC,KAAK,CAChB;2BAEG;wBACL,MAAM,UACJ,IAAI,WAAW,CAAC,IAAI,KAAK,oBACpB,IAAwB,OAAO,GAChC,IAAI,MAAM,UAAU,MAAM,EAAE,IAAI,CAAC;wBACvC,OAAO,yBAAyB,CAAC,WAAW;;oBAE9C,OAAO,QAAQ,MAAM,CAAC;gBACxB;YACJ;QACF;IACF;IAEQ,mCAAgC;QACtC,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,kBAAkB,QAAkB;YAClD,OAAO,SAAS,gBAA2B,IAA4B;gBACrE,OAAO,OAAO,mBAAmB,CAAC,UAAU,IAAI,EAAE,WAAW;YAC/D;QACF;IACF;IAEQ,4BAAyB;QAC/B,OAAO,SAAS,kBAAkB,QAAkB;YAClD,OAAO,SAAS;gBACd,MAAM,WAAW,SAAS,KAAK,CAAC,IAAI,EAAE;gBACtC,QAAQ,CAAC,sBAAsB,GAAG,IAAI,CAAC,OAAO;gBAC9C,OAAO;YACT;QACF;IACF;IAEQ,kCAA+B;QACrC,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,mBAAmB,QAAkB;YACnD,OAAO,SAAS,iBAEd,IAA4B;gBAE5B,OAAO,OAAO,mBAAmB,CAAC,UAAU,IAAI,EAAE,WAAW;YAC/D;QACF;IACF;IAEQ,2BAAwB;QAC9B,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,eAAe,QAAkB;YAC/C,OAAO,SAAS;gBACd,MAAM,UAAU,IAAI,CAAC,OAAO;gBAE5B,MAAM,aAAa,CAAA,GAAA,QAAA,mBAAmB,EAAC,OAAO,KAAK,EAAE;gBAErD,MAAM,OAAO,OAAO,MAAM,CAAC,SAAS,CAClC,CAAA,EAAG,qBAAqB,SAAS,CAAA,QAAA,CAAU,EAC3C;oBACE,MAAM,MAAA,QAAQ,CAAC,MAAM;oBACrB;;gBAIJ,MAAM,MAAM,MAAA,OAAO,CAAC,IAAI,CAAC,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM,IAAI,OAAO;oBAC9D,OAAO,SAAS,KAAK,CAAC,IAAI;gBAC5B;gBAEA,OAAO,IACJ,IAAI,CAAC,CAAC;oBACL,KAAK,GAAG;oBACR,OAAO;gBACT,GACC,KAAK,CAAC,CAAC;oBACN,KAAK,eAAe,CAAC;oBACrB,KAAK,SAAS,CAAC;wBACb,MAAM,MAAA,cAAc,CAAC,KAAK;wBAC1B,SAAS,MAAM,OAAO;;oBAExB,KAAK,GAAG;oBACR,OAAO,QAAQ,MAAM,CAAC;gBACxB;YACJ;QACF;IACF;IAEQ,oBACN,YAAsB,EACtB,QAAa,EACb,aAAyB,EACzB,qBAA6C,EAAA;QAE7C,MAAM,kBAAkB,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM,QAAQ;QAC5D,IAAI,mBAAmB,IAAI,CAAC,SAAS,GAAG,iBAAiB,EAAE;YACzD,OAAO,aAAa,KAAK,CAAC,UAAU;;QAGtC,MAAM,gBAAgB,SAAS,OAAO,IAAI,QAAQ,CAAC,sBAAsB;QAEzE,MAAM,cAAc,qBAAqB,CAAC,EAAY,EAAE,sEAAsE;QAC9H,MAAM,cAAc,sBAAsB,KAAK,CAAC;QAEhD,MAAM,wBACJ,IAAI,CAAC,SAAS,GAAG,qBAAqB,IAAI,eAAA,4BAA4B;QAExE,MAAM,aAAa,CAAA,GAAA,QAAA,mBAAmB,EAAC,IAAI,CAAC,KAAK,EAAE;QAEnD,IAAI;YACF,MAAM,cAAc,sBAAsB,aAAa;YACvD,IAAI,eAAe,MAAM;gBACvB,UAAU,CAAC,uBAAA,qBAAqB,CAAC,GAAG;;UAEtC,OAAO,GAAG;YACV,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,4CAA4C,GAAG;gBAC9D;;;QAIJ,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAChC,CAAA,EAAG,qBAAqB,SAAS,CAAA,CAAA,EAAI,YAAW,CAAE,EAClD;YACE,MAAM,MAAA,QAAQ,CAAC,MAAM;YACrB;;QAIJ,MAAM,MAAM,MAAA,OAAO,CAAC,IAAI,CAAC,MAAA,KAAK,CAAC,OAAO,CAAC,MAAA,OAAO,CAAC,MAAM,IAAI,OAAO;YAC9D,OAAO,aAAa,KAAK,CAAC,UAAU;QACtC;QACA,IAAI,OAAO,CAAA,QAAG,QAAH,QAAG,KAAA,IAAA,KAAA,IAAH,IAAK,IAAI,MAAK,YAAY;YACnC,IAAI,IAAI,CACN,CAAC;gBACC,IAAI,CAAC,oBAAoB,CACvB,MACA,aACA,aACA,UACA;YAEJ,GACA,CAAC;gBACC,IAAI,CAAC,oBAAoB,CAAC,MAAM,aAAa,aAAa,MAAM;YAClE;eAEG;YACL,MAAM,0BAA0B;YAGhC,uBAAuB,CAAC,gBAAgB,GACtC,uBAAuB,CAAC,gBAAgB,IAAI,EAAE;YAChD,uBAAuB,CAAC,gBAAiB,CAAC,IAAI,CAAC;gBAC7C;gBACA;gBACA;;;QAGJ,OAAO;IACT;IAEQ,0BACN,SAAkC,EAClC,OAAkB,EAAA;QAElB,IAAI,CAAC,WAAW;YACd,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CACrB;;QAGJ,IAAI,QAAQ,MAAM,KAAK,UAAU,MAAM,EAAE;YACvC,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CACrB;;QAGJ,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;YACzC,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,SAAS,CAAC,EAAE;YACvD,MAAM,iBAAiB,OAAO,CAAC,EAAE;YACjC,MAAM,CAAC,KAAK,IAAI,GACd,0BAA0B,QACtB;gBAAC;gBAAM;aAAe,GACtB;gBAAC;gBAAgB;aAAU;YACjC,IAAI,CAAC,oBAAoB,CAAC,MAAM,aAAa,aAAa,KAAK;;IAEnE;IAEQ,qBACN,IAAU,EACV,WAAmB,EACnB,WAAmC,EACnC,QAAiB,EACjB,KAAwB,EAAA;QAExB,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,CAAC,SAAS;QACvC,IAAI,CAAC,SAAS,cAAc;YAC1B,IAAI;gBACF,aAAa,MAAM,aAAa,aAAa;cAC7C,OAAO,KAAK;gBACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,mCAAmC;;;QAGxD,IAAI,OAAO;YACT,KAAK,eAAe,CAAC;YACrB,KAAK,SAAS,CAAC;gBAAE,MAAM,MAAA,cAAc,CAAC,KAAK;gBAAE,SAAS,UAAK,QAAL,UAAK,KAAA,IAAA,KAAA,IAAL,MAAO,OAAO;YAAA;;QAEtE,KAAK,GAAG;IACV;;AAlbF,QAAA,oBAAA,GAAA;AACkB,qBAAA,SAAS,GAAG"}},
    {"offset": {"line": 18622, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18626, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_bcd3a6c0ed06879ccfce35e3dc2b72cc/node_modules/@opentelemetry/instrumentation-redis-4/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Span } from '@opentelemetry/api';\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\n/**\n * Function that can be used to serialize db.statement tag\n * @param cmdName - The name of the command (eg. set, get, mset)\n * @param cmdArgs - Array of arguments passed to the command\n *\n * @returns serialized string that will be used as the db.statement attribute.\n */\nexport type DbStatementSerializer = (\n  cmdName: string,\n  cmdArgs: Array<string | Buffer>\n) => string;\n\n/**\n * Function that can be used to add custom attributes to span on response from redis server\n * @param span - The span created for the redis command, on which attributes can be set\n * @param cmdName - The name of the command (eg. set, get, mset)\n * @param cmdArgs - Array of arguments passed to the command\n * @param response - The response object which is returned to the user who called this command.\n *  Can be used to set custom attributes on the span.\n *  The type of the response varies depending on the specific command.\n */\nexport interface RedisResponseCustomAttributeFunction {\n  (\n    span: Span,\n    cmdName: string,\n    cmdArgs: Array<string | Buffer>,\n    response: unknown\n  ): void;\n}\n\nexport interface RedisInstrumentationConfig extends InstrumentationConfig {\n  /** Custom serializer function for the db.statement tag */\n  dbStatementSerializer?: DbStatementSerializer;\n\n  /** Function for adding custom attributes on db response */\n  responseHook?: RedisResponseCustomAttributeFunction;\n\n  /** Require parent to create redis span, default when unset is false */\n  requireParentSpan?: boolean;\n}\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 18644, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18648, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_bcd3a6c0ed06879ccfce35e3dc2b72cc/node_modules/@opentelemetry/instrumentation-redis-4/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,yOAAA;AACA,+NAAA"}},
    {"offset": {"line": 18683, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18687, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/internal-types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as pgTypes from 'pg';\nimport type * as pgPoolTypes from 'pg-pool';\n\nexport type PostgresCallback = (err: Error, res: object) => unknown;\n\n// NB: this type describes the shape of a parsed, normalized form of the\n// connection information that's stored inside each pg.Client instance. It's\n// _not_ the same as the ConnectionConfig type exported from `@types/pg`. That\n// type defines how data must be _passed in_ when creating a new `pg.Client`,\n// which doesn't necessarily match the normalized internal form. E.g., a user\n// can call `new Client({ connectionString: '...' }), but `connectionString`\n// will never show up in the type below, because only the extracted host, port,\n// etc. are recorded in this normalized config. The keys listed below are also\n// incomplete, which is fine because the type is internal and these keys are the\n// only ones our code is reading. See https://github.com/brianc/node-postgres/blob/fde5ec586e49258dfc4a2fcd861fcdecb4794fc3/lib/client.js#L25\nexport interface PgParsedConnectionParams {\n  database?: string;\n  host?: string;\n  port?: number;\n  user?: string;\n}\n\nexport interface PgClientExtended extends pgTypes.Client {\n  connectionParameters: PgParsedConnectionParams;\n}\n\nexport type PgPoolCallback = (\n  err: Error,\n  client: any,\n  done: (release?: any) => void\n) => void;\n\nexport interface PgPoolOptionsParams {\n  database: string;\n  host: string;\n  port: number;\n  user: string;\n  idleTimeoutMillis: number; // the minimum amount of time that an object may sit idle in the pool before it is eligible for eviction due to idle time\n  maxClient: number; // maximum size of the pool\n}\n\nexport const EVENT_LISTENERS_SET = Symbol(\n  'opentelemetry.instrumentation.pg.eventListenersSet'\n);\n\nexport interface PgPoolExtended extends pgPoolTypes<pgTypes.Client> {\n  options: PgPoolOptionsParams;\n  [EVENT_LISTENERS_SET]?: boolean; // flag to identify if the event listeners for instrumentation have been set\n}\n\nexport type PgClientConnect = (callback?: Function) => Promise<void> | void;\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAyDa,QAAA,mBAAmB,GAAG,OACjC"}},
    {"offset": {"line": 18707, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18711, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/enums/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Postgresql specific attributes not covered by semantic conventions\nexport enum AttributeNames {\n  PG_VALUES = 'db.postgresql.values',\n  PG_PLAN = 'db.postgresql.plan',\n  IDLE_TIMEOUT_MILLIS = 'db.postgresql.idle.timeout.millis',\n  MAX_CLIENT = 'db.postgresql.max.client',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,qEAAqE;AACrE,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,YAAA,GAAA;IACA,cAAA,CAAA,UAAA,GAAA;IACA,cAAA,CAAA,sBAAA,GAAA;IACA,cAAA,CAAA,aAAA,GAAA;AACF,CAAC,EALW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 18738, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18742, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/semconv.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The name of the connection pool; unique within the instrumented application. In case the connection pool implementation doesn't provide a name, instrumentation **SHOULD** use a combination of parameters that would make the name unique, for example, combining attributes `server.address`, `server.port`, and `db.namespace`, formatted as `server.address:server.port/db.namespace`. Instrumentations that generate connection pool name following different patterns **SHOULD** document it.\n *\n * @example myDataSource\n *\n * @experimental This attribute is experimental and is subject to breaking changes in minor releases of `@opentelemetry/semantic-conventions`.\n */\nexport const ATTR_DB_CLIENT_CONNECTION_POOL_NAME =\n  'db.client.connection.pool.name';\n\n/**\n * The state of a connection in the pool\n *\n * @example idle\n *\n * @experimental This attribute is experimental and is subject to breaking changes in minor releases of `@opentelemetry/semantic-conventions`.\n */\nexport const ATTR_DB_CLIENT_CONNECTION_STATE = 'db.client.connection.state';\n\n/**\n * The name of the database, fully qualified within the server address and port.\n *\n * @example customers\n * @example test.users\n *\n * @note If a database system has multiple namespace components, they **SHOULD** be concatenated (potentially using database system specific conventions) from most general to most specific namespace component, and more specific namespaces **SHOULD NOT** be captured without the more general namespaces, to ensure that \"startswith\" queries for the more general namespaces will be valid.\n * Semantic conventions for individual database systems **SHOULD** document what `db.namespace` means in the context of that system.\n * It is **RECOMMENDED** to capture the value as provided by the application without attempting to do any case normalization.\n * This attribute has stability level RELEASE CANDIDATE.\n *\n * @experimental This attribute is experimental and is subject to breaking changes in minor releases of `@opentelemetry/semantic-conventions`.\n */\nexport const ATTR_DB_NAMESPACE = 'db.namespace';\n\n/**\n * The name of the operation or command being executed.\n *\n * @example findAndModify\n * @example HMSET\n * @example SELECT\n *\n * @note It is **RECOMMENDED** to capture the value as provided by the application without attempting to do any case normalization.\n * If the operation name is parsed from the query text, it **SHOULD** be the first operation name found in the query.\n * For batch operations, if the individual operations are known to have the same operation name then that operation name **SHOULD** be used prepended by `BATCH `, otherwise `db.operation.name` **SHOULD** be `BATCH` or some other database system specific term if more applicable.\n * This attribute has stability level RELEASE CANDIDATE.\n *\n * @experimental This attribute is experimental and is subject to breaking changes in minor releases of `@opentelemetry/semantic-conventions`.\n */\nexport const ATTR_DB_OPERATION_NAME = 'db.operation.name';\n\n/**\n * Enum value \"used\" for attribute {@link ATTR_DB_CLIENT_CONNECTION_STATE}.\n */\nexport const DB_CLIENT_CONNECTION_STATE_VALUE_USED = 'used';\n\n/**\n * Enum value \"idle\" for attribute {@link ATTR_DB_CLIENT_CONNECTION_STATE}.\n */\nexport const DB_CLIENT_CONNECTION_STATE_VALUE_IDLE = 'idle';\n\n/**\n * The number of connections that are currently in state described by the `state` attribute\n *\n * @experimental This metric is experimental and is subject to breaking changes in minor releases of `@opentelemetry/semantic-conventions`.\n */\nexport const METRIC_DB_CLIENT_CONNECTION_COUNT = 'db.client.connection.count';\n\n/**\n * The number of current pending requests for an open connection\n *\n * @experimental This metric is experimental and is subject to breaking changes in minor releases of `@opentelemetry/semantic-conventions`.\n */\nexport const METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS =\n  'db.client.connection.pending_requests';\n\n/**\n * Duration of database client operations.\n *\n * @note Batch operations **SHOULD** be recorded as a single operation.\n *\n * @experimental This metric is experimental and is subject to breaking changes in minor releases of `@opentelemetry/semantic-conventions`.\n */\nexport const METRIC_DB_CLIENT_OPERATION_DURATION =\n  'db.client.operation.duration';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA;;;;;;IAOa,QAAA,mCAAmC,GAC9C;AAEF;;;;;;IAOa,QAAA,+BAA+B,GAAG;AAE/C;;;;;;;;;;;;IAaa,QAAA,iBAAiB,GAAG;AAEjC;;;;;;;;;;;;;IAca,QAAA,sBAAsB,GAAG;AAEtC;;IAGa,QAAA,qCAAqC,GAAG;AAErD;;IAGa,QAAA,qCAAqC,GAAG;AAErD;;;;IAKa,QAAA,iCAAiC,GAAG;AAEjD;;;;IAKa,QAAA,4CAA4C,GACvD;AAEF;;;;;;IAOa,QAAA,mCAAmC,GAC9C"}},
    {"offset": {"line": 18825, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18829, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/enums/SpanNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Contains span names produced by instrumentation\nexport enum SpanNames {\n  QUERY_PREFIX = 'pg.query',\n  CONNECT = 'pg.connect',\n  POOL_CONNECT = 'pg-pool.connect',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,kDAAkD;AAClD,IAAY;AAAZ,CAAA,SAAY,SAAS;IACnB,SAAA,CAAA,eAAA,GAAA;IACA,SAAA,CAAA,UAAA,GAAA;IACA,SAAA,CAAA,eAAA,GAAA;AACF,CAAC,EAJW,YAAA,QAAA,SAAS,IAAA,CAAT,QAAA,SAAS,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 18855, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18859, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  context,\n  trace,\n  Span,\n  SpanStatusCode,\n  Tracer,\n  SpanKind,\n  diag,\n  UpDownCounter,\n  Attributes,\n} from '@opentelemetry/api';\nimport { AttributeNames } from './enums/AttributeNames';\nimport {\n  ATTR_ERROR_TYPE,\n  SEMATTRS_DB_SYSTEM,\n  SEMATTRS_DB_NAME,\n  SEMATTRS_DB_CONNECTION_STRING,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n  SEMATTRS_DB_USER,\n  SEMATTRS_DB_STATEMENT,\n  DBSYSTEMVALUES_POSTGRESQL,\n} from '@opentelemetry/semantic-conventions';\nimport {\n  ATTR_DB_CLIENT_CONNECTION_POOL_NAME,\n  ATTR_DB_CLIENT_CONNECTION_STATE,\n  DB_CLIENT_CONNECTION_STATE_VALUE_USED,\n  DB_CLIENT_CONNECTION_STATE_VALUE_IDLE,\n} from './semconv';\nimport {\n  PgClientExtended,\n  PostgresCallback,\n  PgPoolCallback,\n  PgPoolExtended,\n  PgParsedConnectionParams,\n  PgPoolOptionsParams,\n} from './internal-types';\nimport { PgInstrumentationConfig } from './types';\nimport type * as pgTypes from 'pg';\nimport { safeExecuteInTheMiddle } from '@opentelemetry/instrumentation';\nimport { SpanNames } from './enums/SpanNames';\n\n/**\n * Helper function to get a low cardinality span name from whatever info we have\n * about the query.\n *\n * This is tricky, because we don't have most of the information (table name,\n * operation name, etc) the spec recommends using to build a low-cardinality\n * value w/o parsing. So, we use db.name and assume that, if the query's a named\n * prepared statement, those `name` values will be low cardinality. If we don't\n * have a named prepared statement, we try to parse an operation (despite the\n * spec's warnings).\n *\n * @params dbName The name of the db against which this query is being issued,\n *   which could be missing if no db name was given at the time that the\n *   connection was established.\n * @params queryConfig Information we have about the query being issued, typed\n *   to reflect only the validation we've actually done on the args to\n *   `client.query()`. This will be undefined if `client.query()` was called\n *   with invalid arguments.\n */\nexport function getQuerySpanName(\n  dbName: string | undefined,\n  queryConfig?: { text: string; name?: unknown }\n) {\n  // NB: when the query config is invalid, we omit the dbName too, so that\n  // someone (or some tool) reading the span name doesn't misinterpret the\n  // dbName as being a prepared statement or sql commit name.\n  if (!queryConfig) return SpanNames.QUERY_PREFIX;\n\n  // Either the name of a prepared statement; or an attempted parse\n  // of the SQL command, normalized to uppercase; or unknown.\n  const command =\n    typeof queryConfig.name === 'string' && queryConfig.name\n      ? queryConfig.name\n      : parseNormalizedOperationName(queryConfig.text);\n\n  return `${SpanNames.QUERY_PREFIX}:${command}${dbName ? ` ${dbName}` : ''}`;\n}\n\nexport function parseNormalizedOperationName(queryText: string) {\n  const indexOfFirstSpace = queryText.indexOf(' ');\n  let sqlCommand =\n    indexOfFirstSpace === -1\n      ? queryText\n      : queryText.slice(0, indexOfFirstSpace);\n  sqlCommand = sqlCommand.toUpperCase();\n\n  // Handle query text being \"COMMIT;\", which has an extra semicolon before the space.\n  return sqlCommand.endsWith(';') ? sqlCommand.slice(0, -1) : sqlCommand;\n}\n\nexport function getConnectionString(params: PgParsedConnectionParams) {\n  const host = params.host || 'localhost';\n  const port = params.port || 5432;\n  const database = params.database || '';\n  return `postgresql://${host}:${port}/${database}`;\n}\n\nfunction getPort(port: number | undefined): number | undefined {\n  // Port may be NaN as parseInt() is used on the value, passing null will result in NaN being parsed.\n  // https://github.com/brianc/node-postgres/blob/2a8efbee09a284be12748ed3962bc9b816965e36/packages/pg/lib/connection-parameters.js#L66\n  if (Number.isInteger(port)) {\n    return port;\n  }\n\n  // Unable to find the default used in pg code, so falling back to 'undefined'.\n  return undefined;\n}\n\nexport function getSemanticAttributesFromConnection(\n  params: PgParsedConnectionParams\n) {\n  return {\n    [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_POSTGRESQL,\n    [SEMATTRS_DB_NAME]: params.database, // required\n    [SEMATTRS_DB_CONNECTION_STRING]: getConnectionString(params), // required\n    [SEMATTRS_NET_PEER_NAME]: params.host, // required\n    [SEMATTRS_NET_PEER_PORT]: getPort(params.port),\n    [SEMATTRS_DB_USER]: params.user,\n  };\n}\n\nexport function getSemanticAttributesFromPool(params: PgPoolOptionsParams) {\n  return {\n    [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_POSTGRESQL,\n    [SEMATTRS_DB_NAME]: params.database, // required\n    [SEMATTRS_DB_CONNECTION_STRING]: getConnectionString(params), // required\n    [SEMATTRS_NET_PEER_NAME]: params.host, // required\n    [SEMATTRS_NET_PEER_PORT]: getPort(params.port),\n    [SEMATTRS_DB_USER]: params.user,\n    [AttributeNames.IDLE_TIMEOUT_MILLIS]: params.idleTimeoutMillis,\n    [AttributeNames.MAX_CLIENT]: params.maxClient,\n  };\n}\n\nexport function shouldSkipInstrumentation(\n  instrumentationConfig: PgInstrumentationConfig\n) {\n  return (\n    instrumentationConfig.requireParentSpan === true &&\n    trace.getSpan(context.active()) === undefined\n  );\n}\n\n// Create a span from our normalized queryConfig object,\n// or return a basic span if no queryConfig was given/could be created.\nexport function handleConfigQuery(\n  this: PgClientExtended,\n  tracer: Tracer,\n  instrumentationConfig: PgInstrumentationConfig,\n  queryConfig?: { text: string; values?: unknown; name?: unknown }\n) {\n  // Create child span.\n  const { connectionParameters } = this;\n  const dbName = connectionParameters.database;\n\n  const spanName = getQuerySpanName(dbName, queryConfig);\n  const span = tracer.startSpan(spanName, {\n    kind: SpanKind.CLIENT,\n    attributes: getSemanticAttributesFromConnection(connectionParameters),\n  });\n\n  if (!queryConfig) {\n    return span;\n  }\n\n  // Set attributes\n  if (queryConfig.text) {\n    span.setAttribute(SEMATTRS_DB_STATEMENT, queryConfig.text);\n  }\n\n  if (\n    instrumentationConfig.enhancedDatabaseReporting &&\n    Array.isArray(queryConfig.values)\n  ) {\n    try {\n      const convertedValues = queryConfig.values.map(value => {\n        if (value == null) {\n          return 'null';\n        } else if (value instanceof Buffer) {\n          return value.toString();\n        } else if (typeof value === 'object') {\n          if (typeof value.toPostgres === 'function') {\n            return value.toPostgres();\n          }\n          return JSON.stringify(value);\n        } else {\n          //string, number\n          return value.toString();\n        }\n      });\n      span.setAttribute(AttributeNames.PG_VALUES, convertedValues);\n    } catch (e) {\n      diag.error('failed to stringify ', queryConfig.values, e);\n    }\n  }\n\n  // Set plan name attribute, if present\n  if (typeof queryConfig.name === 'string') {\n    span.setAttribute(AttributeNames.PG_PLAN, queryConfig.name);\n  }\n\n  return span;\n}\n\nexport function handleExecutionResult(\n  config: PgInstrumentationConfig,\n  span: Span,\n  pgResult: pgTypes.QueryResult | pgTypes.QueryArrayResult | unknown\n) {\n  if (typeof config.responseHook === 'function') {\n    safeExecuteInTheMiddle(\n      () => {\n        config.responseHook!(span, {\n          data: pgResult as pgTypes.QueryResult | pgTypes.QueryArrayResult,\n        });\n      },\n      err => {\n        if (err) {\n          diag.error('Error running response hook', err);\n        }\n      },\n      true\n    );\n  }\n}\n\nexport function patchCallback(\n  instrumentationConfig: PgInstrumentationConfig,\n  span: Span,\n  cb: PostgresCallback,\n  attributes: Attributes,\n  recordDuration: { (): void }\n): PostgresCallback {\n  return function patchedCallback(\n    this: PgClientExtended,\n    err: Error,\n    res: object\n  ) {\n    if (err) {\n      if (Object.prototype.hasOwnProperty.call(err, 'code')) {\n        attributes[ATTR_ERROR_TYPE] = (err as any)['code'];\n      }\n\n      span.setStatus({\n        code: SpanStatusCode.ERROR,\n        message: err.message,\n      });\n    } else {\n      handleExecutionResult(instrumentationConfig, span, res);\n    }\n\n    recordDuration();\n    span.end();\n    cb.call(this, err, res);\n  };\n}\n\nexport function getPoolName(pool: PgPoolOptionsParams): string {\n  let poolName = '';\n  poolName += (pool?.host ? `${pool.host}` : 'unknown_host') + ':';\n  poolName += (pool?.port ? `${pool.port}` : 'unknown_port') + '/';\n  poolName += pool?.database ? `${pool.database}` : 'unknown_database';\n\n  return poolName.trim();\n}\n\nexport interface poolConnectionsCounter {\n  used: number;\n  idle: number;\n  pending: number;\n}\n\nexport function updateCounter(\n  poolName: string,\n  pool: PgPoolExtended,\n  connectionCount: UpDownCounter,\n  connectionPendingRequests: UpDownCounter,\n  latestCounter: poolConnectionsCounter\n): poolConnectionsCounter {\n  const all = pool.totalCount;\n  const pending = pool.waitingCount;\n  const idle = pool.idleCount;\n  const used = all - idle;\n\n  connectionCount.add(used - latestCounter.used, {\n    [ATTR_DB_CLIENT_CONNECTION_STATE]: DB_CLIENT_CONNECTION_STATE_VALUE_USED,\n    [ATTR_DB_CLIENT_CONNECTION_POOL_NAME]: poolName,\n  });\n\n  connectionCount.add(idle - latestCounter.idle, {\n    [ATTR_DB_CLIENT_CONNECTION_STATE]: DB_CLIENT_CONNECTION_STATE_VALUE_IDLE,\n    [ATTR_DB_CLIENT_CONNECTION_POOL_NAME]: poolName,\n  });\n\n  connectionPendingRequests.add(pending - latestCounter.pending, {\n    [ATTR_DB_CLIENT_CONNECTION_POOL_NAME]: poolName,\n  });\n\n  return { used: used, idle: idle, pending: pending };\n}\n\nexport function patchCallbackPGPool(\n  span: Span,\n  cb: PgPoolCallback\n): PgPoolCallback {\n  return function patchedCallback(\n    this: PgPoolExtended,\n    err: Error,\n    res: object,\n    done: any\n  ) {\n    if (err) {\n      span.setStatus({\n        code: SpanStatusCode.ERROR,\n        message: err.message,\n      });\n    }\n    span.end();\n    cb.call(this, err, res, done);\n  };\n}\n\nexport function patchClientConnectCallback(span: Span, cb: Function): Function {\n  return function patchedClientConnectCallback(\n    this: pgTypes.Client,\n    err: Error\n  ) {\n    if (err) {\n      span.setStatus({\n        code: SpanStatusCode.ERROR,\n        message: err.message,\n      });\n    }\n    span.end();\n    cb.apply(this, arguments);\n  };\n}\n\n/**\n * Attempt to get a message string from a thrown value, while being quite\n * defensive, to recognize the fact that, in JS, any kind of value (even\n * primitives) can be thrown.\n */\nexport function getErrorMessage(e: unknown) {\n  return typeof e === 'object' && e !== null && 'message' in e\n    ? String((e as { message?: unknown }).message)\n    : undefined;\n}\n\nexport function isObjectWithTextString(it: unknown): it is ObjectWithText {\n  return (\n    typeof it === 'object' &&\n    typeof (it as null | { text?: unknown })?.text === 'string'\n  );\n}\n\nexport type ObjectWithText = {\n  text: string;\n  [k: string]: unknown;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 19115, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19119, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.51.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-pg';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 19141, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19145, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  isWrapped,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  safeExecuteInTheMiddle,\n  InstrumentationNodeModuleFile,\n} from '@opentelemetry/instrumentation';\nimport {\n  context,\n  trace,\n  Span,\n  SpanStatusCode,\n  SpanKind,\n  Histogram,\n  ValueType,\n  Attributes,\n  HrTime,\n  UpDownCounter,\n} from '@opentelemetry/api';\nimport type * as pgTypes from 'pg';\nimport type * as pgPoolTypes from 'pg-pool';\nimport {\n  PgClientConnect,\n  PgClientExtended,\n  PostgresCallback,\n  PgPoolExtended,\n  PgPoolCallback,\n  EVENT_LISTENERS_SET,\n} from './internal-types';\nimport { PgInstrumentationConfig } from './types';\nimport * as utils from './utils';\nimport { addSqlCommenterComment } from '@opentelemetry/sql-common';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport { SpanNames } from './enums/SpanNames';\nimport {\n  hrTime,\n  hrTimeDuration,\n  hrTimeToMilliseconds,\n} from '@opentelemetry/core';\nimport {\n  DBSYSTEMVALUES_POSTGRESQL,\n  SEMATTRS_DB_SYSTEM,\n  ATTR_ERROR_TYPE,\n  ATTR_SERVER_PORT,\n  ATTR_SERVER_ADDRESS,\n} from '@opentelemetry/semantic-conventions';\nimport {\n  METRIC_DB_CLIENT_CONNECTION_COUNT,\n  METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS,\n  METRIC_DB_CLIENT_OPERATION_DURATION,\n  ATTR_DB_NAMESPACE,\n  ATTR_DB_OPERATION_NAME,\n} from './semconv';\n\nfunction extractModuleExports(module: any) {\n  return module[Symbol.toStringTag] === 'Module'\n    ? module.default // ESM\n    : module; // CommonJS\n}\n\nexport class PgInstrumentation extends InstrumentationBase<PgInstrumentationConfig> {\n  private _operationDuration!: Histogram;\n  private _connectionsCount!: UpDownCounter;\n  private _connectionPendingRequests!: UpDownCounter;\n  // Pool events connect, acquire, release and remove can be called\n  // multiple times without changing the values of total, idle and waiting\n  // connections. The _connectionsCounter is used to keep track of latest\n  // values and only update the metrics _connectionsCount and _connectionPendingRequests\n  // when the value change.\n  private _connectionsCounter: utils.poolConnectionsCounter = {\n    used: 0,\n    idle: 0,\n    pending: 0,\n  };\n\n  constructor(config: PgInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  override _updateMetricInstruments() {\n    this._operationDuration = this.meter.createHistogram(\n      METRIC_DB_CLIENT_OPERATION_DURATION,\n      {\n        description: 'Duration of database client operations.',\n        unit: 's',\n        valueType: ValueType.DOUBLE,\n        advice: {\n          explicitBucketBoundaries: [\n            0.001, 0.005, 0.01, 0.05, 0.1, 0.5, 1, 5, 10,\n          ],\n        },\n      }\n    );\n\n    this._connectionsCounter = {\n      idle: 0,\n      pending: 0,\n      used: 0,\n    };\n    this._connectionsCount = this.meter.createUpDownCounter(\n      METRIC_DB_CLIENT_CONNECTION_COUNT,\n      {\n        description:\n          'The number of connections that are currently in state described by the state attribute.',\n        unit: '{connection}',\n      }\n    );\n    this._connectionPendingRequests = this.meter.createUpDownCounter(\n      METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS,\n      {\n        description:\n          'The number of current pending requests for an open connection.',\n        unit: '{connection}',\n      }\n    );\n  }\n\n  protected init() {\n    const SUPPORTED_PG_VERSIONS = ['>=8.0.3 <9'];\n\n    const modulePgNativeClient = new InstrumentationNodeModuleFile(\n      'pg/lib/native/client.js',\n      SUPPORTED_PG_VERSIONS,\n      this._patchPgClient.bind(this),\n      this._unpatchPgClient.bind(this)\n    );\n\n    const modulePgClient = new InstrumentationNodeModuleFile(\n      'pg/lib/client.js',\n      SUPPORTED_PG_VERSIONS,\n      this._patchPgClient.bind(this),\n      this._unpatchPgClient.bind(this)\n    );\n\n    const modulePG = new InstrumentationNodeModuleDefinition(\n      'pg',\n      SUPPORTED_PG_VERSIONS,\n      (module: any) => {\n        const moduleExports = extractModuleExports(module);\n\n        this._patchPgClient(moduleExports.Client);\n        return module;\n      },\n      (module: any) => {\n        const moduleExports = extractModuleExports(module);\n\n        this._unpatchPgClient(moduleExports.Client);\n        return module;\n      },\n      [modulePgClient, modulePgNativeClient]\n    );\n\n    const modulePGPool = new InstrumentationNodeModuleDefinition(\n      'pg-pool',\n      ['>=2.0.0 <4'],\n      (moduleExports: typeof pgPoolTypes) => {\n        if (isWrapped(moduleExports.prototype.connect)) {\n          this._unwrap(moduleExports.prototype, 'connect');\n        }\n        this._wrap(\n          moduleExports.prototype,\n          'connect',\n          this._getPoolConnectPatch() as any\n        );\n        return moduleExports;\n      },\n      (moduleExports: typeof pgPoolTypes) => {\n        if (isWrapped(moduleExports.prototype.connect)) {\n          this._unwrap(moduleExports.prototype, 'connect');\n        }\n      }\n    );\n\n    return [modulePG, modulePGPool];\n  }\n\n  private _patchPgClient(module: any) {\n    if (!module) {\n      return;\n    }\n\n    const moduleExports = extractModuleExports(module);\n\n    if (isWrapped(moduleExports.prototype.query)) {\n      this._unwrap(moduleExports.prototype, 'query');\n    }\n\n    if (isWrapped(moduleExports.prototype.connect)) {\n      this._unwrap(moduleExports.prototype, 'connect');\n    }\n\n    this._wrap(\n      moduleExports.prototype,\n      'query',\n      this._getClientQueryPatch() as any\n    );\n\n    this._wrap(\n      moduleExports.prototype,\n      'connect',\n      this._getClientConnectPatch() as any\n    );\n\n    return module;\n  }\n\n  private _unpatchPgClient(module: any) {\n    const moduleExports = extractModuleExports(module);\n\n    if (isWrapped(moduleExports.prototype.query)) {\n      this._unwrap(moduleExports.prototype, 'query');\n    }\n\n    if (isWrapped(moduleExports.prototype.connect)) {\n      this._unwrap(moduleExports.prototype, 'connect');\n    }\n\n    return module;\n  }\n\n  private _getClientConnectPatch() {\n    const plugin = this;\n    return (original: PgClientConnect) => {\n      return function connect(this: pgTypes.Client, callback?: Function) {\n        if (utils.shouldSkipInstrumentation(plugin.getConfig())) {\n          return original.call(this, callback);\n        }\n\n        const span = plugin.tracer.startSpan(SpanNames.CONNECT, {\n          kind: SpanKind.CLIENT,\n          attributes: utils.getSemanticAttributesFromConnection(this),\n        });\n\n        if (callback) {\n          const parentSpan = trace.getSpan(context.active());\n          callback = utils.patchClientConnectCallback(span, callback);\n          if (parentSpan) {\n            callback = context.bind(context.active(), callback);\n          }\n        }\n\n        const connectResult: unknown = context.with(\n          trace.setSpan(context.active(), span),\n          () => {\n            return original.call(this, callback);\n          }\n        );\n\n        return handleConnectResult(span, connectResult);\n      };\n    };\n  }\n\n  private recordOperationDuration(attributes: Attributes, startTime: HrTime) {\n    const metricsAttributes: Attributes = {};\n    const keysToCopy = [\n      SEMATTRS_DB_SYSTEM,\n      ATTR_DB_NAMESPACE,\n      ATTR_ERROR_TYPE,\n      ATTR_SERVER_PORT,\n      ATTR_SERVER_ADDRESS,\n      ATTR_DB_OPERATION_NAME,\n    ];\n\n    keysToCopy.forEach(key => {\n      if (key in attributes) {\n        metricsAttributes[key] = attributes[key];\n      }\n    });\n\n    const durationSeconds =\n      hrTimeToMilliseconds(hrTimeDuration(startTime, hrTime())) / 1000;\n    this._operationDuration.record(durationSeconds, metricsAttributes);\n  }\n\n  private _getClientQueryPatch() {\n    const plugin = this;\n    return (original: typeof pgTypes.Client.prototype.query) => {\n      this._diag.debug('Patching pg.Client.prototype.query');\n      return function query(this: PgClientExtended, ...args: unknown[]) {\n        if (utils.shouldSkipInstrumentation(plugin.getConfig())) {\n          return original.apply(this, args as never);\n        }\n        const startTime = hrTime();\n\n        // client.query(text, cb?), client.query(text, values, cb?), and\n        // client.query(configObj, cb?) are all valid signatures. We construct\n        // a queryConfig obj from all (valid) signatures to build the span in a\n        // unified way. We verify that we at least have query text, and code\n        // defensively when dealing with `queryConfig` after that (to handle all\n        // the other invalid cases, like a non-array for values being provided).\n        // The type casts here reflect only what we've actually validated.\n        const arg0 = args[0];\n        const firstArgIsString = typeof arg0 === 'string';\n        const firstArgIsQueryObjectWithText =\n          utils.isObjectWithTextString(arg0);\n\n        // TODO: remove the `as ...` casts below when the TS version is upgraded.\n        // Newer TS versions will use the result of firstArgIsQueryObjectWithText\n        // to properly narrow arg0, but TS 4.3.5 does not.\n        const queryConfig = firstArgIsString\n          ? {\n              text: arg0 as string,\n              values: Array.isArray(args[1]) ? args[1] : undefined,\n            }\n          : firstArgIsQueryObjectWithText\n          ? (arg0 as utils.ObjectWithText)\n          : undefined;\n\n        const attributes: Attributes = {\n          [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_POSTGRESQL,\n          [ATTR_DB_NAMESPACE]: this.database,\n          [ATTR_SERVER_PORT]: this.connectionParameters.port,\n          [ATTR_SERVER_ADDRESS]: this.connectionParameters.host,\n        };\n\n        if (queryConfig?.text) {\n          attributes[ATTR_DB_OPERATION_NAME] =\n            utils.parseNormalizedOperationName(queryConfig?.text);\n        }\n\n        const recordDuration = () => {\n          plugin.recordOperationDuration(attributes, startTime);\n        };\n\n        const instrumentationConfig = plugin.getConfig();\n\n        const span = utils.handleConfigQuery.call(\n          this,\n          plugin.tracer,\n          instrumentationConfig,\n          queryConfig\n        );\n\n        // Modify query text w/ a tracing comment before invoking original for\n        // tracing, but only if args[0] has one of our expected shapes.\n        if (instrumentationConfig.addSqlCommenterCommentToQueries) {\n          if (firstArgIsString) {\n            args[0] = addSqlCommenterComment(span, arg0);\n          } else if (firstArgIsQueryObjectWithText && !('name' in arg0)) {\n            // In the case of a query object, we need to ensure there's no name field\n            // as this indicates a prepared query, where the comment would remain the same\n            // for every invocation and contain an outdated trace context.\n            args[0] = {\n              ...arg0,\n              text: addSqlCommenterComment(span, arg0.text),\n            };\n          }\n        }\n\n        // Bind callback (if any) to parent span (if any)\n        if (args.length > 0) {\n          const parentSpan = trace.getSpan(context.active());\n          if (typeof args[args.length - 1] === 'function') {\n            // Patch ParameterQuery callback\n            args[args.length - 1] = utils.patchCallback(\n              instrumentationConfig,\n              span,\n              args[args.length - 1] as PostgresCallback, // nb: not type safe.\n              attributes,\n              recordDuration\n            );\n\n            // If a parent span exists, bind the callback\n            if (parentSpan) {\n              args[args.length - 1] = context.bind(\n                context.active(),\n                args[args.length - 1]\n              );\n            }\n          } else if (typeof queryConfig?.callback === 'function') {\n            // Patch ConfigQuery callback\n            let callback = utils.patchCallback(\n              plugin.getConfig(),\n              span,\n              queryConfig.callback as PostgresCallback, // nb: not type safe.\n              attributes,\n              recordDuration\n            );\n\n            // If a parent span existed, bind the callback\n            if (parentSpan) {\n              callback = context.bind(context.active(), callback);\n            }\n\n            (args[0] as { callback?: PostgresCallback }).callback = callback;\n          }\n        }\n\n        const { requestHook } = instrumentationConfig;\n        if (typeof requestHook === 'function' && queryConfig) {\n          safeExecuteInTheMiddle(\n            () => {\n              // pick keys to expose explicitly, so we're not leaking pg package\n              // internals that are subject to change\n              const { database, host, port, user } = this.connectionParameters;\n              const connection = { database, host, port, user };\n\n              requestHook(span, {\n                connection,\n                query: {\n                  text: queryConfig.text,\n                  // nb: if `client.query` is called with illegal arguments\n                  // (e.g., if `queryConfig.values` is passed explicitly, but a\n                  // non-array is given), then the type casts will be wrong. But\n                  // we leave it up to the queryHook to handle that, and we\n                  // catch and swallow any errors it throws. The other options\n                  // are all worse. E.g., we could leave `queryConfig.values`\n                  // and `queryConfig.name` as `unknown`, but then the hook body\n                  // would be forced to validate (or cast) them before using\n                  // them, which seems incredibly cumbersome given that these\n                  // casts will be correct 99.9% of the time -- and pg.query\n                  // will immediately throw during development in the other .1%\n                  // of cases. Alternatively, we could simply skip calling the\n                  // hook when `values` or `name` don't have the expected type,\n                  // but that would add unnecessary validation overhead to every\n                  // hook invocation and possibly be even more confusing/unexpected.\n                  values: queryConfig.values as unknown[],\n                  name: queryConfig.name as string | undefined,\n                },\n              });\n            },\n            err => {\n              if (err) {\n                plugin._diag.error('Error running query hook', err);\n              }\n            },\n            true\n          );\n        }\n\n        let result: unknown;\n        try {\n          result = original.apply(this, args as never);\n        } catch (e: unknown) {\n          span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: utils.getErrorMessage(e),\n          });\n          span.end();\n          throw e;\n        }\n\n        // Bind promise to parent span and end the span\n        if (result instanceof Promise) {\n          return result\n            .then((result: unknown) => {\n              // Return a pass-along promise which ends the span and then goes to user's orig resolvers\n              return new Promise(resolve => {\n                utils.handleExecutionResult(plugin.getConfig(), span, result);\n                recordDuration();\n                span.end();\n                resolve(result);\n              });\n            })\n            .catch((error: Error) => {\n              return new Promise((_, reject) => {\n                span.setStatus({\n                  code: SpanStatusCode.ERROR,\n                  message: error.message,\n                });\n                recordDuration();\n                span.end();\n                reject(error);\n              });\n            });\n        }\n\n        // else returns void\n        return result; // void\n      };\n    };\n  }\n\n  private _setPoolConnectEventListeners(pgPool: PgPoolExtended) {\n    if (pgPool[EVENT_LISTENERS_SET]) return;\n    const poolName = utils.getPoolName(pgPool.options);\n\n    pgPool.on('connect', () => {\n      this._connectionsCounter = utils.updateCounter(\n        poolName,\n        pgPool,\n        this._connectionsCount,\n        this._connectionPendingRequests,\n        this._connectionsCounter\n      );\n    });\n\n    pgPool.on('acquire', () => {\n      this._connectionsCounter = utils.updateCounter(\n        poolName,\n        pgPool,\n        this._connectionsCount,\n        this._connectionPendingRequests,\n        this._connectionsCounter\n      );\n    });\n\n    pgPool.on('remove', () => {\n      this._connectionsCounter = utils.updateCounter(\n        poolName,\n        pgPool,\n        this._connectionsCount,\n        this._connectionPendingRequests,\n        this._connectionsCounter\n      );\n    });\n\n    pgPool.on('release' as any, () => {\n      this._connectionsCounter = utils.updateCounter(\n        poolName,\n        pgPool,\n        this._connectionsCount,\n        this._connectionPendingRequests,\n        this._connectionsCounter\n      );\n    });\n    pgPool[EVENT_LISTENERS_SET] = true;\n  }\n\n  private _getPoolConnectPatch() {\n    const plugin = this;\n    return (originalConnect: typeof pgPoolTypes.prototype.connect) => {\n      return function connect(this: PgPoolExtended, callback?: PgPoolCallback) {\n        if (utils.shouldSkipInstrumentation(plugin.getConfig())) {\n          return originalConnect.call(this, callback as any);\n        }\n\n        // setup span\n        const span = plugin.tracer.startSpan(SpanNames.POOL_CONNECT, {\n          kind: SpanKind.CLIENT,\n          attributes: utils.getSemanticAttributesFromPool(this.options),\n        });\n\n        plugin._setPoolConnectEventListeners(this);\n\n        if (callback) {\n          const parentSpan = trace.getSpan(context.active());\n          callback = utils.patchCallbackPGPool(\n            span,\n            callback\n          ) as PgPoolCallback;\n          // If a parent span exists, bind the callback\n          if (parentSpan) {\n            callback = context.bind(context.active(), callback);\n          }\n        }\n\n        const connectResult: unknown = context.with(\n          trace.setSpan(context.active(), span),\n          () => {\n            return originalConnect.call(this, callback as any);\n          }\n        );\n\n        return handleConnectResult(span, connectResult);\n      };\n    };\n  }\n}\n\nfunction handleConnectResult(span: Span, connectResult: unknown) {\n  if (!(connectResult instanceof Promise)) {\n    return connectResult;\n  }\n\n  const connectResultPromise = connectResult as Promise<unknown>;\n  return context.bind(\n    context.active(),\n    connectResultPromise\n      .then(result => {\n        span.end();\n        return result;\n      })\n      .catch((error: unknown) => {\n        span.setStatus({\n          code: SpanStatusCode.ERROR,\n          message: utils.getErrorMessage(error),\n        });\n        span.end();\n        return Promise.reject(error);\n      })\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 19546, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19550, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as pgTypes from 'pg';\nimport type * as api from '@opentelemetry/api';\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport interface PgResponseHookInformation {\n  data: pgTypes.QueryResult | pgTypes.QueryArrayResult;\n}\n\nexport interface PgInstrumentationExecutionResponseHook {\n  (span: api.Span, responseInfo: PgResponseHookInformation): void;\n}\n\nexport interface PgRequestHookInformation {\n  query: {\n    text: string;\n    name?: string;\n    values?: unknown[];\n  };\n  connection: {\n    database?: string;\n    host?: string;\n    port?: number;\n    user?: string;\n  };\n}\n\nexport interface PgInstrumentationExecutionRequestHook {\n  (span: api.Span, queryInfo: PgRequestHookInformation): void;\n}\n\nexport interface PgInstrumentationConfig extends InstrumentationConfig {\n  /**\n   * If true, an attribute containing the query's parameters will be attached\n   * the spans generated to represent the query.\n   */\n  enhancedDatabaseReporting?: boolean;\n\n  /**\n   * Hook that allows adding custom span attributes or updating the\n   * span's name based on the data about the query to execute.\n   *\n   * @default undefined\n   */\n  requestHook?: PgInstrumentationExecutionRequestHook;\n\n  /**\n   * Hook that allows adding custom span attributes based on the data\n   * returned from \"query\" Pg actions.\n   *\n   * @default undefined\n   */\n  responseHook?: PgInstrumentationExecutionResponseHook;\n\n  /**\n   * If true, requires a parent span to create new spans.\n   *\n   * @default false\n   */\n  requireParentSpan?: boolean;\n\n  /**\n   * If true, queries are modified to also include a comment with\n   * the tracing context, following the {@link https://github.com/open-telemetry/opentelemetry-sqlcommenter sqlcommenter} format\n   */\n  addSqlCommenterCommentToQueries?: boolean;\n}\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 19568, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19572, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b90cd1a537dafe294cee963e4432b46a/node_modules/@opentelemetry/instrumentation-pg/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\nexport * from './enums/AttributeNames';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,oOAAA;AACA,0NAAA;AACA,yOAAA"}},
    {"offset": {"line": 19608, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19612, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@prisma+instrumentation@6.11.1_@opentelemetry+api@1.9.0/node_modules/@prisma/instrumentation/dist/index.js"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  PrismaInstrumentation: () => PrismaInstrumentation,\n  registerInstrumentations: () => import_instrumentation2.registerInstrumentations\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/PrismaInstrumentation.ts\nvar import_api2 = require(\"@opentelemetry/api\");\nvar import_instrumentation = require(\"@opentelemetry/instrumentation\");\n\n// src/ActiveTracingHelper.ts\nvar import_api = require(\"@opentelemetry/api\");\nvar showAllTraces = process.env.PRISMA_SHOW_ALL_TRACES === \"true\";\nvar nonSampledTraceParent = `00-10-10-00`;\nfunction engineSpanKindToOtelSpanKind(engineSpanKind) {\n  switch (engineSpanKind) {\n    case \"client\":\n      return import_api.SpanKind.CLIENT;\n    case \"internal\":\n    default:\n      return import_api.SpanKind.INTERNAL;\n  }\n}\nvar ActiveTracingHelper = class {\n  traceMiddleware;\n  tracerProvider;\n  ignoreSpanTypes;\n  constructor({ traceMiddleware, tracerProvider, ignoreSpanTypes }) {\n    this.traceMiddleware = traceMiddleware;\n    this.tracerProvider = tracerProvider;\n    this.ignoreSpanTypes = ignoreSpanTypes;\n  }\n  isEnabled() {\n    return true;\n  }\n  getTraceParent(context) {\n    const span = import_api.trace.getSpanContext(context ?? import_api.context.active());\n    if (span) {\n      return `00-${span.traceId}-${span.spanId}-0${span.traceFlags}`;\n    }\n    return nonSampledTraceParent;\n  }\n  dispatchEngineSpans(spans) {\n    const tracer = this.tracerProvider.getTracer(\"prisma\");\n    const linkIds = /* @__PURE__ */ new Map();\n    const roots = spans.filter((span) => span.parentId === null);\n    for (const root of roots) {\n      dispatchEngineSpan(tracer, root, spans, linkIds, this.ignoreSpanTypes);\n    }\n  }\n  getActiveContext() {\n    return import_api.context.active();\n  }\n  runInChildSpan(options, callback) {\n    if (typeof options === \"string\") {\n      options = { name: options };\n    }\n    if (options.internal && !showAllTraces) {\n      return callback();\n    }\n    if (options.middleware && !this.traceMiddleware) {\n      return callback();\n    }\n    const tracer = this.tracerProvider.getTracer(\"prisma\");\n    const context = options.context ?? this.getActiveContext();\n    const name = `prisma:client:${options.name}`;\n    if (shouldIgnoreSpan(name, this.ignoreSpanTypes)) {\n      return callback();\n    }\n    if (options.active === false) {\n      const span = tracer.startSpan(name, options, context);\n      return endSpan(span, callback(span, context));\n    }\n    return tracer.startActiveSpan(name, options, (span) => endSpan(span, callback(span, context)));\n  }\n};\nfunction dispatchEngineSpan(tracer, engineSpan, allSpans, linkIds, ignoreSpanTypes) {\n  if (shouldIgnoreSpan(engineSpan.name, ignoreSpanTypes)) return;\n  const spanOptions = {\n    attributes: engineSpan.attributes,\n    kind: engineSpanKindToOtelSpanKind(engineSpan.kind),\n    startTime: engineSpan.startTime\n  };\n  tracer.startActiveSpan(engineSpan.name, spanOptions, (span) => {\n    linkIds.set(engineSpan.id, span.spanContext().spanId);\n    if (engineSpan.links) {\n      span.addLinks(\n        engineSpan.links.flatMap((link) => {\n          const linkedId = linkIds.get(link);\n          if (!linkedId) {\n            return [];\n          }\n          return {\n            context: {\n              spanId: linkedId,\n              traceId: span.spanContext().traceId,\n              traceFlags: span.spanContext().traceFlags\n            }\n          };\n        })\n      );\n    }\n    const children = allSpans.filter((s) => s.parentId === engineSpan.id);\n    for (const child of children) {\n      dispatchEngineSpan(tracer, child, allSpans, linkIds, ignoreSpanTypes);\n    }\n    span.end(engineSpan.endTime);\n  });\n}\nfunction endSpan(span, result) {\n  if (isPromiseLike(result)) {\n    return result.then(\n      (value) => {\n        span.end();\n        return value;\n      },\n      (reason) => {\n        span.end();\n        throw reason;\n      }\n    );\n  }\n  span.end();\n  return result;\n}\nfunction isPromiseLike(value) {\n  return value != null && typeof value[\"then\"] === \"function\";\n}\nfunction shouldIgnoreSpan(spanName, ignoreSpanTypes) {\n  return ignoreSpanTypes.some(\n    (pattern) => typeof pattern === \"string\" ? pattern === spanName : pattern.test(spanName)\n  );\n}\n\n// package.json\nvar package_default = {\n  name: \"@prisma/instrumentation\",\n  version: \"6.11.1\",\n  description: \"OpenTelemetry compliant instrumentation for Prisma Client\",\n  main: \"dist/index.js\",\n  module: \"dist/index.mjs\",\n  types: \"dist/index.d.ts\",\n  exports: {\n    \".\": {\n      require: {\n        types: \"./dist/index.d.ts\",\n        default: \"./dist/index.js\"\n      },\n      import: {\n        types: \"./dist/index.d.ts\",\n        default: \"./dist/index.mjs\"\n      }\n    }\n  },\n  license: \"Apache-2.0\",\n  homepage: \"https://www.prisma.io\",\n  repository: {\n    type: \"git\",\n    url: \"https://github.com/prisma/prisma.git\",\n    directory: \"packages/instrumentation\"\n  },\n  bugs: \"https://github.com/prisma/prisma/issues\",\n  devDependencies: {\n    \"@prisma/internals\": \"workspace:*\",\n    \"@swc/core\": \"1.11.5\",\n    \"@types/jest\": \"29.5.14\",\n    \"@types/node\": \"18.19.76\",\n    \"@opentelemetry/api\": \"1.9.0\",\n    jest: \"29.7.0\",\n    \"jest-junit\": \"16.0.0\",\n    typescript: \"5.4.5\"\n  },\n  dependencies: {\n    \"@opentelemetry/instrumentation\": \"^0.52.0 || ^0.53.0 || ^0.54.0 || ^0.55.0 || ^0.56.0 || ^0.57.0\"\n  },\n  peerDependencies: {\n    \"@opentelemetry/api\": \"^1.8\"\n  },\n  files: [\n    \"dist\"\n  ],\n  keywords: [\n    \"prisma\",\n    \"instrumentation\",\n    \"opentelemetry\",\n    \"otel\"\n  ],\n  scripts: {\n    dev: \"DEV=true tsx helpers/build.ts\",\n    build: \"tsx helpers/build.ts\",\n    prepublishOnly: \"pnpm run build\",\n    test: \"jest\"\n  },\n  sideEffects: false\n};\n\n// src/constants.ts\nvar VERSION = package_default.version;\nvar majorVersion = VERSION.split(\".\")[0];\nvar GLOBAL_INSTRUMENTATION_ACCESSOR_KEY = \"PRISMA_INSTRUMENTATION\";\nvar GLOBAL_VERSIONED_INSTRUMENTATION_ACCESSOR_KEY = `V${majorVersion}_PRISMA_INSTRUMENTATION`;\nvar NAME = package_default.name;\nvar MODULE_NAME = \"@prisma/client\";\n\n// src/PrismaInstrumentation.ts\nvar PrismaInstrumentation = class extends import_instrumentation.InstrumentationBase {\n  tracerProvider;\n  constructor(config = {}) {\n    super(NAME, VERSION, config);\n  }\n  setTracerProvider(tracerProvider) {\n    this.tracerProvider = tracerProvider;\n  }\n  init() {\n    const module2 = new import_instrumentation.InstrumentationNodeModuleDefinition(MODULE_NAME, [VERSION]);\n    return [module2];\n  }\n  enable() {\n    const config = this._config;\n    const globalValue = {\n      helper: new ActiveTracingHelper({\n        traceMiddleware: config.middleware ?? false,\n        tracerProvider: this.tracerProvider ?? import_api2.trace.getTracerProvider(),\n        ignoreSpanTypes: config.ignoreSpanTypes ?? []\n      })\n    };\n    global[GLOBAL_INSTRUMENTATION_ACCESSOR_KEY] = globalValue;\n    global[GLOBAL_VERSIONED_INSTRUMENTATION_ACCESSOR_KEY] = globalValue;\n  }\n  disable() {\n    delete global[GLOBAL_INSTRUMENTATION_ACCESSOR_KEY];\n    delete global[GLOBAL_VERSIONED_INSTRUMENTATION_ACCESSOR_KEY];\n  }\n  isEnabled() {\n    return Boolean(global[GLOBAL_VERSIONED_INSTRUMENTATION_ACCESSOR_KEY]);\n  }\n};\n\n// src/index.ts\nvar import_instrumentation2 = require(\"@opentelemetry/instrumentation\");\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  PrismaInstrumentation,\n  registerInstrumentations\n});\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 19875, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19879, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_64d16bbf56914044918fe2c8b0015b90/node_modules/@opentelemetry/instrumentation-hapi/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.45.2';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-hapi';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 19901, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19905, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_64d16bbf56914044918fe2c8b0015b90/node_modules/@opentelemetry/instrumentation-hapi/src/internal-types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type * as Hapi from '@hapi/hapi';\n\nexport const HapiComponentName = '@hapi/hapi';\n\n/**\n * This symbol is used to mark a Hapi route handler or server extension handler as\n * already patched, since its possible to use these handlers multiple times\n * i.e. when allowing multiple versions of one plugin, or when registering a plugin\n * multiple times on different servers.\n */\nexport const handlerPatched: unique symbol = Symbol('hapi-handler-patched');\n\nexport type HapiServerRouteInputMethod = (route: HapiServerRouteInput) => void;\n\nexport type HapiServerRouteInput =\n  | PatchableServerRoute\n  | PatchableServerRoute[];\n\nexport type PatchableServerRoute = Hapi.ServerRoute<any> & {\n  [handlerPatched]?: boolean;\n};\n\nexport type HapiPluginObject<T> = Hapi.ServerRegisterPluginObject<T>;\n\nexport type HapiPluginInput<T> =\n  | HapiPluginObject<T>\n  | Array<HapiPluginObject<T>>;\n\nexport type RegisterFunction<T> = (\n  plugin: HapiPluginInput<T>,\n  options?: Hapi.ServerRegisterOptions\n) => Promise<void>;\n\nexport type PatchableExtMethod = Hapi.Lifecycle.Method & {\n  [handlerPatched]?: boolean;\n};\n\nexport type ServerExtDirectInput = [\n  Hapi.ServerRequestExtType,\n  Hapi.Lifecycle.Method,\n  (Hapi.ServerExtOptions | undefined)?\n];\n\nexport const HapiLayerType = {\n  ROUTER: 'router',\n  PLUGIN: 'plugin',\n  EXT: 'server.ext',\n};\n\nexport const HapiLifecycleMethodNames = new Set([\n  'onPreAuth',\n  'onCredentials',\n  'onPostAuth',\n  'onPreHandler',\n  'onPostHandler',\n  'onPreResponse',\n  'onRequest',\n]);\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAkBa,QAAA,iBAAiB,GAAG;AAEjC;;;;;IAMa,QAAA,cAAc,GAAkB,OAAO;AAiCvC,QAAA,aAAa,GAAG;IAC3B,QAAQ;IACR,QAAQ;IACR,KAAK;;AAGM,QAAA,wBAAwB,GAAG,IAAI,IAAI;IAC9C;IACA;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 19945, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19949, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_64d16bbf56914044918fe2c8b0015b90/node_modules/@opentelemetry/instrumentation-hapi/src/enums/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum AttributeNames {\n  HAPI_TYPE = 'hapi.type',\n  PLUGIN_NAME = 'hapi.plugin.name',\n  EXT_TYPE = 'server.ext.type',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,YAAA,GAAA;IACA,cAAA,CAAA,cAAA,GAAA;IACA,cAAA,CAAA,WAAA,GAAA;AACF,CAAC,EAJW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 19974, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19978, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_64d16bbf56914044918fe2c8b0015b90/node_modules/@opentelemetry/instrumentation-hapi/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanAttributes } from '@opentelemetry/api';\nimport {\n  SEMATTRS_HTTP_METHOD,\n  SEMATTRS_HTTP_ROUTE,\n} from '@opentelemetry/semantic-conventions';\nimport type * as Hapi from '@hapi/hapi';\nimport {\n  HapiLayerType,\n  HapiLifecycleMethodNames,\n  HapiPluginObject,\n  PatchableExtMethod,\n  ServerExtDirectInput,\n} from './internal-types';\nimport { AttributeNames } from './enums/AttributeNames';\n\nexport function getPluginName<T>(plugin: Hapi.Plugin<T>): string {\n  if ((plugin as Hapi.PluginNameVersion).name) {\n    return (plugin as Hapi.PluginNameVersion).name;\n  } else {\n    return (plugin as Hapi.PluginPackage).pkg.name;\n  }\n}\n\nexport const isLifecycleExtType = (\n  variableToCheck: unknown\n): variableToCheck is Hapi.ServerRequestExtType => {\n  return (\n    typeof variableToCheck === 'string' &&\n    HapiLifecycleMethodNames.has(variableToCheck)\n  );\n};\n\nexport const isLifecycleExtEventObj = (\n  variableToCheck: unknown\n): variableToCheck is Hapi.ServerExtEventsRequestObject => {\n  const event = (variableToCheck as Hapi.ServerExtEventsRequestObject)?.type;\n  return event !== undefined && isLifecycleExtType(event);\n};\n\nexport const isDirectExtInput = (\n  variableToCheck: unknown\n): variableToCheck is ServerExtDirectInput => {\n  return (\n    Array.isArray(variableToCheck) &&\n    variableToCheck.length <= 3 &&\n    isLifecycleExtType(variableToCheck[0]) &&\n    typeof variableToCheck[1] === 'function'\n  );\n};\n\nexport const isPatchableExtMethod = (\n  variableToCheck: PatchableExtMethod | PatchableExtMethod[]\n): variableToCheck is PatchableExtMethod => {\n  return !Array.isArray(variableToCheck);\n};\n\nexport const getRouteMetadata = (\n  route: Hapi.ServerRoute,\n  pluginName?: string\n): {\n  attributes: SpanAttributes;\n  name: string;\n} => {\n  if (pluginName) {\n    return {\n      attributes: {\n        [SEMATTRS_HTTP_ROUTE]: route.path,\n        [SEMATTRS_HTTP_METHOD]: route.method,\n        [AttributeNames.HAPI_TYPE]: HapiLayerType.PLUGIN,\n        [AttributeNames.PLUGIN_NAME]: pluginName,\n      },\n      name: `${pluginName}: route - ${route.path}`,\n    };\n  }\n  return {\n    attributes: {\n      [SEMATTRS_HTTP_ROUTE]: route.path,\n      [SEMATTRS_HTTP_METHOD]: route.method,\n      [AttributeNames.HAPI_TYPE]: HapiLayerType.ROUTER,\n    },\n    name: `route - ${route.path}`,\n  };\n};\n\nexport const getExtMetadata = (\n  extPoint: Hapi.ServerRequestExtType,\n  pluginName?: string\n): {\n  attributes: SpanAttributes;\n  name: string;\n} => {\n  if (pluginName) {\n    return {\n      attributes: {\n        [AttributeNames.EXT_TYPE]: extPoint,\n        [AttributeNames.HAPI_TYPE]: HapiLayerType.EXT,\n        [AttributeNames.PLUGIN_NAME]: pluginName,\n      },\n      name: `${pluginName}: ext - ${extPoint}`,\n    };\n  }\n  return {\n    attributes: {\n      [AttributeNames.EXT_TYPE]: extPoint,\n      [AttributeNames.HAPI_TYPE]: HapiLayerType.EXT,\n    },\n    name: `ext - ${extPoint}`,\n  };\n};\n\nexport const getPluginFromInput = <T>(\n  pluginObj: HapiPluginObject<T>\n): Hapi.Plugin<T, void> => {\n  if ('plugin' in pluginObj) {\n    if ('plugin' in pluginObj.plugin) {\n      return pluginObj.plugin.plugin;\n    }\n    return pluginObj.plugin;\n  }\n  return pluginObj;\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAiBA,MAAA;AAKA,MAAA;AAOA,MAAA;AAEA,SAAgB,cAAiB,MAAsB;IACrD,IAAK,OAAkC,IAAI,EAAE;QAC3C,OAAQ,OAAkC,IAAI;WACzC;QACL,OAAQ,OAA8B,GAAG,CAAC,IAAI;;AAElD;AANA,QAAA,aAAA,GAAA;AAQO,MAAM,qBAAqB,CAChC;IAEA,OACE,OAAO,oBAAoB,YAC3B,iBAAA,wBAAwB,CAAC,GAAG,CAAC;AAEjC;AAPa,QAAA,kBAAkB,GAAA;AASxB,MAAM,yBAAyB,CACpC;;IAEA,MAAM,QAAQ,CAAA,KAAC,eAAqD,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI;IAC1E,OAAO,UAAU,aAAa,CAAA,GAAA,QAAA,kBAAkB,EAAC;AACnD;AALa,QAAA,sBAAsB,GAAA;AAO5B,MAAM,mBAAmB,CAC9B;IAEA,OACE,MAAM,OAAO,CAAC,oBACd,gBAAgB,MAAM,IAAI,KAC1B,CAAA,GAAA,QAAA,kBAAkB,EAAC,eAAe,CAAC,EAAE,KACrC,OAAO,eAAe,CAAC,EAAE,KAAK;AAElC;AATa,QAAA,gBAAgB,GAAA;AAWtB,MAAM,uBAAuB,CAClC;IAEA,OAAO,CAAC,MAAM,OAAO,CAAC;AACxB;AAJa,QAAA,oBAAoB,GAAA;AAM1B,MAAM,mBAAmB,CAC9B,OACA;IAKA,IAAI,YAAY;QACd,OAAO;YACL,YAAY;gBACV,CAAC,uBAAA,mBAAmB,CAAC,EAAE,MAAM,IAAI;gBACjC,CAAC,uBAAA,oBAAoB,CAAC,EAAE,MAAM,MAAM;gBACpC,CAAC,iBAAA,cAAc,CAAC,SAAS,CAAC,EAAE,iBAAA,aAAa,CAAC,MAAM;gBAChD,CAAC,iBAAA,cAAc,CAAC,WAAW,CAAC,EAAE;;YAEhC,MAAM,CAAA,EAAG,WAAU,UAAA,EAAa,MAAM,IAAI,CAAA,CAAE;;;IAGhD,OAAO;QACL,YAAY;YACV,CAAC,uBAAA,mBAAmB,CAAC,EAAE,MAAM,IAAI;YACjC,CAAC,uBAAA,oBAAoB,CAAC,EAAE,MAAM,MAAM;YACpC,CAAC,iBAAA,cAAc,CAAC,SAAS,CAAC,EAAE,iBAAA,aAAa,CAAC,MAAM;;QAElD,MAAM,CAAA,QAAA,EAAW,MAAM,IAAI,CAAA,CAAE;;AAEjC;AA1Ba,QAAA,gBAAgB,GAAA;AA4BtB,MAAM,iBAAiB,CAC5B,UACA;IAKA,IAAI,YAAY;QACd,OAAO;YACL,YAAY;gBACV,CAAC,iBAAA,cAAc,CAAC,QAAQ,CAAC,EAAE;gBAC3B,CAAC,iBAAA,cAAc,CAAC,SAAS,CAAC,EAAE,iBAAA,aAAa,CAAC,GAAG;gBAC7C,CAAC,iBAAA,cAAc,CAAC,WAAW,CAAC,EAAE;;YAEhC,MAAM,CAAA,EAAG,WAAU,QAAA,EAAW,SAAQ,CAAE;;;IAG5C,OAAO;QACL,YAAY;YACV,CAAC,iBAAA,cAAc,CAAC,QAAQ,CAAC,EAAE;YAC3B,CAAC,iBAAA,cAAc,CAAC,SAAS,CAAC,EAAE,iBAAA,aAAa,CAAC,GAAG;;QAE/C,MAAM,CAAA,MAAA,EAAS,SAAQ,CAAE;;AAE7B;AAxBa,QAAA,cAAc,GAAA;AA0BpB,MAAM,qBAAqB,CAChC;IAEA,IAAI,YAAY,WAAW;QACzB,IAAI,YAAY,UAAU,MAAM,EAAE;YAChC,OAAO,UAAU,MAAM,CAAC,MAAM;;QAEhC,OAAO,UAAU,MAAM;;IAEzB,OAAO;AACT;AAVa,QAAA,kBAAkB,GAAA"}},
    {"offset": {"line": 20078, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20082, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_64d16bbf56914044918fe2c8b0015b90/node_modules/@opentelemetry/instrumentation-hapi/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport { getRPCMetadata, RPCType } from '@opentelemetry/core';\nimport {\n  InstrumentationBase,\n  InstrumentationConfig,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\n\nimport type * as Hapi from '@hapi/hapi';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport {\n  HapiComponentName,\n  HapiServerRouteInput,\n  handlerPatched,\n  PatchableServerRoute,\n  HapiServerRouteInputMethod,\n  HapiPluginInput,\n  RegisterFunction,\n  PatchableExtMethod,\n  ServerExtDirectInput,\n} from './internal-types';\nimport {\n  getRouteMetadata,\n  getPluginName,\n  isLifecycleExtType,\n  isLifecycleExtEventObj,\n  getExtMetadata,\n  isDirectExtInput,\n  isPatchableExtMethod,\n  getPluginFromInput,\n} from './utils';\n\n/** Hapi instrumentation for OpenTelemetry */\nexport class HapiInstrumentation extends InstrumentationBase {\n  constructor(config: InstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  protected init() {\n    return new InstrumentationNodeModuleDefinition(\n      HapiComponentName,\n      ['>=17.0.0 <22'],\n      (module: any) => {\n        const moduleExports: typeof Hapi =\n          module[Symbol.toStringTag] === 'Module' ? module.default : module;\n        if (!isWrapped(moduleExports.server)) {\n          this._wrap(\n            moduleExports,\n            'server',\n            this._getServerPatch.bind(this) as any\n          );\n        }\n\n        if (!isWrapped(moduleExports.Server)) {\n          this._wrap(\n            moduleExports,\n            'Server',\n            this._getServerPatch.bind(this) as any\n          );\n        }\n        return moduleExports;\n      },\n      (module: any) => {\n        const moduleExports: typeof Hapi =\n          module[Symbol.toStringTag] === 'Module' ? module.default : module;\n        this._massUnwrap([moduleExports], ['server', 'Server']);\n      }\n    );\n  }\n\n  /**\n   * Patches the Hapi.server and Hapi.Server functions in order to instrument\n   * the server.route, server.ext, and server.register functions via calls to the\n   * @function _getServerRoutePatch, @function _getServerExtPatch, and\n   * @function _getServerRegisterPatch functions\n   * @param original - the original Hapi Server creation function\n   */\n  private _getServerPatch(\n    original: (options?: Hapi.ServerOptions) => Hapi.Server\n  ) {\n    const instrumentation: HapiInstrumentation = this;\n    const self = this;\n    return function server(this: Hapi.Server, opts?: Hapi.ServerOptions) {\n      const newServer: Hapi.Server = original.apply(this, [opts]);\n\n      self._wrap(newServer, 'route', originalRouter => {\n        return instrumentation._getServerRoutePatch.bind(instrumentation)(\n          originalRouter\n        );\n      });\n\n      // Casting as any is necessary here due to multiple overloads on the Hapi.ext\n      // function, which requires supporting a variety of different parameters\n      // as extension inputs\n      self._wrap(newServer, 'ext', originalExtHandler => {\n        return instrumentation._getServerExtPatch.bind(instrumentation)(\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          originalExtHandler as any\n        );\n      });\n\n      // Casting as any is necessary here due to multiple overloads on the Hapi.Server.register\n      // function, which requires supporting a variety of different types of Plugin inputs\n      self._wrap(\n        newServer,\n        'register',\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        instrumentation._getServerRegisterPatch.bind(instrumentation) as any\n      );\n      return newServer;\n    };\n  }\n\n  /**\n   * Patches the plugin register function used by the Hapi Server. This function\n   * goes through each plugin that is being registered and adds instrumentation\n   * via a call to the @function _wrapRegisterHandler function.\n   * @param {RegisterFunction<T>} original - the original register function which\n   * registers each plugin on the server\n   */\n  private _getServerRegisterPatch<T>(\n    original: RegisterFunction<T>\n  ): RegisterFunction<T> {\n    const instrumentation: HapiInstrumentation = this;\n    return function register(\n      this: Hapi.Server,\n      pluginInput: HapiPluginInput<T>,\n      options?: Hapi.ServerRegisterOptions\n    ) {\n      if (Array.isArray(pluginInput)) {\n        for (const pluginObj of pluginInput) {\n          const plugin = getPluginFromInput(pluginObj);\n          instrumentation._wrapRegisterHandler(plugin);\n        }\n      } else {\n        const plugin = getPluginFromInput(pluginInput);\n        instrumentation._wrapRegisterHandler(plugin);\n      }\n      return original.apply(this, [pluginInput, options]);\n    };\n  }\n\n  /**\n   * Patches the Server.ext function which adds extension methods to the specified\n   * point along the request lifecycle. This function accepts the full range of\n   * accepted input into the standard Hapi `server.ext` function. For each extension,\n   * it adds instrumentation to the handler via a call to the @function _wrapExtMethods\n   * function.\n   * @param original - the original ext function which adds the extension method to the server\n   * @param {string} [pluginName] - if present, represents the name of the plugin responsible\n   * for adding this server extension. Else, signifies that the extension was added directly\n   */\n  private _getServerExtPatch(\n    original: (...args: unknown[]) => unknown,\n    pluginName?: string\n  ) {\n    const instrumentation: HapiInstrumentation = this;\n\n    return function ext(\n      this: ThisParameterType<typeof original>,\n      ...args: Parameters<typeof original>\n    ) {\n      if (Array.isArray(args[0])) {\n        const eventsList:\n          | Hapi.ServerExtEventsObject[]\n          | Hapi.ServerExtEventsRequestObject[] = args[0];\n        for (let i = 0; i < eventsList.length; i++) {\n          const eventObj = eventsList[i];\n          if (isLifecycleExtType(eventObj.type)) {\n            const lifecycleEventObj =\n              eventObj as Hapi.ServerExtEventsRequestObject;\n            const handler = instrumentation._wrapExtMethods(\n              lifecycleEventObj.method,\n              eventObj.type,\n              pluginName\n            );\n            lifecycleEventObj.method = handler;\n            eventsList[i] = lifecycleEventObj;\n          }\n        }\n        return original.apply(this, args);\n      } else if (isDirectExtInput(args)) {\n        const extInput: ServerExtDirectInput = args;\n        const method: PatchableExtMethod = extInput[1];\n        const handler = instrumentation._wrapExtMethods(\n          method,\n          extInput[0],\n          pluginName\n        );\n        return original.apply(this, [extInput[0], handler, extInput[2]]);\n      } else if (isLifecycleExtEventObj(args[0])) {\n        const lifecycleEventObj = args[0];\n        const handler = instrumentation._wrapExtMethods(\n          lifecycleEventObj.method,\n          lifecycleEventObj.type,\n          pluginName\n        );\n        lifecycleEventObj.method = handler;\n        return original.call(this, lifecycleEventObj);\n      }\n      return original.apply(this, args);\n    };\n  }\n\n  /**\n   * Patches the Server.route function. This function accepts either one or an array\n   * of Hapi.ServerRoute objects and adds instrumentation on each route via a call to\n   * the @function _wrapRouteHandler function.\n   * @param {HapiServerRouteInputMethod} original - the original route function which adds\n   * the route to the server\n   * @param {string} [pluginName] - if present, represents the name of the plugin responsible\n   * for adding this server route. Else, signifies that the route was added directly\n   */\n  private _getServerRoutePatch(\n    original: HapiServerRouteInputMethod,\n    pluginName?: string\n  ) {\n    const instrumentation: HapiInstrumentation = this;\n    return function route(\n      this: Hapi.Server,\n      route: HapiServerRouteInput\n    ): void {\n      if (Array.isArray(route)) {\n        for (let i = 0; i < route.length; i++) {\n          const newRoute = instrumentation._wrapRouteHandler.call(\n            instrumentation,\n            route[i],\n            pluginName\n          );\n          route[i] = newRoute;\n        }\n      } else {\n        route = instrumentation._wrapRouteHandler.call(\n          instrumentation,\n          route,\n          pluginName\n        );\n      }\n      return original.apply(this, [route]);\n    };\n  }\n\n  /**\n   * Wraps newly registered plugins to add instrumentation to the plugin's clone of\n   * the original server. Specifically, wraps the server.route and server.ext functions\n   * via calls to @function _getServerRoutePatch and @function _getServerExtPatch\n   * @param {Hapi.Plugin<T>} plugin - the new plugin which is being instrumented\n   */\n  private _wrapRegisterHandler<T>(plugin: Hapi.Plugin<T>): void {\n    const instrumentation: HapiInstrumentation = this;\n    const pluginName = getPluginName(plugin);\n    const oldRegister = plugin.register;\n    const self = this;\n    const newRegisterHandler = function (\n      this: typeof plugin,\n      server: Hapi.Server,\n      options: T\n    ) {\n      self._wrap(server, 'route', original => {\n        return instrumentation._getServerRoutePatch.bind(instrumentation)(\n          original,\n          pluginName\n        );\n      });\n\n      // Casting as any is necessary here due to multiple overloads on the Hapi.ext\n      // function, which requires supporting a variety of different parameters\n      // as extension inputs\n      self._wrap(server, 'ext', originalExtHandler => {\n        return instrumentation._getServerExtPatch.bind(instrumentation)(\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          originalExtHandler as any,\n          pluginName\n        );\n      });\n      return oldRegister.call(this, server, options);\n    };\n    plugin.register = newRegisterHandler;\n  }\n\n  /**\n   * Wraps request extension methods to add instrumentation to each new extension handler.\n   * Patches each individual extension in order to create the\n   * span and propagate context. It does not create spans when there is no parent span.\n   * @param {PatchableExtMethod | PatchableExtMethod[]} method - the request extension\n   * handler which is being instrumented\n   * @param {Hapi.ServerRequestExtType} extPoint - the point in the Hapi request lifecycle\n   * which this extension targets\n   * @param {string} [pluginName] - if present, represents the name of the plugin responsible\n   * for adding this server route. Else, signifies that the route was added directly\n   */\n  private _wrapExtMethods<T extends PatchableExtMethod | PatchableExtMethod[]>(\n    method: T,\n    extPoint: Hapi.ServerRequestExtType,\n    pluginName?: string\n  ): T {\n    const instrumentation: HapiInstrumentation = this;\n    if (method instanceof Array) {\n      for (let i = 0; i < method.length; i++) {\n        method[i] = instrumentation._wrapExtMethods(\n          method[i],\n          extPoint\n        ) as PatchableExtMethod;\n      }\n      return method;\n    } else if (isPatchableExtMethod(method)) {\n      if (method[handlerPatched] === true) return method;\n      method[handlerPatched] = true;\n\n      const newHandler: PatchableExtMethod = async function (\n        ...params: Parameters<Hapi.Lifecycle.Method>\n      ) {\n        if (api.trace.getSpan(api.context.active()) === undefined) {\n          return await method.apply(this, params);\n        }\n        const metadata = getExtMetadata(extPoint, pluginName);\n        const span = instrumentation.tracer.startSpan(metadata.name, {\n          attributes: metadata.attributes,\n        });\n        try {\n          return await api.context.with<\n            Parameters<Hapi.Lifecycle.Method>,\n            Hapi.Lifecycle.Method\n          >(\n            api.trace.setSpan(api.context.active(), span),\n            method,\n            undefined,\n            ...params\n          );\n        } catch (err: any) {\n          span.recordException(err);\n          span.setStatus({\n            code: api.SpanStatusCode.ERROR,\n            message: err.message,\n          });\n          throw err;\n        } finally {\n          span.end();\n        }\n      };\n      return newHandler as T;\n    }\n    return method;\n  }\n\n  /**\n   * Patches each individual route handler method in order to create the\n   * span and propagate context. It does not create spans when there is no parent span.\n   * @param {PatchableServerRoute} route - the route handler which is being instrumented\n   * @param {string} [pluginName] - if present, represents the name of the plugin responsible\n   * for adding this server route. Else, signifies that the route was added directly\n   */\n  private _wrapRouteHandler(\n    route: PatchableServerRoute,\n    pluginName?: string\n  ): PatchableServerRoute {\n    const instrumentation: HapiInstrumentation = this;\n    if (route[handlerPatched] === true) return route;\n    route[handlerPatched] = true;\n\n    const wrapHandler: (\n      oldHandler: Hapi.Lifecycle.Method\n    ) => Hapi.Lifecycle.Method = oldHandler => {\n      return async function (...params: Parameters<Hapi.Lifecycle.Method>) {\n        if (api.trace.getSpan(api.context.active()) === undefined) {\n          return await oldHandler.call(this, ...params);\n        }\n        const rpcMetadata = getRPCMetadata(api.context.active());\n        if (rpcMetadata?.type === RPCType.HTTP) {\n          rpcMetadata.route = route.path;\n        }\n        const metadata = getRouteMetadata(route, pluginName);\n        const span = instrumentation.tracer.startSpan(metadata.name, {\n          attributes: metadata.attributes,\n        });\n        try {\n          return await api.context.with(\n            api.trace.setSpan(api.context.active(), span),\n            () => oldHandler.call(this, ...params)\n          );\n        } catch (err: any) {\n          span.recordException(err);\n          span.setStatus({\n            code: api.SpanStatusCode.ERROR,\n            message: err.message,\n          });\n          throw err;\n        } finally {\n          span.end();\n        }\n      };\n    };\n\n    if (typeof route.handler === 'function') {\n      route.handler = wrapHandler(route.handler as Hapi.Lifecycle.Method);\n    } else if (typeof route.options === 'function') {\n      const oldOptions = route.options;\n      route.options = function (server) {\n        const options = oldOptions(server);\n        if (typeof options.handler === 'function') {\n          options.handler = wrapHandler(\n            options.handler as Hapi.Lifecycle.Method\n          );\n        }\n        return options;\n      };\n    } else if (typeof route.options?.handler === 'function') {\n      route.options.handler = wrapHandler(\n        route.options.handler as Hapi.Lifecycle.Method\n      );\n    }\n    return route;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 20379, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20383, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_64d16bbf56914044918fe2c8b0015b90/node_modules/@opentelemetry/instrumentation-hapi/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './enums/AttributeNames';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,sOAAA;AACA,2OAAA"}},
    {"offset": {"line": 20418, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20422, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_25f73dcaa8a98f879dfddf9cc857b5c5/node_modules/@opentelemetry/instrumentation-koa/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Span } from '@opentelemetry/api';\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport enum KoaLayerType {\n  ROUTER = 'router',\n  MIDDLEWARE = 'middleware',\n}\n\n/**\n * Information about the current Koa middleware layer\n * The middleware layer type is any by default.\n * One can install koa types packages `@types/koa` and `@types/koa__router`\n * with compatible versions to the koa version used in the project\n * to get more specific types for the middleware layer property.\n *\n * Example use in a custom attribute function:\n * ```ts\n * import type { Middleware, ParameterizedContext, DefaultState } from 'koa';\n * import type { RouterParamContext } from '@koa/router';\n *\n * type KoaContext = ParameterizedContext<DefaultState, RouterParamContext>;\n * type KoaMiddleware = Middleware<DefaultState, KoaContext>;\n *\n * const koaConfig: KoaInstrumentationConfig<KoaContext, KoaMiddleware> = {\n *  requestHook: (span: Span, info: KoaRequestInfo<KoaContext, KoaMiddleware>) => {\n *   // custom typescript code that can access the typed into.middlewareLayer and info.context\n * }\n *\n */\nexport type KoaRequestInfo<KoaContextType = any, KoaMiddlewareType = any> = {\n  context: KoaContextType;\n  middlewareLayer: KoaMiddlewareType;\n  layerType: KoaLayerType;\n};\n\n/**\n * Function that can be used to add custom attributes to the current span\n * @param span - The Express middleware layer span.\n * @param context - The current KoaContext.\n */\nexport interface KoaRequestCustomAttributeFunction<\n  KoaContextType = any,\n  KoaMiddlewareType = any\n> {\n  (span: Span, info: KoaRequestInfo<KoaContextType, KoaMiddlewareType>): void;\n}\n\n/**\n * Options available for the Koa Instrumentation (see [documentation](https://github.com/open-telemetry/opentelemetry-js/tree/main/packages/opentelemetry-Instrumentation-koa#koa-Instrumentation-options))\n */\nexport interface KoaInstrumentationConfig<\n  KoaContextType = any,\n  KoaMiddlewareType = any\n> extends InstrumentationConfig {\n  /** Ignore specific layers based on their type */\n  ignoreLayersType?: KoaLayerType[];\n  /** Function for adding custom attributes to each middleware layer span */\n  requestHook?: KoaRequestCustomAttributeFunction<\n    KoaContextType,\n    KoaMiddlewareType\n  >;\n}\n"],"names":[],"mappings":";;;;;AAkBA,IAAY;AAAZ,CAAA,SAAY,YAAY;IACtB,YAAA,CAAA,SAAA,GAAA;IACA,YAAA,CAAA,aAAA,GAAA;AACF,CAAC,EAHW,eAAA,QAAA,YAAY,IAAA,CAAZ,QAAA,YAAY,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 20432, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20436, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_25f73dcaa8a98f879dfddf9cc857b5c5/node_modules/@opentelemetry/instrumentation-koa/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.47.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-koa';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 20458, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20462, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_25f73dcaa8a98f879dfddf9cc857b5c5/node_modules/@opentelemetry/instrumentation-koa/src/enums/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum AttributeNames {\n  KOA_TYPE = 'koa.type',\n  KOA_NAME = 'koa.name',\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,WAAA,GAAA;IACA,cAAA,CAAA,WAAA,GAAA;AACF,CAAC,EAHW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 20486, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20490, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_25f73dcaa8a98f879dfddf9cc857b5c5/node_modules/@opentelemetry/instrumentation-koa/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { KoaLayerType, KoaInstrumentationConfig } from './types';\nimport { KoaContext, KoaMiddleware } from './internal-types';\nimport { AttributeNames } from './enums/AttributeNames';\nimport { Attributes } from '@opentelemetry/api';\nimport { SEMATTRS_HTTP_ROUTE } from '@opentelemetry/semantic-conventions';\n\nexport const getMiddlewareMetadata = (\n  context: KoaContext,\n  layer: KoaMiddleware,\n  isRouter: boolean,\n  layerPath?: string | RegExp\n): {\n  attributes: Attributes;\n  name: string;\n} => {\n  if (isRouter) {\n    return {\n      attributes: {\n        [AttributeNames.KOA_NAME]: layerPath?.toString(),\n        [AttributeNames.KOA_TYPE]: KoaLayerType.ROUTER,\n        [SEMATTRS_HTTP_ROUTE]: layerPath?.toString(),\n      },\n      name: context._matchedRouteName || `router - ${layerPath}`,\n    };\n  } else {\n    return {\n      attributes: {\n        [AttributeNames.KOA_NAME]: layer.name ?? 'middleware',\n        [AttributeNames.KOA_TYPE]: KoaLayerType.MIDDLEWARE,\n      },\n      name: `middleware - ${layer.name}`,\n    };\n  }\n};\n\n/**\n * Check whether the given request is ignored by configuration\n * @param [list] List of ignore patterns\n * @param [onException] callback for doing something when an exception has\n *     occurred\n */\nexport const isLayerIgnored = (\n  type: KoaLayerType,\n  config?: KoaInstrumentationConfig\n): boolean => {\n  return !!(\n    Array.isArray(config?.ignoreLayersType) &&\n    config?.ignoreLayersType?.includes(type)\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,MAAA;AAEA,MAAA;AAEA,MAAA;AAEO,MAAM,wBAAwB,CACnC,SACA,OACA,UACA;;IAKA,IAAI,UAAU;QACZ,OAAO;YACL,YAAY;gBACV,CAAC,iBAAA,cAAc,CAAC,QAAQ,CAAC,EAAE,cAAS,QAAT,cAAS,KAAA,IAAA,KAAA,IAAT,UAAW,QAAQ;gBAC9C,CAAC,iBAAA,cAAc,CAAC,QAAQ,CAAC,EAAE,QAAA,YAAY,CAAC,MAAM;gBAC9C,CAAC,uBAAA,mBAAmB,CAAC,EAAE,cAAS,QAAT,cAAS,KAAA,IAAA,KAAA,IAAT,UAAW,QAAQ;;YAE5C,MAAM,QAAQ,iBAAiB,IAAI,CAAA,SAAA,EAAY,UAAS,CAAE;;WAEvD;QACL,OAAO;YACL,YAAY;gBACV,CAAC,iBAAA,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAA,KAAA,MAAM,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI;gBACzC,CAAC,iBAAA,cAAc,CAAC,QAAQ,CAAC,EAAE,QAAA,YAAY,CAAC,UAAU;;YAEpD,MAAM,CAAA,aAAA,EAAgB,MAAM,IAAI,CAAA,CAAE;;;AAGxC;AA3Ba,QAAA,qBAAqB,GAAA;AA6BlC;;;;;IAMO,MAAM,iBAAiB,CAC5B,MACA;;IAEA,OAAO,CAAC,CAAC,CACP,MAAM,OAAO,CAAC,WAAM,QAAN,WAAM,KAAA,IAAA,KAAA,IAAN,OAAQ,gBAAgB,MACtC,CAAA,KAAA,WAAM,QAAN,WAAM,KAAA,IAAA,KAAA,IAAN,OAAQ,gBAAgB,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,QAAQ,CAAC,KAAK,CAAA;AAE5C;AARa,QAAA,cAAc,GAAA"}},
    {"offset": {"line": 20544, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20548, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_25f73dcaa8a98f879dfddf9cc857b5c5/node_modules/@opentelemetry/instrumentation-koa/src/internal-types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport type { Middleware, ParameterizedContext, DefaultState } from 'koa';\nimport type * as Router from '@koa/router';\n\nexport type KoaContext = ParameterizedContext<\n  DefaultState,\n  Router.RouterParamContext\n>;\nexport type KoaMiddleware = Middleware<DefaultState, KoaContext> & {\n  router?: Router;\n};\n\n/**\n * This symbol is used to mark a Koa layer as being already instrumented\n * since its possible to use a given layer multiple times (ex: middlewares)\n */\nexport const kLayerPatched: unique symbol = Symbol('koa-layer-patched');\n\nexport type KoaPatchedMiddleware = KoaMiddleware & {\n  [kLayerPatched]?: boolean;\n};\n"],"names":[],"mappings":";;;;;AA0BA;;;IAIa,QAAA,aAAa,GAAkB,OAAO"}},
    {"offset": {"line": 20557, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20561, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_25f73dcaa8a98f879dfddf9cc857b5c5/node_modules/@opentelemetry/instrumentation-koa/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport {\n  isWrapped,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\n\nimport type * as koa from 'koa';\nimport { KoaLayerType, KoaInstrumentationConfig } from './types';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport { getMiddlewareMetadata, isLayerIgnored } from './utils';\nimport { getRPCMetadata, RPCType } from '@opentelemetry/core';\nimport {\n  kLayerPatched,\n  KoaContext,\n  KoaMiddleware,\n  KoaPatchedMiddleware,\n} from './internal-types';\n\n/** Koa instrumentation for OpenTelemetry */\nexport class KoaInstrumentation extends InstrumentationBase<KoaInstrumentationConfig> {\n  constructor(config: KoaInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  protected init() {\n    return new InstrumentationNodeModuleDefinition(\n      'koa',\n      ['>=2.0.0 <3'],\n      (module: any) => {\n        const moduleExports: typeof koa =\n          module[Symbol.toStringTag] === 'Module'\n            ? module.default // ESM\n            : module; // CommonJS\n        if (moduleExports == null) {\n          return moduleExports;\n        }\n        if (isWrapped(moduleExports.prototype.use)) {\n          this._unwrap(moduleExports.prototype, 'use');\n        }\n        this._wrap(\n          moduleExports.prototype,\n          'use',\n          this._getKoaUsePatch.bind(this)\n        );\n        return module;\n      },\n      (module: any) => {\n        const moduleExports: typeof koa =\n          module[Symbol.toStringTag] === 'Module'\n            ? module.default // ESM\n            : module; // CommonJS\n        if (isWrapped(moduleExports.prototype.use)) {\n          this._unwrap(moduleExports.prototype, 'use');\n        }\n      }\n    );\n  }\n\n  /**\n   * Patches the Koa.use function in order to instrument each original\n   * middleware layer which is introduced\n   * @param {KoaMiddleware} middleware - the original middleware function\n   */\n  private _getKoaUsePatch(original: (middleware: KoaMiddleware) => koa) {\n    const plugin = this;\n    return function use(this: koa, middlewareFunction: KoaMiddleware) {\n      let patchedFunction: KoaMiddleware;\n      if (middlewareFunction.router) {\n        patchedFunction = plugin._patchRouterDispatch(middlewareFunction);\n      } else {\n        patchedFunction = plugin._patchLayer(middlewareFunction, false);\n      }\n      return original.apply(this, [patchedFunction]);\n    };\n  }\n\n  /**\n   * Patches the dispatch function used by @koa/router. This function\n   * goes through each routed middleware and adds instrumentation via a call\n   * to the @function _patchLayer function.\n   * @param {KoaMiddleware} dispatchLayer - the original dispatch function which dispatches\n   * routed middleware\n   */\n  private _patchRouterDispatch(dispatchLayer: KoaMiddleware): KoaMiddleware {\n    api.diag.debug('Patching @koa/router dispatch');\n\n    const router = dispatchLayer.router;\n\n    const routesStack = router?.stack ?? [];\n    for (const pathLayer of routesStack) {\n      const path = pathLayer.path;\n      const pathStack = pathLayer.stack;\n      for (let j = 0; j < pathStack.length; j++) {\n        const routedMiddleware: KoaMiddleware = pathStack[j];\n        pathStack[j] = this._patchLayer(routedMiddleware, true, path);\n      }\n    }\n\n    return dispatchLayer;\n  }\n\n  /**\n   * Patches each individual @param middlewareLayer function in order to create the\n   * span and propagate context. It does not create spans when there is no parent span.\n   * @param {KoaMiddleware} middlewareLayer - the original middleware function.\n   * @param {boolean} isRouter - tracks whether the original middleware function\n   * was dispatched by the router originally\n   * @param {string?} layerPath - if present, provides additional data from the\n   * router about the routed path which the middleware is attached to\n   */\n  private _patchLayer(\n    middlewareLayer: KoaPatchedMiddleware,\n    isRouter: boolean,\n    layerPath?: string | RegExp\n  ): KoaMiddleware {\n    const layerType = isRouter ? KoaLayerType.ROUTER : KoaLayerType.MIDDLEWARE;\n    // Skip patching layer if its ignored in the config\n    if (\n      middlewareLayer[kLayerPatched] === true ||\n      isLayerIgnored(layerType, this.getConfig())\n    )\n      return middlewareLayer;\n\n    if (\n      middlewareLayer.constructor.name === 'GeneratorFunction' ||\n      middlewareLayer.constructor.name === 'AsyncGeneratorFunction'\n    ) {\n      api.diag.debug('ignoring generator-based Koa middleware layer');\n      return middlewareLayer;\n    }\n\n    middlewareLayer[kLayerPatched] = true;\n\n    api.diag.debug('patching Koa middleware layer');\n    return async (context: KoaContext, next: koa.Next) => {\n      const parent = api.trace.getSpan(api.context.active());\n      if (parent === undefined) {\n        return middlewareLayer(context, next);\n      }\n      const metadata = getMiddlewareMetadata(\n        context,\n        middlewareLayer,\n        isRouter,\n        layerPath\n      );\n      const span = this.tracer.startSpan(metadata.name, {\n        attributes: metadata.attributes,\n      });\n\n      const rpcMetadata = getRPCMetadata(api.context.active());\n\n      if (rpcMetadata?.type === RPCType.HTTP && context._matchedRoute) {\n        rpcMetadata.route = context._matchedRoute.toString();\n      }\n\n      const { requestHook } = this.getConfig();\n      if (requestHook) {\n        safeExecuteInTheMiddle(\n          () =>\n            requestHook(span, {\n              context,\n              middlewareLayer,\n              layerType,\n            }),\n          e => {\n            if (e) {\n              api.diag.error('koa instrumentation: request hook failed', e);\n            }\n          },\n          true\n        );\n      }\n\n      const newContext = api.trace.setSpan(api.context.active(), span);\n      return api.context.with(newContext, async () => {\n        try {\n          return await middlewareLayer(context, next);\n        } catch (err: any) {\n          span.recordException(err);\n          throw err;\n        } finally {\n          span.end();\n        }\n      });\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 20710, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20714, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_25f73dcaa8a98f879dfddf9cc857b5c5/node_modules/@opentelemetry/instrumentation-koa/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\nexport * from './enums/AttributeNames';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,qOAAA;AACA,2NAAA;AACA,0OAAA"}},
    {"offset": {"line": 20750, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20754, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b82e1fe39b57c2ce1bb9636312166e36/node_modules/@opentelemetry/instrumentation-connect/src/enums/AttributeNames.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum AttributeNames {\n  CONNECT_TYPE = 'connect.type',\n  CONNECT_NAME = 'connect.name',\n}\n\nexport enum ConnectTypes {\n  MIDDLEWARE = 'middleware',\n  REQUEST_HANDLER = 'request_handler',\n}\n\nexport enum ConnectNames {\n  MIDDLEWARE = 'middleware',\n  REQUEST_HANDLER = 'request handler',\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,IAAY;AAAZ,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,eAAA,GAAA;IACA,cAAA,CAAA,eAAA,GAAA;AACF,CAAC,EAHW,iBAAA,QAAA,cAAc,IAAA,CAAd,QAAA,cAAc,GAAA,CAAA,CAAA;AAK1B,IAAY;AAAZ,CAAA,SAAY,YAAY;IACtB,YAAA,CAAA,aAAA,GAAA;IACA,YAAA,CAAA,kBAAA,GAAA;AACF,CAAC,EAHW,eAAA,QAAA,YAAY,IAAA,CAAZ,QAAA,YAAY,GAAA,CAAA,CAAA;AAKxB,IAAY;AAAZ,CAAA,SAAY,YAAY;IACtB,YAAA,CAAA,aAAA,GAAA;IACA,YAAA,CAAA,kBAAA,GAAA;AACF,CAAC,EAHW,eAAA,QAAA,YAAY,IAAA,CAAZ,QAAA,YAAY,GAAA,CAAA,CAAA"}},
    {"offset": {"line": 20788, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20792, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b82e1fe39b57c2ce1bb9636312166e36/node_modules/@opentelemetry/instrumentation-connect/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.43.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-connect';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 20814, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20818, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b82e1fe39b57c2ce1bb9636312166e36/node_modules/@opentelemetry/instrumentation-connect/src/internal-types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { HandleFunction, IncomingMessage, Server } from 'connect';\n\nexport const _LAYERS_STORE_PROPERTY: unique symbol = Symbol(\n  'opentelemetry.instrumentation-connect.request-route-stack'\n);\n\nexport type UseArgs1 = [HandleFunction];\nexport type UseArgs2 = [string, HandleFunction];\nexport type UseArgs = UseArgs1 | UseArgs2;\nexport type Use = (...args: UseArgs) => Server;\nexport type PatchedRequest = {\n  [_LAYERS_STORE_PROPERTY]: string[];\n} & IncomingMessage;\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAkBa,QAAA,sBAAsB,GAAkB,OACnD"}},
    {"offset": {"line": 20838, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20842, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b82e1fe39b57c2ce1bb9636312166e36/node_modules/@opentelemetry/instrumentation-connect/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { diag } from '@opentelemetry/api';\nimport { _LAYERS_STORE_PROPERTY, PatchedRequest } from './internal-types';\n\nexport const addNewStackLayer = (request: PatchedRequest) => {\n  if (Array.isArray(request[_LAYERS_STORE_PROPERTY]) === false) {\n    Object.defineProperty(request, _LAYERS_STORE_PROPERTY, {\n      enumerable: false,\n      value: [],\n    });\n  }\n  request[_LAYERS_STORE_PROPERTY].push('/');\n\n  const stackLength = request[_LAYERS_STORE_PROPERTY].length;\n\n  return () => {\n    if (stackLength === request[_LAYERS_STORE_PROPERTY].length) {\n      request[_LAYERS_STORE_PROPERTY].pop();\n    } else {\n      diag.warn('Connect: Trying to pop the stack multiple time');\n    }\n  };\n};\n\nexport const replaceCurrentStackRoute = (\n  request: PatchedRequest,\n  newRoute?: string\n) => {\n  if (newRoute) {\n    request[_LAYERS_STORE_PROPERTY].splice(-1, 1, newRoute);\n  }\n};\n\n// generate route from existing stack on request object.\n// splash between stack layer will be deduped\n// [\"/first/\", \"/second\", \"/third/\"] => /first/second/third/\nexport const generateRoute = (request: PatchedRequest) => {\n  return request[_LAYERS_STORE_PROPERTY].reduce(\n    (acc, sub) => acc.replace(/\\/+$/, '') + sub\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;IAeA,MAAA;AACA,MAAA;AAEO,MAAM,mBAAmB,CAAC;IAC/B,IAAI,MAAM,OAAO,CAAC,OAAO,CAAC,iBAAA,sBAAsB,CAAC,MAAM,OAAO;QAC5D,OAAO,cAAc,CAAC,SAAS,iBAAA,sBAAsB,EAAE;YACrD,YAAY;YACZ,OAAO,EAAE;;;IAGb,OAAO,CAAC,iBAAA,sBAAsB,CAAC,CAAC,IAAI,CAAC;IAErC,MAAM,cAAc,OAAO,CAAC,iBAAA,sBAAsB,CAAC,CAAC,MAAM;IAE1D,OAAO;QACL,IAAI,gBAAgB,OAAO,CAAC,iBAAA,sBAAsB,CAAC,CAAC,MAAM,EAAE;YAC1D,OAAO,CAAC,iBAAA,sBAAsB,CAAC,CAAC,GAAG;eAC9B;YACL,MAAA,IAAI,CAAC,IAAI,CAAC;;IAEd;AACF;AAlBa,QAAA,gBAAgB,GAAA;AAoBtB,MAAM,2BAA2B,CACtC,SACA;IAEA,IAAI,UAAU;QACZ,OAAO,CAAC,iBAAA,sBAAsB,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG;;AAElD;AAPa,QAAA,wBAAwB,GAAA;AASrC,wDAAwD;AACxD,6CAA6C;AAC7C,4DAA4D;AACrD,MAAM,gBAAgB,CAAC;IAC5B,OAAO,OAAO,CAAC,iBAAA,sBAAsB,CAAC,CAAC,MAAM,CAC3C,CAAC,KAAK,MAAQ,IAAI,OAAO,CAAC,QAAQ,MAAM;AAE5C;AAJa,QAAA,aAAa,GAAA"}},
    {"offset": {"line": 20894, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20898, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b82e1fe39b57c2ce1bb9636312166e36/node_modules/@opentelemetry/instrumentation-connect/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { context, Span, SpanOptions } from '@opentelemetry/api';\nimport { getRPCMetadata, RPCType } from '@opentelemetry/core';\nimport type { HandleFunction, NextFunction, Server } from 'connect';\nimport type { ServerResponse } from 'http';\nimport {\n  AttributeNames,\n  ConnectNames,\n  ConnectTypes,\n} from './enums/AttributeNames';\nimport { PatchedRequest, Use, UseArgs, UseArgs2 } from './internal-types';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport {\n  InstrumentationBase,\n  InstrumentationConfig,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\nimport { SEMATTRS_HTTP_ROUTE } from '@opentelemetry/semantic-conventions';\nimport {\n  replaceCurrentStackRoute,\n  addNewStackLayer,\n  generateRoute,\n} from './utils';\n\nexport const ANONYMOUS_NAME = 'anonymous';\n\n/** Connect instrumentation for OpenTelemetry */\nexport class ConnectInstrumentation extends InstrumentationBase {\n  constructor(config: InstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  init() {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        'connect',\n        ['>=3.0.0 <4'],\n        moduleExports => {\n          return this._patchConstructor(moduleExports);\n        }\n      ),\n    ];\n  }\n\n  private _patchApp(patchedApp: Server) {\n    if (!isWrapped(patchedApp.use)) {\n      this._wrap(patchedApp, 'use', this._patchUse.bind(this));\n    }\n    if (!isWrapped(patchedApp.handle)) {\n      this._wrap(patchedApp, 'handle', this._patchHandle.bind(this));\n    }\n  }\n\n  private _patchConstructor(original: () => Server): () => Server {\n    const instrumentation = this;\n    return function (this: Server, ...args) {\n      const app = original.apply(this, args) as Server;\n      instrumentation._patchApp(app);\n      return app;\n    };\n  }\n\n  public _patchNext(next: NextFunction, finishSpan: () => void): NextFunction {\n    return function nextFunction(this: NextFunction, err?: any): void {\n      const result = next.apply(this, [err]);\n      finishSpan();\n      return result;\n    };\n  }\n\n  public _startSpan(routeName: string, middleWare: HandleFunction): Span {\n    let connectType: ConnectTypes;\n    let connectName: string;\n    let connectTypeName: string;\n    if (routeName) {\n      connectType = ConnectTypes.REQUEST_HANDLER;\n      connectTypeName = ConnectNames.REQUEST_HANDLER;\n      connectName = routeName;\n    } else {\n      connectType = ConnectTypes.MIDDLEWARE;\n      connectTypeName = ConnectNames.MIDDLEWARE;\n      connectName = middleWare.name || ANONYMOUS_NAME;\n    }\n    const spanName = `${connectTypeName} - ${connectName}`;\n    const options: SpanOptions = {\n      attributes: {\n        [SEMATTRS_HTTP_ROUTE]: routeName.length > 0 ? routeName : '/',\n        [AttributeNames.CONNECT_TYPE]: connectType,\n        [AttributeNames.CONNECT_NAME]: connectName,\n      },\n    };\n\n    return this.tracer.startSpan(spanName, options);\n  }\n\n  public _patchMiddleware(\n    routeName: string,\n    middleWare: HandleFunction\n  ): HandleFunction {\n    const instrumentation = this;\n    const isErrorMiddleware = middleWare.length === 4;\n\n    function patchedMiddleware(this: Use): void {\n      if (!instrumentation.isEnabled()) {\n        return (middleWare as any).apply(this, arguments);\n      }\n      const [reqArgIdx, resArgIdx, nextArgIdx] = isErrorMiddleware\n        ? [1, 2, 3]\n        : [0, 1, 2];\n      const req = arguments[reqArgIdx] as PatchedRequest;\n      const res = arguments[resArgIdx] as ServerResponse;\n      const next = arguments[nextArgIdx] as NextFunction;\n\n      replaceCurrentStackRoute(req, routeName);\n\n      const rpcMetadata = getRPCMetadata(context.active());\n      if (routeName && rpcMetadata?.type === RPCType.HTTP) {\n        rpcMetadata.route = generateRoute(req);\n      }\n\n      let spanName = '';\n      if (routeName) {\n        spanName = `request handler - ${routeName}`;\n      } else {\n        spanName = `middleware - ${middleWare.name || ANONYMOUS_NAME}`;\n      }\n      const span = instrumentation._startSpan(routeName, middleWare);\n      instrumentation._diag.debug('start span', spanName);\n      let spanFinished = false;\n\n      function finishSpan() {\n        if (!spanFinished) {\n          spanFinished = true;\n          instrumentation._diag.debug(`finishing span ${(span as any).name}`);\n          span.end();\n        } else {\n          instrumentation._diag.debug(\n            `span ${(span as any).name} - already finished`\n          );\n        }\n        res.removeListener('close', finishSpan);\n      }\n\n      res.addListener('close', finishSpan);\n      arguments[nextArgIdx] = instrumentation._patchNext(next, finishSpan);\n\n      return (middleWare as any).apply(this, arguments);\n    }\n\n    Object.defineProperty(patchedMiddleware, 'length', {\n      value: middleWare.length,\n      writable: false,\n      configurable: true,\n    });\n\n    return patchedMiddleware;\n  }\n\n  public _patchUse(original: Server['use']): Use {\n    const instrumentation = this;\n    return function (this: Server, ...args: UseArgs): Server {\n      const middleWare = args[args.length - 1] as HandleFunction;\n      const routeName = (args[args.length - 2] || '') as string;\n\n      args[args.length - 1] = instrumentation._patchMiddleware(\n        routeName,\n        middleWare\n      );\n\n      return original.apply(this, args as UseArgs2);\n    };\n  }\n\n  public _patchHandle(original: Server['handle']): Server['handle'] {\n    const instrumentation = this;\n    return function (this: Server): ReturnType<Server['handle']> {\n      const [reqIdx, outIdx] = [0, 2];\n      const req = arguments[reqIdx] as PatchedRequest;\n      const out = arguments[outIdx];\n      const completeStack = addNewStackLayer(req);\n\n      if (typeof out === 'function') {\n        arguments[outIdx] = instrumentation._patchOut(\n          out as NextFunction,\n          completeStack\n        );\n      }\n\n      return (original as any).apply(this, arguments);\n    };\n  }\n\n  public _patchOut(out: NextFunction, completeStack: () => void): NextFunction {\n    return function nextFunction(this: NextFunction, ...args: any[]): void {\n      completeStack();\n      return Reflect.apply(out, this, args);\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 21073, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21077, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_b82e1fe39b57c2ce1bb9636312166e36/node_modules/@opentelemetry/instrumentation-connect/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './enums/AttributeNames';\nexport * from './instrumentation';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,8OAAA;AACA,yOAAA"}},
    {"offset": {"line": 21112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21116, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_00271bb37e70b156be2ed42f70d66080/node_modules/@opentelemetry/instrumentation-knex/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.44.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-knex';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 21138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21142, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_00271bb37e70b156be2ed42f70d66080/node_modules/@opentelemetry/instrumentation-knex/src/constants.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const MODULE_NAME = 'knex';\nexport const SUPPORTED_VERSIONS = [\n  // use \"lib/execution\" for runner.js, \"lib\" for client.js as basepath, latest tested 0.95.6\n  '>=0.22.0 <4',\n  // use \"lib\" as basepath\n  '>=0.10.0 <0.18.0',\n  '>=0.19.0 <0.22.0',\n  // use \"src\" as basepath\n  '>=0.18.0 <0.19.0',\n];\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBa,QAAA,WAAW,GAAG;AACd,QAAA,kBAAkB,GAAG;IAChC,2FAA2F;IAC3F;IACA,wBAAwB;IACxB;IACA;IACA,wBAAwB;IACxB;CACD"}},
    {"offset": {"line": 21171, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21175, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_00271bb37e70b156be2ed42f70d66080/node_modules/@opentelemetry/instrumentation-knex/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Exception } from '@opentelemetry/api';\nimport {\n  DBSYSTEMVALUES_SQLITE,\n  DBSYSTEMVALUES_POSTGRESQL,\n} from '@opentelemetry/semantic-conventions';\n\ntype KnexError = Error & {\n  code?: string;\n};\n\nexport const getFormatter = (runner: any) => {\n  if (runner) {\n    if (runner.client) {\n      if (runner.client._formatQuery) {\n        return runner.client._formatQuery.bind(runner.client);\n      } else if (runner.client.SqlString) {\n        return runner.client.SqlString.format.bind(runner.client.SqlString);\n      }\n    }\n    if (runner.builder) {\n      return runner.builder.toString.bind(runner.builder);\n    }\n  }\n  return () => '<noop formatter>';\n};\n\nexport function otelExceptionFromKnexError(\n  err: KnexError,\n  message: string\n): Exception {\n  if (!(err && err instanceof Error)) {\n    return err;\n  }\n\n  return {\n    message,\n    code: err.code,\n    stack: err.stack,\n    name: err.name,\n  };\n}\n\nconst systemMap = new Map([\n  ['sqlite3', DBSYSTEMVALUES_SQLITE],\n  ['pg', DBSYSTEMVALUES_POSTGRESQL],\n]);\n\nexport const mapSystem = (knexSystem: string) => {\n  return systemMap.get(knexSystem) || knexSystem;\n};\n\nexport const getName = (db: string, operation?: string, table?: string) => {\n  if (operation) {\n    if (table) {\n      return `${operation} ${db}.${table}`;\n    }\n    return `${operation} ${db}`;\n  }\n  return db;\n};\n\nexport const limitLength = (str: string, maxLength: number) => {\n  if (\n    typeof str === 'string' &&\n    typeof maxLength === 'number' &&\n    0 < maxLength &&\n    maxLength < str.length\n  ) {\n    return str.substring(0, maxLength) + '..';\n  }\n  return str;\n};\n\nexport const extractTableName = (builder: any): string => {\n  const table = builder?._single?.table;\n  if (typeof table === 'object') {\n    return extractTableName(table);\n  }\n  return table;\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAiBA,MAAA;AASO,MAAM,eAAe,CAAC;IAC3B,IAAI,QAAQ;QACV,IAAI,OAAO,MAAM,EAAE;YACjB,IAAI,OAAO,MAAM,CAAC,YAAY,EAAE;gBAC9B,OAAO,OAAO,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,MAAM;mBAC/C,IAAI,OAAO,MAAM,CAAC,SAAS,EAAE;gBAClC,OAAO,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,MAAM,CAAC,SAAS;;;QAGtE,IAAI,OAAO,OAAO,EAAE;YAClB,OAAO,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,OAAO;;;IAGtD,OAAO,IAAM;AACf;AAda,QAAA,YAAY,GAAA;AAgBzB,SAAgB,2BACd,GAAc,EACd,OAAe;IAEf,IAAI,CAAC,CAAC,OAAO,eAAe,KAAK,GAAG;QAClC,OAAO;;IAGT,OAAO;QACL;QACA,MAAM,IAAI,IAAI;QACd,OAAO,IAAI,KAAK;QAChB,MAAM,IAAI,IAAI;;AAElB;AAdA,QAAA,0BAAA,GAAA;AAgBA,MAAM,YAAY,IAAI,IAAI;IACxB;QAAC;QAAW,uBAAA,qBAAqB;KAAC;IAClC;QAAC;QAAM,uBAAA,yBAAyB;KAAC;CAClC;AAEM,MAAM,YAAY,CAAC;IACxB,OAAO,UAAU,GAAG,CAAC,eAAe;AACtC;AAFa,QAAA,SAAS,GAAA;AAIf,MAAM,UAAU,CAAC,IAAY,WAAoB;IACtD,IAAI,WAAW;QACb,IAAI,OAAO;YACT,OAAO,CAAA,EAAG,UAAS,CAAA,EAAI,GAAE,CAAA,EAAI,MAAK,CAAE;;QAEtC,OAAO,CAAA,EAAG,UAAS,CAAA,EAAI,GAAE,CAAE;;IAE7B,OAAO;AACT;AARa,QAAA,OAAO,GAAA;AAUb,MAAM,cAAc,CAAC,KAAa;IACvC,IACE,OAAO,QAAQ,YACf,OAAO,cAAc,YACrB,IAAI,aACJ,YAAY,IAAI,MAAM,EACtB;QACA,OAAO,IAAI,SAAS,CAAC,GAAG,aAAa;;IAEvC,OAAO;AACT;AAVa,QAAA,WAAW,GAAA;AAYjB,MAAM,mBAAmB,CAAC;;IAC/B,MAAM,QAAQ,CAAA,KAAA,YAAO,QAAP,YAAO,KAAA,IAAA,KAAA,IAAP,QAAS,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,KAAK;IACrC,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,CAAA,GAAA,QAAA,gBAAgB,EAAC;;IAE1B,OAAO;AACT;AANa,QAAA,gBAAgB,GAAA"}},
    {"offset": {"line": 21263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21267, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_00271bb37e70b156be2ed42f70d66080/node_modules/@opentelemetry/instrumentation-knex/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport * as constants from './constants';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\nimport {\n  SEMATTRS_DB_NAME,\n  SEMATTRS_DB_OPERATION,\n  SEMATTRS_DB_SQL_TABLE,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n  SEMATTRS_DB_USER,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n  SEMATTRS_NET_TRANSPORT,\n} from '@opentelemetry/semantic-conventions';\nimport * as utils from './utils';\nimport { KnexInstrumentationConfig } from './types';\n\nconst contextSymbol = Symbol('opentelemetry.instrumentation-knex.context');\nconst DEFAULT_CONFIG: KnexInstrumentationConfig = {\n  maxQueryLength: 1022,\n  requireParentSpan: false,\n};\n\nexport class KnexInstrumentation extends InstrumentationBase<KnexInstrumentationConfig> {\n  constructor(config: KnexInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, { ...DEFAULT_CONFIG, ...config });\n  }\n\n  override setConfig(config: KnexInstrumentationConfig = {}) {\n    super.setConfig({ ...DEFAULT_CONFIG, ...config });\n  }\n\n  init() {\n    const module = new InstrumentationNodeModuleDefinition(\n      constants.MODULE_NAME,\n      constants.SUPPORTED_VERSIONS\n    );\n\n    module.files.push(\n      this.getClientNodeModuleFileInstrumentation('src'),\n      this.getClientNodeModuleFileInstrumentation('lib'),\n      this.getRunnerNodeModuleFileInstrumentation('src'),\n      this.getRunnerNodeModuleFileInstrumentation('lib'),\n      this.getRunnerNodeModuleFileInstrumentation('lib/execution')\n    );\n\n    return module;\n  }\n\n  private getRunnerNodeModuleFileInstrumentation(basePath: string) {\n    return new InstrumentationNodeModuleFile(\n      `knex/${basePath}/runner.js`,\n      constants.SUPPORTED_VERSIONS,\n      (Runner: any, moduleVersion) => {\n        this.ensureWrapped(\n          Runner.prototype,\n          'query',\n          this.createQueryWrapper(moduleVersion)\n        );\n        return Runner;\n      },\n      (Runner: any, moduleVersion) => {\n        this._unwrap(Runner.prototype, 'query');\n        return Runner;\n      }\n    );\n  }\n\n  private getClientNodeModuleFileInstrumentation(basePath: string) {\n    return new InstrumentationNodeModuleFile(\n      `knex/${basePath}/client.js`,\n      constants.SUPPORTED_VERSIONS,\n      (Client: any) => {\n        this.ensureWrapped(\n          Client.prototype,\n          'queryBuilder',\n          this.storeContext.bind(this)\n        );\n        this.ensureWrapped(\n          Client.prototype,\n          'schemaBuilder',\n          this.storeContext.bind(this)\n        );\n        this.ensureWrapped(\n          Client.prototype,\n          'raw',\n          this.storeContext.bind(this)\n        );\n        return Client;\n      },\n      (Client: any) => {\n        this._unwrap(Client.prototype, 'queryBuilder');\n        this._unwrap(Client.prototype, 'schemaBuilder');\n        this._unwrap(Client.prototype, 'raw');\n        return Client;\n      }\n    );\n  }\n\n  private createQueryWrapper(moduleVersion?: string) {\n    const instrumentation = this;\n    return function wrapQuery(original: (...args: any[]) => any) {\n      return function wrapped_logging_method(this: any, query: any) {\n        const config = this.client.config;\n\n        const table = utils.extractTableName(this.builder);\n        // `method` actually refers to the knex API method - Not exactly \"operation\"\n        // in the spec sense, but matches most of the time.\n        const operation = query?.method;\n        const name =\n          config?.connection?.filename || config?.connection?.database;\n        const { maxQueryLength } = instrumentation.getConfig();\n\n        const attributes: api.SpanAttributes = {\n          'knex.version': moduleVersion,\n          [SEMATTRS_DB_SYSTEM]: utils.mapSystem(config.client),\n          [SEMATTRS_DB_SQL_TABLE]: table,\n          [SEMATTRS_DB_OPERATION]: operation,\n          [SEMATTRS_DB_USER]: config?.connection?.user,\n          [SEMATTRS_DB_NAME]: name,\n          [SEMATTRS_NET_PEER_NAME]: config?.connection?.host,\n          [SEMATTRS_NET_PEER_PORT]: config?.connection?.port,\n          [SEMATTRS_NET_TRANSPORT]:\n            config?.connection?.filename === ':memory:' ? 'inproc' : undefined,\n        };\n        if (maxQueryLength) {\n          // filters both undefined and 0\n          attributes[SEMATTRS_DB_STATEMENT] = utils.limitLength(\n            query?.sql,\n            maxQueryLength\n          );\n        }\n\n        const parentContext =\n          this.builder[contextSymbol] || api.context.active();\n        const parentSpan = api.trace.getSpan(parentContext);\n        const hasActiveParent =\n          parentSpan && api.trace.isSpanContextValid(parentSpan.spanContext());\n        if (instrumentation._config.requireParentSpan && !hasActiveParent) {\n          return original.bind(this)(...arguments);\n        }\n\n        const span = instrumentation.tracer.startSpan(\n          utils.getName(name, operation, table),\n          {\n            kind: api.SpanKind.CLIENT,\n            attributes,\n          },\n          parentContext\n        );\n        const spanContext = api.trace.setSpan(api.context.active(), span);\n\n        return api.context\n          .with(spanContext, original, this, ...arguments)\n          .then((result: unknown) => {\n            span.end();\n            return result;\n          })\n          .catch((err: any) => {\n            // knex adds full query with all the binding values to the message,\n            // we want to undo that without changing the original error\n            const formatter = utils.getFormatter(this);\n            const fullQuery = formatter(query.sql, query.bindings || []);\n            const message = err.message.replace(fullQuery + ' - ', '');\n            const exc = utils.otelExceptionFromKnexError(err, message);\n            span.recordException(exc);\n            span.setStatus({ code: api.SpanStatusCode.ERROR, message });\n            span.end();\n            throw err;\n          });\n      };\n    };\n  }\n\n  private storeContext(original: Function) {\n    return function wrapped_logging_method(this: any) {\n      const builder = original.apply(this, arguments);\n      // Builder is a custom promise type and when awaited it fails to propagate context.\n      // We store the parent context at the moment of initiating the builder\n      // otherwise we'd have nothing to attach the span as a child for in `query`.\n      Object.defineProperty(builder, contextSymbol, {\n        value: api.context.active(),\n      });\n      return builder;\n    };\n  }\n\n  ensureWrapped(obj: any, methodName: string, wrapper: (original: any) => any) {\n    if (isWrapped(obj[methodName])) {\n      this._unwrap(obj, methodName);\n    }\n    this._wrap(obj, methodName, wrapper);\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 21410, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21414, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_00271bb37e70b156be2ed42f70d66080/node_modules/@opentelemetry/instrumentation-knex/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport interface KnexInstrumentationConfig extends InstrumentationConfig {\n  /** max query length in db.statement attribute \"..\" is added to the end when query is truncated  */\n  maxQueryLength?: number;\n  /** only create spans if part of an existing trace */\n  requireParentSpan?: boolean;\n}\n"],"names":[],"mappings":""}},
    {"offset": {"line": 21418, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21422, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_00271bb37e70b156be2ed42f70d66080/node_modules/@opentelemetry/instrumentation-knex/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,sOAAA;AACA,4NAAA"}},
    {"offset": {"line": 21457, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21461, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c2855015312fc1744843c907afd3a70c/node_modules/@opentelemetry/instrumentation-tedious/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The span name SHOULD be set to a low cardinality value\n * representing the statement executed on the database.\n *\n * @returns Operation executed on Tedious Connection. Does not map to SQL statement in any way.\n */\nexport function getSpanName(\n  operation: string,\n  db: string | undefined,\n  sql: string | undefined,\n  bulkLoadTable: string | undefined\n): string {\n  if (operation === 'execBulkLoad' && bulkLoadTable && db) {\n    return `${operation} ${bulkLoadTable} ${db}`;\n  }\n  if (operation === 'callProcedure') {\n    // `sql` refers to procedure name with `callProcedure`\n    if (db) {\n      return `${operation} ${sql} ${db}`;\n    }\n    return `${operation} ${sql}`;\n  }\n  // do not use `sql` in general case because of high-cardinality\n  if (db) {\n    return `${operation} ${db}`;\n  }\n  return `${operation}`;\n}\n\nexport const once = (fn: Function) => {\n  let called = false;\n  return (...args: unknown[]) => {\n    if (called) return;\n    called = true;\n    return fn(...args);\n  };\n};\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA;;;;;IAMA,SAAgB,YACd,SAAiB,EACjB,EAAsB,EACtB,GAAuB,EACvB,aAAiC;IAEjC,IAAI,cAAc,kBAAkB,iBAAiB,IAAI;QACvD,OAAO,CAAA,EAAG,UAAS,CAAA,EAAI,cAAa,CAAA,EAAI,GAAE,CAAE;;IAE9C,IAAI,cAAc,iBAAiB;QACjC,sDAAsD;QACtD,IAAI,IAAI;YACN,OAAO,CAAA,EAAG,UAAS,CAAA,EAAI,IAAG,CAAA,EAAI,GAAE,CAAE;;QAEpC,OAAO,CAAA,EAAG,UAAS,CAAA,EAAI,IAAG,CAAE;;IAE9B,+DAA+D;IAC/D,IAAI,IAAI;QACN,OAAO,CAAA,EAAG,UAAS,CAAA,EAAI,GAAE,CAAE;;IAE7B,OAAO,CAAA,EAAG,UAAS,CAAE;AACvB;AArBA,QAAA,WAAA,GAAA;AAuBO,MAAM,OAAO,CAAC;IACnB,IAAI,SAAS;IACb,OAAO,CAAC,GAAG;QACT,IAAI,QAAQ;QACZ,SAAS;QACT,OAAO,MAAM;IACf;AACF;AAPa,QAAA,IAAI,GAAA"}},
    {"offset": {"line": 21512, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21516, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c2855015312fc1744843c907afd3a70c/node_modules/@opentelemetry/instrumentation-tedious/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.18.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-tedious';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 21538, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21542, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c2855015312fc1744843c907afd3a70c/node_modules/@opentelemetry/instrumentation-tedious/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport { EventEmitter } from 'events';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\nimport {\n  DBSYSTEMVALUES_MSSQL,\n  SEMATTRS_DB_NAME,\n  SEMATTRS_DB_SQL_TABLE,\n  SEMATTRS_DB_STATEMENT,\n  SEMATTRS_DB_SYSTEM,\n  SEMATTRS_DB_USER,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport type * as tedious from 'tedious';\nimport { TediousInstrumentationConfig } from './types';\nimport { getSpanName, once } from './utils';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\n\nconst CURRENT_DATABASE = Symbol(\n  'opentelemetry.instrumentation-tedious.current-database'\n);\nconst PATCHED_METHODS = [\n  'callProcedure',\n  'execSql',\n  'execSqlBatch',\n  'execBulkLoad',\n  'prepare',\n  'execute',\n];\n\ntype UnknownFunction = (...args: any[]) => any;\ntype ApproxConnection = EventEmitter & {\n  [CURRENT_DATABASE]: string;\n  config: any;\n};\ntype ApproxRequest = EventEmitter & {\n  sqlTextOrProcedure: string | undefined;\n  callback: any;\n  table: string | undefined;\n  parametersByName: any;\n};\n\nfunction setDatabase(this: ApproxConnection, databaseName: string) {\n  Object.defineProperty(this, CURRENT_DATABASE, {\n    value: databaseName,\n    writable: true,\n  });\n}\n\nexport class TediousInstrumentation extends InstrumentationBase<TediousInstrumentationConfig> {\n  static readonly COMPONENT = 'tedious';\n\n  constructor(config: TediousInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  protected init() {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        TediousInstrumentation.COMPONENT,\n        ['>=1.11.0 <20'],\n        (moduleExports: typeof tedious) => {\n          const ConnectionPrototype: any = moduleExports.Connection.prototype;\n          for (const method of PATCHED_METHODS) {\n            if (isWrapped(ConnectionPrototype[method])) {\n              this._unwrap(ConnectionPrototype, method);\n            }\n            this._wrap(\n              ConnectionPrototype,\n              method,\n              this._patchQuery(method) as any\n            );\n          }\n\n          if (isWrapped(ConnectionPrototype.connect)) {\n            this._unwrap(ConnectionPrototype, 'connect');\n          }\n          this._wrap(ConnectionPrototype, 'connect', this._patchConnect);\n\n          return moduleExports;\n        },\n        (moduleExports: typeof tedious) => {\n          if (moduleExports === undefined) return;\n          const ConnectionPrototype: any = moduleExports.Connection.prototype;\n          for (const method of PATCHED_METHODS) {\n            this._unwrap(ConnectionPrototype, method);\n          }\n          this._unwrap(ConnectionPrototype, 'connect');\n        }\n      ),\n    ];\n  }\n\n  private _patchConnect(original: UnknownFunction): UnknownFunction {\n    return function patchedConnect(this: ApproxConnection) {\n      setDatabase.call(this, this.config?.options?.database);\n\n      // remove the listener first in case it's already added\n      this.removeListener('databaseChange', setDatabase);\n      this.on('databaseChange', setDatabase);\n\n      this.once('end', () => {\n        this.removeListener('databaseChange', setDatabase);\n      });\n      return original.apply(this, arguments as unknown as any[]);\n    };\n  }\n\n  private _patchQuery(operation: string) {\n    return (originalMethod: UnknownFunction): UnknownFunction => {\n      const thisPlugin = this;\n\n      function patchedMethod(this: ApproxConnection, request: ApproxRequest) {\n        if (!(request instanceof EventEmitter)) {\n          thisPlugin._diag.warn(\n            `Unexpected invocation of patched ${operation} method. Span not recorded`\n          );\n          return originalMethod.apply(this, arguments as unknown as any[]);\n        }\n        let procCount = 0;\n        let statementCount = 0;\n        const incrementStatementCount = () => statementCount++;\n        const incrementProcCount = () => procCount++;\n        const databaseName = this[CURRENT_DATABASE];\n        const sql = (request => {\n          // Required for <11.0.9\n          if (\n            request.sqlTextOrProcedure === 'sp_prepare' &&\n            request.parametersByName?.stmt?.value\n          ) {\n            return request.parametersByName.stmt.value;\n          }\n          return request.sqlTextOrProcedure;\n        })(request);\n\n        const span = thisPlugin.tracer.startSpan(\n          getSpanName(operation, databaseName, sql, request.table),\n          {\n            kind: api.SpanKind.CLIENT,\n            attributes: {\n              [SEMATTRS_DB_SYSTEM]: DBSYSTEMVALUES_MSSQL,\n              [SEMATTRS_DB_NAME]: databaseName,\n              [SEMATTRS_NET_PEER_PORT]: this.config?.options?.port,\n              [SEMATTRS_NET_PEER_NAME]: this.config?.server,\n              // >=4 uses `authentication` object, older versions just userName and password pair\n              [SEMATTRS_DB_USER]:\n                this.config?.userName ??\n                this.config?.authentication?.options?.userName,\n              [SEMATTRS_DB_STATEMENT]: sql,\n              [SEMATTRS_DB_SQL_TABLE]: request.table,\n            },\n          }\n        );\n\n        const endSpan = once((err?: any) => {\n          request.removeListener('done', incrementStatementCount);\n          request.removeListener('doneInProc', incrementStatementCount);\n          request.removeListener('doneProc', incrementProcCount);\n          request.removeListener('error', endSpan);\n          this.removeListener('end', endSpan);\n\n          span.setAttribute('tedious.procedure_count', procCount);\n          span.setAttribute('tedious.statement_count', statementCount);\n          if (err) {\n            span.setStatus({\n              code: api.SpanStatusCode.ERROR,\n              message: err.message,\n            });\n          }\n          span.end();\n        });\n\n        request.on('done', incrementStatementCount);\n        request.on('doneInProc', incrementStatementCount);\n        request.on('doneProc', incrementProcCount);\n        request.once('error', endSpan);\n        this.on('end', endSpan);\n\n        if (typeof request.callback === 'function') {\n          thisPlugin._wrap(\n            request,\n            'callback',\n            thisPlugin._patchCallbackQuery(endSpan)\n          );\n        } else {\n          thisPlugin._diag.error('Expected request.callback to be a function');\n        }\n\n        return api.context.with(\n          api.trace.setSpan(api.context.active(), span),\n          originalMethod,\n          this,\n          ...arguments\n        );\n      }\n\n      Object.defineProperty(patchedMethod, 'length', {\n        value: originalMethod.length,\n        writable: false,\n      });\n\n      return patchedMethod;\n    };\n  }\n\n  private _patchCallbackQuery(endSpan: Function) {\n    return (originalCallback: Function) => {\n      return function (\n        this: any,\n        err: Error | undefined | null,\n        rowCount?: number,\n        rows?: any\n      ) {\n        endSpan(err);\n        return originalCallback.apply(this, arguments);\n      };\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 21707, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21711, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c2855015312fc1744843c907afd3a70c/node_modules/@opentelemetry/instrumentation-tedious/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport type TediousInstrumentationConfig = InstrumentationConfig;\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 21729, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21733, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_c2855015312fc1744843c907afd3a70c/node_modules/@opentelemetry/instrumentation-tedious/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\nexport * from './types';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,yOAAA;AACA,+NAAA"}},
    {"offset": {"line": 21768, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21772, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_68c582f77c9963bb5bd5dc657f4df07b/node_modules/@opentelemetry/instrumentation-generic-pool/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.43.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-generic-pool';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 21794, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21798, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_68c582f77c9963bb5bd5dc657f4df07b/node_modules/@opentelemetry/instrumentation-generic-pool/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport {\n  InstrumentationBase,\n  InstrumentationConfig,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\n\nimport type * as genericPool from 'generic-pool';\n\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\n\nconst MODULE_NAME = 'generic-pool';\n\nexport class GenericPoolInstrumentation extends InstrumentationBase {\n  // only used for v2 - v2.3)\n  private _isDisabled = false;\n\n  constructor(config: InstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  init() {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        MODULE_NAME,\n        ['>=3.0.0 <4'],\n        moduleExports => {\n          const Pool: any = moduleExports.Pool;\n          if (isWrapped(Pool.prototype.acquire)) {\n            this._unwrap(Pool.prototype, 'acquire');\n          }\n          this._wrap(\n            Pool.prototype,\n            'acquire',\n            this._acquirePatcher.bind(this)\n          );\n          return moduleExports;\n        },\n        moduleExports => {\n          const Pool: any = moduleExports.Pool;\n          this._unwrap(Pool.prototype, 'acquire');\n          return moduleExports;\n        }\n      ),\n      new InstrumentationNodeModuleDefinition(\n        MODULE_NAME,\n        ['>=2.4.0 <3'],\n        moduleExports => {\n          const Pool: any = moduleExports.Pool;\n          if (isWrapped(Pool.prototype.acquire)) {\n            this._unwrap(Pool.prototype, 'acquire');\n          }\n          this._wrap(\n            Pool.prototype,\n            'acquire',\n            this._acquireWithCallbacksPatcher.bind(this)\n          );\n          return moduleExports;\n        },\n        moduleExports => {\n          const Pool: any = moduleExports.Pool;\n          this._unwrap(Pool.prototype, 'acquire');\n          return moduleExports;\n        }\n      ),\n      new InstrumentationNodeModuleDefinition(\n        MODULE_NAME,\n        ['>=2.0.0 <2.4'],\n        moduleExports => {\n          this._isDisabled = false;\n          if (isWrapped(moduleExports.Pool)) {\n            this._unwrap(moduleExports, 'Pool');\n          }\n          this._wrap(moduleExports, 'Pool', this._poolWrapper.bind(this));\n          return moduleExports;\n        },\n        moduleExports => {\n          // since the object is created on the fly every time, we need to use\n          // a boolean switch here to disable the instrumentation\n          this._isDisabled = true;\n          return moduleExports;\n        }\n      ),\n    ];\n  }\n\n  private _acquirePatcher(original: genericPool.Pool<unknown>['acquire']) {\n    const instrumentation = this;\n    return function wrapped_acquire(\n      this: genericPool.Pool<unknown>,\n      ...args: any[]\n    ) {\n      const parent = api.context.active();\n      const span = instrumentation.tracer.startSpan(\n        'generic-pool.acquire',\n        {},\n        parent\n      );\n\n      return api.context.with(api.trace.setSpan(parent, span), () => {\n        return original.call(this, ...args).then(\n          value => {\n            span.end();\n            return value;\n          },\n          err => {\n            span.recordException(err);\n            span.end();\n            throw err;\n          }\n        );\n      });\n    };\n  }\n\n  private _poolWrapper(original: any) {\n    const instrumentation = this;\n    return function wrapped_pool(this: any) {\n      const pool = original.apply(this, arguments);\n      instrumentation._wrap(\n        pool,\n        'acquire',\n        instrumentation._acquireWithCallbacksPatcher.bind(instrumentation)\n      );\n      return pool;\n    };\n  }\n\n  private _acquireWithCallbacksPatcher(original: any) {\n    const instrumentation = this;\n    return function wrapped_acquire(\n      this: genericPool.Pool<unknown>,\n      cb: Function,\n      priority: number\n    ) {\n      // only used for v2 - v2.3\n      if (instrumentation._isDisabled) {\n        return original.call(this, cb, priority);\n      }\n      const parent = api.context.active();\n      const span = instrumentation.tracer.startSpan(\n        'generic-pool.acquire',\n        {},\n        parent\n      );\n\n      return api.context.with(api.trace.setSpan(parent, span), () => {\n        original.call(\n          this,\n          (err: unknown, client: unknown) => {\n            span.end();\n            // Not checking whether cb is a function because\n            // the original code doesn't do that either.\n            if (cb) {\n              return cb(err, client);\n            }\n          },\n          priority\n        );\n      });\n    };\n  }\n}\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,MAAA;AACA,MAAA;AASA,gBAAA,GACA,MAAA;AAEA,MAAM,cAAc;AAEpB,MAAa,mCAAmC,kBAAA,mBAAmB;IAIjE,YAAY,SAAgC,CAAA,CAAE,CAAA;QAC5C,KAAK,CAAC,UAAA,YAAY,EAAE,UAAA,eAAe,EAAE;QAJvC,2BAA2B;QACnB,IAAA,CAAA,WAAW,GAAG;IAItB;IAEA,OAAI;QACF,OAAO;YACL,IAAI,kBAAA,mCAAmC,CACrC,aACA;gBAAC;aAAa,EACd,CAAA;gBACE,MAAM,OAAY,cAAc,IAAI;gBACpC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,KAAK,SAAS,CAAC,OAAO,GAAG;oBACrC,IAAI,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE;;gBAE/B,IAAI,CAAC,KAAK,CACR,KAAK,SAAS,EACd,WACA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI;gBAEhC,OAAO;YACT,GACA,CAAA;gBACE,MAAM,OAAY,cAAc,IAAI;gBACpC,IAAI,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE;gBAC7B,OAAO;YACT;YAEF,IAAI,kBAAA,mCAAmC,CACrC,aACA;gBAAC;aAAa,EACd,CAAA;gBACE,MAAM,OAAY,cAAc,IAAI;gBACpC,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,KAAK,SAAS,CAAC,OAAO,GAAG;oBACrC,IAAI,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE;;gBAE/B,IAAI,CAAC,KAAK,CACR,KAAK,SAAS,EACd,WACA,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,IAAI;gBAE7C,OAAO;YACT,GACA,CAAA;gBACE,MAAM,OAAY,cAAc,IAAI;gBACpC,IAAI,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE;gBAC7B,OAAO;YACT;YAEF,IAAI,kBAAA,mCAAmC,CACrC,aACA;gBAAC;aAAe,EAChB,CAAA;gBACE,IAAI,CAAC,WAAW,GAAG;gBACnB,IAAI,CAAA,GAAA,kBAAA,SAAS,EAAC,cAAc,IAAI,GAAG;oBACjC,IAAI,CAAC,OAAO,CAAC,eAAe;;gBAE9B,IAAI,CAAC,KAAK,CAAC,eAAe,QAAQ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI;gBAC7D,OAAO;YACT,GACA,CAAA;gBACE,oEAAoE;gBACpE,uDAAuD;gBACvD,IAAI,CAAC,WAAW,GAAG;gBACnB,OAAO;YACT;SAEH;IACH;IAEQ,gBAAgB,QAA8C,EAAA;QACpE,MAAM,kBAAkB,IAAI;QAC5B,OAAO,SAAS,gBAEd,GAAG,IAAW;YAEd,MAAM,SAAS,IAAI,OAAO,CAAC,MAAM;YACjC,MAAM,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAC3C,wBACA,CAAA,GACA;YAGF,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,OAAO;gBACvD,OAAO,SAAS,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,CACtC,CAAA;oBACE,KAAK,GAAG;oBACR,OAAO;gBACT,GACA,CAAA;oBACE,KAAK,eAAe,CAAC;oBACrB,KAAK,GAAG;oBACR,MAAM;gBACR;YAEJ;QACF;IACF;IAEQ,aAAa,QAAa,EAAA;QAChC,MAAM,kBAAkB,IAAI;QAC5B,OAAO,SAAS;YACd,MAAM,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;YAClC,gBAAgB,KAAK,CACnB,MACA,WACA,gBAAgB,4BAA4B,CAAC,IAAI,CAAC;YAEpD,OAAO;QACT;IACF;IAEQ,6BAA6B,QAAa,EAAA;QAChD,MAAM,kBAAkB,IAAI;QAC5B,OAAO,SAAS,gBAEd,EAAY,EACZ,QAAgB;YAEhB,0BAA0B;YAC1B,IAAI,gBAAgB,WAAW,EAAE;gBAC/B,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,IAAI;;YAEjC,MAAM,SAAS,IAAI,OAAO,CAAC,MAAM;YACjC,MAAM,OAAO,gBAAgB,MAAM,CAAC,SAAS,CAC3C,wBACA,CAAA,GACA;YAGF,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,OAAO;gBACvD,SAAS,IAAI,CACX,IAAI,EACJ,CAAC,KAAc;oBACb,KAAK,GAAG;oBACR,gDAAgD;oBAChD,4CAA4C;oBAC5C,IAAI,IAAI;wBACN,OAAO,GAAG,KAAK;;gBAEnB,GACA;YAEJ;QACF;IACF;;AApJF,QAAA,0BAAA,GAAA"}},
    {"offset": {"line": 21922, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21926, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_68c582f77c9963bb5bd5dc657f4df07b/node_modules/@opentelemetry/instrumentation-generic-pool/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './instrumentation';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,8OAAA"}},
    {"offset": {"line": 21960, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21964, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_a5a065f54b5453345ffa37ec0c7f57fc/node_modules/@opentelemetry/instrumentation-dataloader/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport interface DataloaderInstrumentationConfig extends InstrumentationConfig {\n  /**\n   * Whether the instrumentation requires a parent span, if set to true\n   * and there is no parent span, no additional spans are created\n   * (default: true)\n   */\n  requireParentSpan?: boolean;\n}\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 21982, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21986, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_a5a065f54b5453345ffa37ec0c7f57fc/node_modules/@opentelemetry/instrumentation-dataloader/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.16.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-dataloader';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 22008, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22012, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_a5a065f54b5453345ffa37ec0c7f57fc/node_modules/@opentelemetry/instrumentation-dataloader/src/instrumentation.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  isWrapped,\n} from '@opentelemetry/instrumentation';\nimport {\n  trace,\n  context,\n  Link,\n  SpanStatusCode,\n  SpanKind,\n} from '@opentelemetry/api';\nimport { DataloaderInstrumentationConfig } from './types';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\nimport type * as Dataloader from 'dataloader';\n\nconst MODULE_NAME = 'dataloader';\n\ntype DataloaderInternal = typeof Dataloader.prototype & {\n  _batchLoadFn: Dataloader.BatchLoadFn<unknown, unknown>;\n  _batch: { spanLinks?: Link[] } | null;\n\n  // TODO: Remove this once types on Dataloader get fixed https://github.com/graphql/dataloader/pull/334\n  name?: string | null;\n};\n\ntype LoadFn = (typeof Dataloader.prototype)['load'];\ntype LoadManyFn = (typeof Dataloader.prototype)['loadMany'];\n\nexport class DataloaderInstrumentation extends InstrumentationBase<DataloaderInstrumentationConfig> {\n  constructor(config: DataloaderInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  protected init() {\n    return [\n      new InstrumentationNodeModuleDefinition(\n        MODULE_NAME,\n        ['>=2.0.0 <3'],\n        dataloader => {\n          this._patchLoad(dataloader.prototype);\n          this._patchLoadMany(dataloader.prototype);\n\n          return this._getPatchedConstructor(dataloader);\n        },\n        dataloader => {\n          if (isWrapped(dataloader.prototype.load)) {\n            this._unwrap(dataloader.prototype, 'load');\n          }\n\n          if (isWrapped(dataloader.prototype.loadMany)) {\n            this._unwrap(dataloader.prototype, 'loadMany');\n          }\n        }\n      ) as InstrumentationNodeModuleDefinition,\n    ];\n  }\n\n  private shouldCreateSpans(): boolean {\n    const config = this.getConfig();\n    const hasParentSpan = trace.getSpan(context.active()) !== undefined;\n    return hasParentSpan || !config.requireParentSpan;\n  }\n\n  private getSpanName(\n    dataloader: DataloaderInternal,\n    operation: 'load' | 'loadMany' | 'batch'\n  ): string {\n    const dataloaderName = dataloader.name;\n    if (dataloaderName === undefined || dataloaderName === null) {\n      return `${MODULE_NAME}.${operation}`;\n    }\n\n    return `${MODULE_NAME}.${operation} ${dataloaderName}`;\n  }\n\n  private _getPatchedConstructor(\n    constructor: typeof Dataloader\n  ): typeof Dataloader {\n    const prototype = constructor.prototype;\n    const instrumentation = this;\n\n    function PatchedDataloader(\n      ...args: ConstructorParameters<typeof constructor>\n    ) {\n      const inst = new constructor(...args) as DataloaderInternal;\n\n      if (!instrumentation.isEnabled()) {\n        return inst;\n      }\n\n      if (isWrapped(inst._batchLoadFn)) {\n        instrumentation._unwrap(inst, '_batchLoadFn');\n      }\n\n      instrumentation._wrap(inst, '_batchLoadFn', original => {\n        return function patchedBatchLoadFn(\n          this: DataloaderInternal,\n          ...args: Parameters<Dataloader.BatchLoadFn<unknown, unknown>>\n        ) {\n          if (\n            !instrumentation.isEnabled() ||\n            !instrumentation.shouldCreateSpans()\n          ) {\n            return original.call(this, ...args);\n          }\n\n          const parent = context.active();\n          const span = instrumentation.tracer.startSpan(\n            instrumentation.getSpanName(inst, 'batch'),\n            { links: this._batch?.spanLinks as Link[] | undefined },\n            parent\n          );\n\n          return context.with(trace.setSpan(parent, span), () => {\n            return (original.apply(this, args) as Promise<unknown[]>)\n              .then(value => {\n                span.end();\n                return value;\n              })\n              .catch(err => {\n                span.recordException(err);\n                span.setStatus({\n                  code: SpanStatusCode.ERROR,\n                  message: err.message,\n                });\n                span.end();\n                throw err;\n              });\n          });\n        };\n      });\n\n      return inst;\n    }\n\n    PatchedDataloader.prototype = prototype;\n    return PatchedDataloader as unknown as typeof Dataloader;\n  }\n\n  private _patchLoad(proto: typeof Dataloader.prototype) {\n    if (isWrapped(proto.load)) {\n      this._unwrap(proto, 'load');\n    }\n\n    this._wrap(proto, 'load', this._getPatchedLoad.bind(this));\n  }\n\n  private _getPatchedLoad(original: LoadFn): LoadFn {\n    const instrumentation = this;\n\n    return function patchedLoad(\n      this: DataloaderInternal,\n      ...args: Parameters<typeof original>\n    ) {\n      if (!instrumentation.shouldCreateSpans()) {\n        return original.call(this, ...args);\n      }\n\n      const parent = context.active();\n      const span = instrumentation.tracer.startSpan(\n        instrumentation.getSpanName(this, 'load'),\n        { kind: SpanKind.CLIENT },\n        parent\n      );\n\n      return context.with(trace.setSpan(parent, span), () => {\n        const result = original\n          .call(this, ...args)\n          .then(value => {\n            span.end();\n            return value;\n          })\n          .catch(err => {\n            span.recordException(err);\n            span.setStatus({\n              code: SpanStatusCode.ERROR,\n              message: err.message,\n            });\n            span.end();\n            throw err;\n          });\n\n        const loader = this as DataloaderInternal;\n\n        if (loader._batch) {\n          if (!loader._batch.spanLinks) {\n            loader._batch.spanLinks = [];\n          }\n\n          loader._batch.spanLinks.push({ context: span.spanContext() } as Link);\n        }\n\n        return result;\n      });\n    };\n  }\n\n  private _patchLoadMany(proto: typeof Dataloader.prototype) {\n    if (isWrapped(proto.loadMany)) {\n      this._unwrap(proto, 'loadMany');\n    }\n\n    this._wrap(proto, 'loadMany', this._getPatchedLoadMany.bind(this));\n  }\n\n  private _getPatchedLoadMany(original: LoadManyFn): LoadManyFn {\n    const instrumentation = this;\n\n    return function patchedLoadMany(\n      this: DataloaderInternal,\n      ...args: Parameters<typeof original>\n    ) {\n      if (!instrumentation.shouldCreateSpans()) {\n        return original.call(this, ...args);\n      }\n\n      const parent = context.active();\n      const span = instrumentation.tracer.startSpan(\n        instrumentation.getSpanName(this, 'loadMany'),\n        { kind: SpanKind.CLIENT },\n        parent\n      );\n\n      return context.with(trace.setSpan(parent, span), () => {\n        // .loadMany never rejects, as errors from internal .load\n        // calls are caught by dataloader lib\n        return original.call(this, ...args).then(value => {\n          span.end();\n          return value;\n        });\n      });\n    };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 22181, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22185, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_a5a065f54b5453345ffa37ec0c7f57fc/node_modules/@opentelemetry/instrumentation-dataloader/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './types';\nexport * from './instrumentation';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,kOAAA;AACA,4OAAA"}},
    {"offset": {"line": 22220, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22224, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_be845c946bc223fc3ffe3f2b5ea0d310/node_modules/@opentelemetry/instrumentation-amqplib/src/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Span } from '@opentelemetry/api';\nimport { InstrumentationConfig } from '@opentelemetry/instrumentation';\n\nexport interface PublishInfo {\n  moduleVersion: string | undefined;\n  exchange: string;\n  routingKey: string;\n  content: Buffer;\n  options?: AmqplibPublishOptions;\n  isConfirmChannel?: boolean;\n}\n\nexport interface PublishConfirmedInfo extends PublishInfo {\n  confirmError?: any;\n}\n\nexport interface ConsumeInfo {\n  moduleVersion: string | undefined;\n  msg: ConsumeMessage;\n}\n\nexport interface ConsumeEndInfo {\n  msg: ConsumeMessage;\n  rejected: boolean | null;\n  endOperation: EndOperation;\n}\n\nexport interface AmqplibPublishCustomAttributeFunction {\n  (span: Span, publishInfo: PublishInfo): void;\n}\n\nexport interface AmqplibPublishConfirmCustomAttributeFunction {\n  (span: Span, publishConfirmedInto: PublishConfirmedInfo): void;\n}\n\nexport interface AmqplibConsumeCustomAttributeFunction {\n  (span: Span, consumeInfo: ConsumeInfo): void;\n}\n\nexport interface AmqplibConsumeEndCustomAttributeFunction {\n  (span: Span, consumeEndInfo: ConsumeEndInfo): void;\n}\n\nexport enum EndOperation {\n  AutoAck = 'auto ack',\n  Ack = 'ack',\n  AckAll = 'ackAll',\n  Reject = 'reject',\n  Nack = 'nack',\n  NackAll = 'nackAll',\n  ChannelClosed = 'channel closed',\n  ChannelError = 'channel error',\n  InstrumentationTimeout = 'instrumentation timeout',\n}\n\nexport interface AmqplibInstrumentationConfig extends InstrumentationConfig {\n  /** hook for adding custom attributes before publish message is sent */\n  publishHook?: AmqplibPublishCustomAttributeFunction;\n\n  /** hook for adding custom attributes after publish message is confirmed by the broker */\n  publishConfirmHook?: AmqplibPublishConfirmCustomAttributeFunction;\n\n  /** hook for adding custom attributes before consumer message is processed */\n  consumeHook?: AmqplibConsumeCustomAttributeFunction;\n\n  /** hook for adding custom attributes after consumer message is acked to server */\n  consumeEndHook?: AmqplibConsumeEndCustomAttributeFunction;\n\n  /**\n   * When user is setting up consume callback, it is user's responsibility to call\n   * ack/nack etc on the msg to resolve it in the server.\n   * If user is not calling the ack, the message will stay in the queue until\n   * channel is closed, or until server timeout expires (if configured).\n   * While we wait for the ack, a reference to the message is stored in plugin, which\n   * will never be garbage collected.\n   * To prevent memory leak, plugin has it's own configuration of timeout, which\n   * will close the span if user did not call ack after this timeout.\n   * If timeout is not big enough, span might be closed with 'InstrumentationTimeout',\n   * and then received valid ack from the user later which will not be instrumented.\n   *\n   * Default is 1 minute\n   */\n  consumeTimeoutMs?: number;\n\n  /** option to use a span link for the consume message instead of continuing a trace */\n  useLinksForConsume?: boolean;\n}\n\nexport const DEFAULT_CONFIG: AmqplibInstrumentationConfig = {\n  consumeTimeoutMs: 1000 * 60, // 1 minute\n  useLinksForConsume: false,\n};\n\n// The following types are vendored from `@types/amqplib@0.10.1` - commit SHA: 4205e03127692a40b4871709a7134fe4e2ed5510\n\n// Vendored from: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/4205e03127692a40b4871709a7134fe4e2ed5510/types/amqplib/properties.d.ts#L108\n// This exists in `@types/amqplib` as `Options.Publish`. We're renaming things\n// here to avoid importing the whole Options namespace.\nexport interface AmqplibPublishOptions {\n  expiration?: string | number;\n  userId?: string;\n  CC?: string | string[];\n\n  mandatory?: boolean;\n  persistent?: boolean;\n  deliveryMode?: boolean | number;\n  BCC?: string | string[];\n\n  contentType?: string;\n  contentEncoding?: string;\n  headers?: any;\n  priority?: number;\n  correlationId?: string;\n  replyTo?: string;\n  messageId?: string;\n  timestamp?: number;\n  type?: string;\n  appId?: string;\n}\n\n// Vendored from: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/4205e03127692a40b4871709a7134fe4e2ed5510/types/amqplib/properties.d.ts#L142\nexport interface Message {\n  content: Buffer;\n  fields: MessageFields;\n  properties: MessageProperties;\n}\n\nexport interface ConsumeMessage extends Message {\n  fields: ConsumeMessageFields;\n}\n\nexport interface CommonMessageFields {\n  deliveryTag: number;\n  redelivered: boolean;\n  exchange: string;\n  routingKey: string;\n}\n\nexport interface MessageFields extends CommonMessageFields {\n  messageCount?: number;\n  consumerTag?: string;\n}\n\nexport interface ConsumeMessageFields extends CommonMessageFields {\n  deliveryTag: number;\n}\n\nexport interface MessageProperties {\n  contentType: any | undefined;\n  contentEncoding: any | undefined;\n  headers: any;\n  deliveryMode: any | undefined;\n  priority: any | undefined;\n  correlationId: any | undefined;\n  replyTo: any | undefined;\n  expiration: any | undefined;\n  messageId: any | undefined;\n  timestamp: any | undefined;\n  type: any | undefined;\n  userId: any | undefined;\n  appId: any | undefined;\n  clusterId: any | undefined;\n}\n"],"names":[],"mappings":";;;;;AA0DA,IAAY;AAAZ,CAAA,SAAY,YAAY;IACtB,YAAA,CAAA,UAAA,GAAA;IACA,YAAA,CAAA,MAAA,GAAA;IACA,YAAA,CAAA,SAAA,GAAA;IACA,YAAA,CAAA,SAAA,GAAA;IACA,YAAA,CAAA,OAAA,GAAA;IACA,YAAA,CAAA,UAAA,GAAA;IACA,YAAA,CAAA,gBAAA,GAAA;IACA,YAAA,CAAA,eAAA,GAAA;IACA,YAAA,CAAA,yBAAA,GAAA;AACF,CAAC,EAVW,eAAA,QAAA,YAAY,IAAA,CAAZ,QAAA,YAAY,GAAA,CAAA,CAAA;AA6CX,QAAA,cAAc,GAAiC;IAC1D,kBAAkB,OAAO;IACzB,oBAAoB"}},
    {"offset": {"line": 22245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22249, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_be845c946bc223fc3ffe3f2b5ea0d310/node_modules/@opentelemetry/instrumentation-amqplib/src/utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  Context,\n  createContextKey,\n  diag,\n  HrTime,\n  Span,\n  Attributes,\n  AttributeValue,\n} from '@opentelemetry/api';\nimport {\n  SEMATTRS_MESSAGING_PROTOCOL,\n  SEMATTRS_MESSAGING_PROTOCOL_VERSION,\n  SEMATTRS_MESSAGING_SYSTEM,\n  SEMATTRS_MESSAGING_URL,\n  SEMATTRS_NET_PEER_NAME,\n  SEMATTRS_NET_PEER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport type * as amqp from 'amqplib';\n\nexport const MESSAGE_STORED_SPAN: unique symbol = Symbol(\n  'opentelemetry.amqplib.message.stored-span'\n);\nexport const CHANNEL_SPANS_NOT_ENDED: unique symbol = Symbol(\n  'opentelemetry.amqplib.channel.spans-not-ended'\n);\nexport const CHANNEL_CONSUME_TIMEOUT_TIMER: unique symbol = Symbol(\n  'opentelemetry.amqplib.channel.consumer-timeout-timer'\n);\nexport const CONNECTION_ATTRIBUTES: unique symbol = Symbol(\n  'opentelemetry.amqplib.connection.attributes'\n);\n\nexport type InstrumentationPublishChannel = (\n  | amqp.Channel\n  | amqp.ConfirmChannel\n) & { connection: { [CONNECTION_ATTRIBUTES]: Attributes } };\nexport type InstrumentationConsumeChannel = amqp.Channel & {\n  connection: { [CONNECTION_ATTRIBUTES]: Attributes };\n  [CHANNEL_SPANS_NOT_ENDED]?: {\n    msg: amqp.ConsumeMessage;\n    timeOfConsume: HrTime;\n  }[];\n  [CHANNEL_CONSUME_TIMEOUT_TIMER]?: NodeJS.Timeout;\n};\nexport type InstrumentationMessage = amqp.Message & {\n  [MESSAGE_STORED_SPAN]?: Span;\n};\n\nconst IS_CONFIRM_CHANNEL_CONTEXT_KEY: symbol = createContextKey(\n  'opentelemetry.amqplib.channel.is-confirm-channel'\n);\n\nexport const normalizeExchange = (exchangeName: string) =>\n  exchangeName !== '' ? exchangeName : '<default>';\n\nconst censorPassword = (url: string): string => {\n  return url.replace(/:[^:@/]*@/, ':***@');\n};\n\nconst getPort = (\n  portFromUrl: number | undefined,\n  resolvedProtocol: string\n): number => {\n  // we are using the resolved protocol which is upper case\n  // this code mimic the behavior of the amqplib which is used to set connection params\n  return portFromUrl || (resolvedProtocol === 'AMQP' ? 5672 : 5671);\n};\n\nconst getProtocol = (protocolFromUrl: string | undefined): string => {\n  const resolvedProtocol = protocolFromUrl || 'amqp';\n  // the substring removed the ':' part of the protocol ('amqp:' -> 'amqp')\n  const noEndingColon = resolvedProtocol.endsWith(':')\n    ? resolvedProtocol.substring(0, resolvedProtocol.length - 1)\n    : resolvedProtocol;\n  // upper cases to match spec\n  return noEndingColon.toUpperCase();\n};\n\nconst getHostname = (hostnameFromUrl: string | undefined): string => {\n  // if user supplies empty hostname, it gets forwarded to 'net' package which default it to localhost.\n  // https://nodejs.org/docs/latest-v12.x/api/net.html#net_socket_connect_options_connectlistener\n  return hostnameFromUrl || 'localhost';\n};\n\nconst extractConnectionAttributeOrLog = (\n  url: string | amqp.Options.Connect,\n  attributeKey: string,\n  attributeValue: AttributeValue,\n  nameForLog: string\n): Attributes => {\n  if (attributeValue) {\n    return { [attributeKey]: attributeValue };\n  } else {\n    diag.error(\n      `amqplib instrumentation: could not extract connection attribute ${nameForLog} from user supplied url`,\n      {\n        url,\n      }\n    );\n    return {};\n  }\n};\n\nexport const getConnectionAttributesFromServer = (\n  conn: amqp.Connection['connection']\n): Attributes => {\n  const product = conn.serverProperties.product?.toLowerCase?.();\n  if (product) {\n    return {\n      [SEMATTRS_MESSAGING_SYSTEM]: product,\n    };\n  } else {\n    return {};\n  }\n};\n\nexport const getConnectionAttributesFromUrl = (\n  url: string | amqp.Options.Connect\n): Attributes => {\n  const attributes: Attributes = {\n    [SEMATTRS_MESSAGING_PROTOCOL_VERSION]: '0.9.1', // this is the only protocol supported by the instrumented library\n  };\n\n  url = url || 'amqp://localhost';\n  if (typeof url === 'object') {\n    const connectOptions = url as amqp.Options.Connect;\n\n    const protocol = getProtocol(connectOptions?.protocol);\n    Object.assign(attributes, {\n      ...extractConnectionAttributeOrLog(\n        url,\n        SEMATTRS_MESSAGING_PROTOCOL,\n        protocol,\n        'protocol'\n      ),\n    });\n\n    const hostname = getHostname(connectOptions?.hostname);\n    Object.assign(attributes, {\n      ...extractConnectionAttributeOrLog(\n        url,\n        SEMATTRS_NET_PEER_NAME,\n        hostname,\n        'hostname'\n      ),\n    });\n\n    const port = getPort(connectOptions.port, protocol);\n    Object.assign(attributes, {\n      ...extractConnectionAttributeOrLog(\n        url,\n        SEMATTRS_NET_PEER_PORT,\n        port,\n        'port'\n      ),\n    });\n  } else {\n    const censoredUrl = censorPassword(url);\n    attributes[SEMATTRS_MESSAGING_URL] = censoredUrl;\n    try {\n      const urlParts = new URL(censoredUrl);\n\n      const protocol = getProtocol(urlParts.protocol);\n      Object.assign(attributes, {\n        ...extractConnectionAttributeOrLog(\n          censoredUrl,\n          SEMATTRS_MESSAGING_PROTOCOL,\n          protocol,\n          'protocol'\n        ),\n      });\n\n      const hostname = getHostname(urlParts.hostname);\n      Object.assign(attributes, {\n        ...extractConnectionAttributeOrLog(\n          censoredUrl,\n          SEMATTRS_NET_PEER_NAME,\n          hostname,\n          'hostname'\n        ),\n      });\n\n      const port = getPort(\n        urlParts.port ? parseInt(urlParts.port) : undefined,\n        protocol\n      );\n      Object.assign(attributes, {\n        ...extractConnectionAttributeOrLog(\n          censoredUrl,\n          SEMATTRS_NET_PEER_PORT,\n          port,\n          'port'\n        ),\n      });\n    } catch (err) {\n      diag.error(\n        'amqplib instrumentation: error while extracting connection details from connection url',\n        {\n          censoredUrl,\n          err,\n        }\n      );\n    }\n  }\n  return attributes;\n};\n\nexport const markConfirmChannelTracing = (context: Context) => {\n  return context.setValue(IS_CONFIRM_CHANNEL_CONTEXT_KEY, true);\n};\n\nexport const unmarkConfirmChannelTracing = (context: Context) => {\n  return context.deleteValue(IS_CONFIRM_CHANNEL_CONTEXT_KEY);\n};\n\nexport const isConfirmChannelTracing = (context: Context) => {\n  return context.getValue(IS_CONFIRM_CHANNEL_CONTEXT_KEY) === true;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 22367, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22371, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_be845c946bc223fc3ffe3f2b5ea0d310/node_modules/@opentelemetry/instrumentation-amqplib/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const PACKAGE_VERSION = '0.46.1';\nexport const PACKAGE_NAME = '@opentelemetry/instrumentation-amqplib';\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;AAgBA,4DAA4D;AAC/C,QAAA,eAAe,GAAG;AAClB,QAAA,YAAY,GAAG"}},
    {"offset": {"line": 22393, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22397, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_be845c946bc223fc3ffe3f2b5ea0d310/node_modules/@opentelemetry/instrumentation-amqplib/src/amqplib.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  context,\n  diag,\n  propagation,\n  trace,\n  Span,\n  SpanKind,\n  SpanStatusCode,\n  ROOT_CONTEXT,\n  Link,\n  Context,\n} from '@opentelemetry/api';\nimport {\n  hrTime,\n  hrTimeDuration,\n  hrTimeToMilliseconds,\n} from '@opentelemetry/core';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  isWrapped,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport {\n  SEMATTRS_MESSAGING_DESTINATION,\n  SEMATTRS_MESSAGING_DESTINATION_KIND,\n  MESSAGINGDESTINATIONKINDVALUES_TOPIC,\n  SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY,\n  SEMATTRS_MESSAGING_OPERATION,\n  MESSAGINGOPERATIONVALUES_PROCESS,\n  SEMATTRS_MESSAGING_MESSAGE_ID,\n  SEMATTRS_MESSAGING_CONVERSATION_ID,\n} from '@opentelemetry/semantic-conventions';\nimport type {\n  Connection,\n  ConsumeMessage,\n  Message,\n  Options,\n  Replies,\n} from 'amqplib';\nimport {\n  AmqplibInstrumentationConfig,\n  DEFAULT_CONFIG,\n  EndOperation,\n} from './types';\nimport {\n  CHANNEL_CONSUME_TIMEOUT_TIMER,\n  CHANNEL_SPANS_NOT_ENDED,\n  CONNECTION_ATTRIBUTES,\n  getConnectionAttributesFromServer,\n  getConnectionAttributesFromUrl,\n  InstrumentationConsumeChannel,\n  InstrumentationMessage,\n  InstrumentationPublishChannel,\n  isConfirmChannelTracing,\n  markConfirmChannelTracing,\n  MESSAGE_STORED_SPAN,\n  normalizeExchange,\n  unmarkConfirmChannelTracing,\n} from './utils';\n/** @knipignore */\nimport { PACKAGE_NAME, PACKAGE_VERSION } from './version';\n\nconst supportedVersions = ['>=0.5.5 <1'];\n\nexport class AmqplibInstrumentation extends InstrumentationBase<AmqplibInstrumentationConfig> {\n  constructor(config: AmqplibInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, { ...DEFAULT_CONFIG, ...config });\n  }\n\n  override setConfig(config: AmqplibInstrumentationConfig = {}) {\n    super.setConfig({ ...DEFAULT_CONFIG, ...config });\n  }\n\n  protected init() {\n    const channelModelModuleFile = new InstrumentationNodeModuleFile(\n      'amqplib/lib/channel_model.js',\n      supportedVersions,\n      this.patchChannelModel.bind(this),\n      this.unpatchChannelModel.bind(this)\n    );\n\n    const callbackModelModuleFile = new InstrumentationNodeModuleFile(\n      'amqplib/lib/callback_model.js',\n      supportedVersions,\n      this.patchChannelModel.bind(this),\n      this.unpatchChannelModel.bind(this)\n    );\n\n    const connectModuleFile = new InstrumentationNodeModuleFile(\n      'amqplib/lib/connect.js',\n      supportedVersions,\n      this.patchConnect.bind(this),\n      this.unpatchConnect.bind(this)\n    );\n\n    const module = new InstrumentationNodeModuleDefinition(\n      'amqplib',\n      supportedVersions,\n      undefined,\n      undefined,\n      [channelModelModuleFile, connectModuleFile, callbackModelModuleFile]\n    );\n    return module;\n  }\n\n  private patchConnect(moduleExports: any) {\n    moduleExports = this.unpatchConnect(moduleExports);\n    if (!isWrapped(moduleExports.connect)) {\n      this._wrap(moduleExports, 'connect', this.getConnectPatch.bind(this));\n    }\n    return moduleExports;\n  }\n\n  private unpatchConnect(moduleExports: any) {\n    if (isWrapped(moduleExports.connect)) {\n      this._unwrap(moduleExports, 'connect');\n    }\n    return moduleExports;\n  }\n\n  private patchChannelModel(\n    moduleExports: any,\n    moduleVersion: string | undefined\n  ) {\n    if (!isWrapped(moduleExports.Channel.prototype.publish)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'publish',\n        this.getPublishPatch.bind(this, moduleVersion)\n      );\n    }\n    if (!isWrapped(moduleExports.Channel.prototype.consume)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'consume',\n        this.getConsumePatch.bind(this, moduleVersion)\n      );\n    }\n    if (!isWrapped(moduleExports.Channel.prototype.ack)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'ack',\n        this.getAckPatch.bind(this, false, EndOperation.Ack)\n      );\n    }\n    if (!isWrapped(moduleExports.Channel.prototype.nack)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'nack',\n        this.getAckPatch.bind(this, true, EndOperation.Nack)\n      );\n    }\n    if (!isWrapped(moduleExports.Channel.prototype.reject)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'reject',\n        this.getAckPatch.bind(this, true, EndOperation.Reject)\n      );\n    }\n    if (!isWrapped(moduleExports.Channel.prototype.ackAll)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'ackAll',\n        this.getAckAllPatch.bind(this, false, EndOperation.AckAll)\n      );\n    }\n    if (!isWrapped(moduleExports.Channel.prototype.nackAll)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'nackAll',\n        this.getAckAllPatch.bind(this, true, EndOperation.NackAll)\n      );\n    }\n    if (!isWrapped(moduleExports.Channel.prototype.emit)) {\n      this._wrap(\n        moduleExports.Channel.prototype,\n        'emit',\n        this.getChannelEmitPatch.bind(this)\n      );\n    }\n    if (!isWrapped(moduleExports.ConfirmChannel.prototype.publish)) {\n      this._wrap(\n        moduleExports.ConfirmChannel.prototype,\n        'publish',\n        this.getConfirmedPublishPatch.bind(this, moduleVersion)\n      );\n    }\n    return moduleExports;\n  }\n\n  private unpatchChannelModel(moduleExports: any) {\n    if (isWrapped(moduleExports.Channel.prototype.publish)) {\n      this._unwrap(moduleExports.Channel.prototype, 'publish');\n    }\n    if (isWrapped(moduleExports.Channel.prototype.consume)) {\n      this._unwrap(moduleExports.Channel.prototype, 'consume');\n    }\n    if (isWrapped(moduleExports.Channel.prototype.ack)) {\n      this._unwrap(moduleExports.Channel.prototype, 'ack');\n    }\n    if (isWrapped(moduleExports.Channel.prototype.nack)) {\n      this._unwrap(moduleExports.Channel.prototype, 'nack');\n    }\n    if (isWrapped(moduleExports.Channel.prototype.reject)) {\n      this._unwrap(moduleExports.Channel.prototype, 'reject');\n    }\n    if (isWrapped(moduleExports.Channel.prototype.ackAll)) {\n      this._unwrap(moduleExports.Channel.prototype, 'ackAll');\n    }\n    if (isWrapped(moduleExports.Channel.prototype.nackAll)) {\n      this._unwrap(moduleExports.Channel.prototype, 'nackAll');\n    }\n    if (isWrapped(moduleExports.Channel.prototype.emit)) {\n      this._unwrap(moduleExports.Channel.prototype, 'emit');\n    }\n    if (isWrapped(moduleExports.ConfirmChannel.prototype.publish)) {\n      this._unwrap(moduleExports.ConfirmChannel.prototype, 'publish');\n    }\n    return moduleExports;\n  }\n\n  private getConnectPatch(\n    original: (\n      url: string | Options.Connect,\n      socketOptions: any,\n      openCallback: (err: any, connection: Connection) => void\n    ) => Connection\n  ) {\n    return function patchedConnect(\n      this: unknown,\n      url: string | Options.Connect,\n      socketOptions: any,\n      openCallback: Function\n    ) {\n      return original.call(\n        this,\n        url,\n        socketOptions,\n        function (this: unknown, err, conn: Connection) {\n          if (err == null) {\n            const urlAttributes = getConnectionAttributesFromUrl(url);\n            // the type of conn in @types/amqplib is amqp.Connection, but in practice the library send the\n            // `serverProperties` on the `conn` and not in a property `connection`.\n            // I don't have capacity to debug it currently but it should probably be fixed in @types or\n            // in the package itself\n            // currently setting as any to calm typescript\n            const serverAttributes = getConnectionAttributesFromServer(\n              conn as any\n            );\n            (conn as any)[CONNECTION_ATTRIBUTES] = {\n              ...urlAttributes,\n              ...serverAttributes,\n            };\n          }\n          openCallback.apply(this, arguments);\n        }\n      );\n    };\n  }\n\n  private getChannelEmitPatch(original: Function) {\n    const self = this;\n    return function emit(\n      this: InstrumentationConsumeChannel,\n      eventName: string\n    ) {\n      if (eventName === 'close') {\n        self.endAllSpansOnChannel(\n          this,\n          true,\n          EndOperation.ChannelClosed,\n          undefined\n        );\n        const activeTimer = this[CHANNEL_CONSUME_TIMEOUT_TIMER];\n        if (activeTimer) {\n          clearInterval(activeTimer);\n        }\n        this[CHANNEL_CONSUME_TIMEOUT_TIMER] = undefined;\n      } else if (eventName === 'error') {\n        self.endAllSpansOnChannel(\n          this,\n          true,\n          EndOperation.ChannelError,\n          undefined\n        );\n      }\n      return original.apply(this, arguments);\n    };\n  }\n\n  private getAckAllPatch(\n    isRejected: boolean,\n    endOperation: EndOperation,\n    original: Function\n  ) {\n    const self = this;\n    return function ackAll(\n      this: InstrumentationConsumeChannel,\n      requeueOrEmpty?: boolean\n    ): void {\n      self.endAllSpansOnChannel(this, isRejected, endOperation, requeueOrEmpty);\n      return original.apply(this, arguments);\n    };\n  }\n\n  private getAckPatch(\n    isRejected: boolean,\n    endOperation: EndOperation,\n    original: Function\n  ) {\n    const self = this;\n    return function ack(\n      this: InstrumentationConsumeChannel,\n      message: Message,\n      allUpToOrRequeue?: boolean,\n      requeue?: boolean\n    ): void {\n      const channel = this;\n      // we use this patch in reject function as well, but it has different signature\n      const requeueResolved =\n        endOperation === EndOperation.Reject ? allUpToOrRequeue : requeue;\n\n      const spansNotEnded: { msg: Message }[] =\n        channel[CHANNEL_SPANS_NOT_ENDED] ?? [];\n      const msgIndex = spansNotEnded.findIndex(\n        msgDetails => msgDetails.msg === message\n      );\n      if (msgIndex < 0) {\n        // should not happen in happy flow\n        // but possible if user is calling the api function ack twice with same message\n        self.endConsumerSpan(\n          message,\n          isRejected,\n          endOperation,\n          requeueResolved\n        );\n      } else if (endOperation !== EndOperation.Reject && allUpToOrRequeue) {\n        for (let i = 0; i <= msgIndex; i++) {\n          self.endConsumerSpan(\n            spansNotEnded[i].msg,\n            isRejected,\n            endOperation,\n            requeueResolved\n          );\n        }\n        spansNotEnded.splice(0, msgIndex + 1);\n      } else {\n        self.endConsumerSpan(\n          message,\n          isRejected,\n          endOperation,\n          requeueResolved\n        );\n        spansNotEnded.splice(msgIndex, 1);\n      }\n      return original.apply(this, arguments);\n    };\n  }\n\n  private getConsumePatch(\n    moduleVersion: string | undefined,\n    original: Function\n  ) {\n    const self = this;\n    return function consume(\n      this: InstrumentationConsumeChannel,\n      queue: string,\n      onMessage: (msg: ConsumeMessage | null) => void,\n      options?: Options.Consume\n    ): Promise<Replies.Consume> {\n      const channel = this;\n      if (\n        !Object.prototype.hasOwnProperty.call(channel, CHANNEL_SPANS_NOT_ENDED)\n      ) {\n        const { consumeTimeoutMs } = self.getConfig();\n        if (consumeTimeoutMs) {\n          const timer = setInterval(() => {\n            self.checkConsumeTimeoutOnChannel(channel);\n          }, consumeTimeoutMs);\n          timer.unref();\n          channel[CHANNEL_CONSUME_TIMEOUT_TIMER] = timer;\n        }\n        channel[CHANNEL_SPANS_NOT_ENDED] = [];\n      }\n\n      const patchedOnMessage = function (\n        this: unknown,\n        msg: InstrumentationMessage | null\n      ) {\n        // msg is expected to be null for signaling consumer cancel notification\n        // https://www.rabbitmq.com/consumer-cancel.html\n        // in this case, we do not start a span, as this is not a real message.\n        if (!msg) {\n          return onMessage.call(this, msg);\n        }\n\n        const headers = msg.properties.headers ?? {};\n        let parentContext: Context | undefined = propagation.extract(\n          ROOT_CONTEXT,\n          headers\n        );\n        const exchange = msg.fields?.exchange;\n        let links: Link[] | undefined;\n        if (self._config.useLinksForConsume) {\n          const parentSpanContext = parentContext\n            ? trace.getSpan(parentContext)?.spanContext()\n            : undefined;\n          parentContext = undefined;\n          if (parentSpanContext) {\n            links = [\n              {\n                context: parentSpanContext,\n              },\n            ];\n          }\n        }\n        const span = self.tracer.startSpan(\n          `${queue} process`,\n          {\n            kind: SpanKind.CONSUMER,\n            attributes: {\n              ...channel?.connection?.[CONNECTION_ATTRIBUTES],\n              [SEMATTRS_MESSAGING_DESTINATION]: exchange,\n              [SEMATTRS_MESSAGING_DESTINATION_KIND]:\n                MESSAGINGDESTINATIONKINDVALUES_TOPIC,\n              [SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY]: msg.fields?.routingKey,\n              [SEMATTRS_MESSAGING_OPERATION]: MESSAGINGOPERATIONVALUES_PROCESS,\n              [SEMATTRS_MESSAGING_MESSAGE_ID]: msg?.properties.messageId,\n              [SEMATTRS_MESSAGING_CONVERSATION_ID]:\n                msg?.properties.correlationId,\n            },\n            links,\n          },\n          parentContext\n        );\n\n        const { consumeHook } = self.getConfig();\n        if (consumeHook) {\n          safeExecuteInTheMiddle(\n            () => consumeHook(span, { moduleVersion, msg }),\n            e => {\n              if (e) {\n                diag.error('amqplib instrumentation: consumerHook error', e);\n              }\n            },\n            true\n          );\n        }\n\n        if (!options?.noAck) {\n          // store the message on the channel so we can close the span on ackAll etc\n          channel[CHANNEL_SPANS_NOT_ENDED]!.push({\n            msg,\n            timeOfConsume: hrTime(),\n          });\n\n          // store the span on the message, so we can end it when user call 'ack' on it\n          msg[MESSAGE_STORED_SPAN] = span;\n        }\n        const setContext: Context = parentContext\n          ? parentContext\n          : ROOT_CONTEXT;\n        context.with(trace.setSpan(setContext, span), () => {\n          onMessage.call(this, msg);\n        });\n\n        if (options?.noAck) {\n          self.callConsumeEndHook(span, msg, false, EndOperation.AutoAck);\n          span.end();\n        }\n      };\n      arguments[1] = patchedOnMessage;\n      return original.apply(this, arguments);\n    };\n  }\n\n  private getConfirmedPublishPatch(\n    moduleVersion: string | undefined,\n    original: Function\n  ) {\n    const self = this;\n    return function confirmedPublish(\n      this: InstrumentationConsumeChannel,\n      exchange: string,\n      routingKey: string,\n      content: Buffer,\n      options?: Options.Publish,\n      callback?: (err: any, ok: Replies.Empty) => void\n    ): boolean {\n      const channel = this;\n      const { span, modifiedOptions } = self.createPublishSpan(\n        self,\n        exchange,\n        routingKey,\n        channel,\n        options\n      );\n\n      const { publishHook } = self.getConfig();\n      if (publishHook) {\n        safeExecuteInTheMiddle(\n          () =>\n            publishHook(span, {\n              moduleVersion,\n              exchange,\n              routingKey,\n              content,\n              options: modifiedOptions,\n              isConfirmChannel: true,\n            }),\n          e => {\n            if (e) {\n              diag.error('amqplib instrumentation: publishHook error', e);\n            }\n          },\n          true\n        );\n      }\n\n      const patchedOnConfirm = function (\n        this: unknown,\n        err: any,\n        ok: Replies.Empty\n      ) {\n        try {\n          callback?.call(this, err, ok);\n        } finally {\n          const { publishConfirmHook } = self.getConfig();\n          if (publishConfirmHook) {\n            safeExecuteInTheMiddle(\n              () =>\n                publishConfirmHook(span, {\n                  moduleVersion,\n                  exchange,\n                  routingKey,\n                  content,\n                  options,\n                  isConfirmChannel: true,\n                  confirmError: err,\n                }),\n              e => {\n                if (e) {\n                  diag.error(\n                    'amqplib instrumentation: publishConfirmHook error',\n                    e\n                  );\n                }\n              },\n              true\n            );\n          }\n\n          if (err) {\n            span.setStatus({\n              code: SpanStatusCode.ERROR,\n              message: \"message confirmation has been nack'ed\",\n            });\n          }\n          span.end();\n        }\n      };\n\n      // calling confirm channel publish function is storing the message in queue and registering the callback for broker confirm.\n      // span ends in the patched callback.\n      const markedContext = markConfirmChannelTracing(context.active());\n      const argumentsCopy = [...arguments];\n      argumentsCopy[3] = modifiedOptions;\n      argumentsCopy[4] = context.bind(\n        unmarkConfirmChannelTracing(trace.setSpan(markedContext, span)),\n        patchedOnConfirm\n      );\n      return context.with(markedContext, original.bind(this, ...argumentsCopy));\n    };\n  }\n\n  private getPublishPatch(\n    moduleVersion: string | undefined,\n    original: Function\n  ) {\n    const self = this;\n    return function publish(\n      this: InstrumentationPublishChannel,\n      exchange: string,\n      routingKey: string,\n      content: Buffer,\n      options?: Options.Publish\n    ): boolean {\n      if (isConfirmChannelTracing(context.active())) {\n        // work already done\n        return original.apply(this, arguments);\n      } else {\n        const channel = this;\n        const { span, modifiedOptions } = self.createPublishSpan(\n          self,\n          exchange,\n          routingKey,\n          channel,\n          options\n        );\n\n        const { publishHook } = self.getConfig();\n        if (publishHook) {\n          safeExecuteInTheMiddle(\n            () =>\n              publishHook(span, {\n                moduleVersion,\n                exchange,\n                routingKey,\n                content,\n                options: modifiedOptions,\n                isConfirmChannel: false,\n              }),\n            e => {\n              if (e) {\n                diag.error('amqplib instrumentation: publishHook error', e);\n              }\n            },\n            true\n          );\n        }\n\n        // calling normal channel publish function is only storing the message in queue.\n        // it does not send it and waits for an ack, so the span duration is expected to be very short.\n        const argumentsCopy = [...arguments];\n        argumentsCopy[3] = modifiedOptions;\n        const originalRes = original.apply(this, argumentsCopy as any);\n        span.end();\n        return originalRes;\n      }\n    };\n  }\n\n  private createPublishSpan(\n    self: this,\n    exchange: string,\n    routingKey: string,\n    channel: InstrumentationPublishChannel,\n    options?: Options.Publish\n  ) {\n    const normalizedExchange = normalizeExchange(exchange);\n\n    const span = self.tracer.startSpan(`publish ${normalizedExchange}`, {\n      kind: SpanKind.PRODUCER,\n      attributes: {\n        ...channel.connection[CONNECTION_ATTRIBUTES],\n        [SEMATTRS_MESSAGING_DESTINATION]: exchange,\n        [SEMATTRS_MESSAGING_DESTINATION_KIND]:\n          MESSAGINGDESTINATIONKINDVALUES_TOPIC,\n        [SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY]: routingKey,\n        [SEMATTRS_MESSAGING_MESSAGE_ID]: options?.messageId,\n        [SEMATTRS_MESSAGING_CONVERSATION_ID]: options?.correlationId,\n      },\n    });\n    const modifiedOptions = options ?? {};\n    modifiedOptions.headers = modifiedOptions.headers ?? {};\n\n    propagation.inject(\n      trace.setSpan(context.active(), span),\n      modifiedOptions.headers\n    );\n\n    return { span, modifiedOptions };\n  }\n\n  private endConsumerSpan(\n    message: InstrumentationMessage,\n    isRejected: boolean | null,\n    operation: EndOperation,\n    requeue: boolean | undefined\n  ) {\n    const storedSpan: Span | undefined = message[MESSAGE_STORED_SPAN];\n    if (!storedSpan) return;\n    if (isRejected !== false) {\n      storedSpan.setStatus({\n        code: SpanStatusCode.ERROR,\n        message:\n          operation !== EndOperation.ChannelClosed &&\n          operation !== EndOperation.ChannelError\n            ? `${operation} called on message${\n                requeue === true\n                  ? ' with requeue'\n                  : requeue === false\n                  ? ' without requeue'\n                  : ''\n              }`\n            : operation,\n      });\n    }\n    this.callConsumeEndHook(storedSpan, message, isRejected, operation);\n    storedSpan.end();\n    message[MESSAGE_STORED_SPAN] = undefined;\n  }\n\n  private endAllSpansOnChannel(\n    channel: InstrumentationConsumeChannel,\n    isRejected: boolean,\n    operation: EndOperation,\n    requeue: boolean | undefined\n  ) {\n    const spansNotEnded: { msg: Message }[] =\n      channel[CHANNEL_SPANS_NOT_ENDED] ?? [];\n    spansNotEnded.forEach(msgDetails => {\n      this.endConsumerSpan(msgDetails.msg, isRejected, operation, requeue);\n    });\n    channel[CHANNEL_SPANS_NOT_ENDED] = [];\n  }\n\n  private callConsumeEndHook(\n    span: Span,\n    msg: ConsumeMessage,\n    rejected: boolean | null,\n    endOperation: EndOperation\n  ) {\n    const { consumeEndHook } = this.getConfig();\n    if (!consumeEndHook) return;\n\n    safeExecuteInTheMiddle(\n      () => consumeEndHook(span, { msg, rejected, endOperation }),\n      e => {\n        if (e) {\n          diag.error('amqplib instrumentation: consumerEndHook error', e);\n        }\n      },\n      true\n    );\n  }\n\n  private checkConsumeTimeoutOnChannel(channel: InstrumentationConsumeChannel) {\n    const currentTime = hrTime();\n    const spansNotEnded = channel[CHANNEL_SPANS_NOT_ENDED] ?? [];\n    let i: number;\n    const { consumeTimeoutMs } = this.getConfig();\n    for (i = 0; i < spansNotEnded.length; i++) {\n      const currMessage = spansNotEnded[i];\n      const timeFromConsume = hrTimeDuration(\n        currMessage.timeOfConsume,\n        currentTime\n      );\n      if (hrTimeToMilliseconds(timeFromConsume) < consumeTimeoutMs!) {\n        break;\n      }\n      this.endConsumerSpan(\n        currMessage.msg,\n        null,\n        EndOperation.InstrumentationTimeout,\n        true\n      );\n    }\n    spansNotEnded.splice(0, i);\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 22834, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22838, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@opentelemetry+instrumentat_be845c946bc223fc3ffe3f2b5ea0d310/node_modules/@opentelemetry/instrumentation-amqplib/src/index.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './amqplib';\nexport * from './types';\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;IAeA,iOAAA;AACA,+NAAA"}},
    {"offset": {"line": 22873, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22877, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/color-name@1.1.4/node_modules/color-name/index.js"],"sourcesContent":["'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 23620, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 23624, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/conversions.js"],"sourcesContent":["/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 24554, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 24558, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/route.js"],"sourcesContent":["const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n"],"names":[],"mappings":"AAAA,MAAM;AAEN;;;;;;;;;AASA,GAEA,SAAS;IACR,MAAM,QAAQ,CAAC;IACf,0DAA0D;IAC1D,MAAM,SAAS,OAAO,IAAI,CAAC;IAE3B,IAAK,IAAI,MAAM,OAAO,MAAM,EAAE,IAAI,GAAG,IAAI,KAAK,IAAK;QAClD,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG;YAClB,kCAAkC;YAClC,iCAAiC;YACjC,UAAU,CAAC;YACX,QAAQ;QACT;IACD;IAEA,OAAO;AACR;AAEA,qDAAqD;AACrD,SAAS,UAAU,SAAS;IAC3B,MAAM,QAAQ;IACd,MAAM,QAAQ;QAAC;KAAU,EAAE,0BAA0B;IAErD,KAAK,CAAC,UAAU,CAAC,QAAQ,GAAG;IAE5B,MAAO,MAAM,MAAM,CAAE;QACpB,MAAM,UAAU,MAAM,GAAG;QACzB,MAAM,YAAY,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ;QAElD,IAAK,IAAI,MAAM,UAAU,MAAM,EAAE,IAAI,GAAG,IAAI,KAAK,IAAK;YACrD,MAAM,WAAW,SAAS,CAAC,EAAE;YAC7B,MAAM,OAAO,KAAK,CAAC,SAAS;YAE5B,IAAI,KAAK,QAAQ,KAAK,CAAC,GAAG;gBACzB,KAAK,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,GAAG;gBAC1C,KAAK,MAAM,GAAG;gBACd,MAAM,OAAO,CAAC;YACf;QACD;IACD;IAEA,OAAO;AACR;AAEA,SAAS,KAAK,IAAI,EAAE,EAAE;IACrB,OAAO,SAAU,IAAI;QACpB,OAAO,GAAG,KAAK;IAChB;AACD;AAEA,SAAS,eAAe,OAAO,EAAE,KAAK;IACrC,MAAM,OAAO;QAAC,KAAK,CAAC,QAAQ,CAAC,MAAM;QAAE;KAAQ;IAC7C,IAAI,KAAK,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,QAAQ;IAEpD,IAAI,MAAM,KAAK,CAAC,QAAQ,CAAC,MAAM;IAC/B,MAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAE;QACzB,KAAK,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM;QAC9B,KAAK,KAAK,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;QAC/C,MAAM,KAAK,CAAC,IAAI,CAAC,MAAM;IACxB;IAEA,GAAG,UAAU,GAAG;IAChB,OAAO;AACR;AAEA,OAAO,OAAO,GAAG,SAAU,SAAS;IACnC,MAAM,QAAQ,UAAU;IACxB,MAAM,aAAa,CAAC;IAEpB,MAAM,SAAS,OAAO,IAAI,CAAC;IAC3B,IAAK,IAAI,MAAM,OAAO,MAAM,EAAE,IAAI,GAAG,IAAI,KAAK,IAAK;QAClD,MAAM,UAAU,MAAM,CAAC,EAAE;QACzB,MAAM,OAAO,KAAK,CAAC,QAAQ;QAE3B,IAAI,KAAK,MAAM,KAAK,MAAM;YAEzB;QACD;QAEA,UAAU,CAAC,QAAQ,GAAG,eAAe,SAAS;IAC/C;IAEA,OAAO;AACR"}},
    {"offset": {"line": 24638, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 24642, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/index.js"],"sourcesContent":["const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n"],"names":[],"mappings":"AAAA,MAAM;AACN,MAAM;AAEN,MAAM,UAAU,CAAC;AAEjB,MAAM,SAAS,OAAO,IAAI,CAAC;AAE3B,SAAS,QAAQ,EAAE;IAClB,MAAM,YAAY,SAAU,GAAG,IAAI;QAClC,MAAM,OAAO,IAAI,CAAC,EAAE;QACpB,IAAI,SAAS,aAAa,SAAS,MAAM;YACxC,OAAO;QACR;QAEA,IAAI,KAAK,MAAM,GAAG,GAAG;YACpB,OAAO;QACR;QAEA,OAAO,GAAG;IACX;IAEA,gDAAgD;IAChD,IAAI,gBAAgB,IAAI;QACvB,UAAU,UAAU,GAAG,GAAG,UAAU;IACrC;IAEA,OAAO;AACR;AAEA,SAAS,YAAY,EAAE;IACtB,MAAM,YAAY,SAAU,GAAG,IAAI;QAClC,MAAM,OAAO,IAAI,CAAC,EAAE;QAEpB,IAAI,SAAS,aAAa,SAAS,MAAM;YACxC,OAAO;QACR;QAEA,IAAI,KAAK,MAAM,GAAG,GAAG;YACpB,OAAO;QACR;QAEA,MAAM,SAAS,GAAG;QAElB,8CAA8C;QAC9C,oDAAoD;QACpD,2BAA2B;QAC3B,IAAI,OAAO,WAAW,UAAU;YAC/B,IAAK,IAAI,MAAM,OAAO,MAAM,EAAE,IAAI,GAAG,IAAI,KAAK,IAAK;gBAClD,MAAM,CAAC,EAAE,GAAG,KAAK,KAAK,CAAC,MAAM,CAAC,EAAE;YACjC;QACD;QAEA,OAAO;IACR;IAEA,gDAAgD;IAChD,IAAI,gBAAgB,IAAI;QACvB,UAAU,UAAU,GAAG,GAAG,UAAU;IACrC;IAEA,OAAO;AACR;AAEA,OAAO,OAAO,CAAC,CAAA;IACd,OAAO,CAAC,UAAU,GAAG,CAAC;IAEtB,OAAO,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY;QAAC,OAAO,WAAW,CAAC,UAAU,CAAC,QAAQ;IAAA;IAC7F,OAAO,cAAc,CAAC,OAAO,CAAC,UAAU,EAAE,UAAU;QAAC,OAAO,WAAW,CAAC,UAAU,CAAC,MAAM;IAAA;IAEzF,MAAM,SAAS,MAAM;IACrB,MAAM,cAAc,OAAO,IAAI,CAAC;IAEhC,YAAY,OAAO,CAAC,CAAA;QACnB,MAAM,KAAK,MAAM,CAAC,QAAQ;QAE1B,OAAO,CAAC,UAAU,CAAC,QAAQ,GAAG,YAAY;QAC1C,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,GAAG,QAAQ;IAC3C;AACD;AAEA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 24706, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 24710, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/ansi-styles@4.3.0/node_modules/ansi-styles/index.js"],"sourcesContent":["'use strict';\n\nconst wrapAnsi16 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${code + offset}m`;\n};\n\nconst wrapAnsi256 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${38 + offset};5;${code}m`;\n};\n\nconst wrapAnsi16m = (fn, offset) => (...args) => {\n\tconst rgb = fn(...args);\n\treturn `\\u001B[${38 + offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`;\n};\n\nconst ansi2ansi = n => n;\nconst rgb2rgb = (r, g, b) => [r, g, b];\n\nconst setLazyProperty = (object, property, get) => {\n\tObject.defineProperty(object, property, {\n\t\tget: () => {\n\t\t\tconst value = get();\n\n\t\t\tObject.defineProperty(object, property, {\n\t\t\t\tvalue,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n};\n\n/** @type {typeof import('color-convert')} */\nlet colorConvert;\nconst makeDynamicStyles = (wrap, targetSpace, identity, isBackground) => {\n\tif (colorConvert === undefined) {\n\t\tcolorConvert = require('color-convert');\n\t}\n\n\tconst offset = isBackground ? 10 : 0;\n\tconst styles = {};\n\n\tfor (const [sourceSpace, suite] of Object.entries(colorConvert)) {\n\t\tconst name = sourceSpace === 'ansi16' ? 'ansi' : sourceSpace;\n\t\tif (sourceSpace === targetSpace) {\n\t\t\tstyles[name] = wrap(identity, offset);\n\t\t} else if (typeof suite === 'object') {\n\t\t\tstyles[name] = wrap(suite[targetSpace], offset);\n\t\t}\n\t}\n\n\treturn styles;\n};\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\tconst styles = {\n\t\tmodifier: {\n\t\t\treset: [0, 0],\n\t\t\t// 21 isn't widely supported and 22 does the same thing\n\t\t\tbold: [1, 22],\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolor: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\n\t\t\t// Bright color\n\t\t\tblackBright: [90, 39],\n\t\t\tredBright: [91, 39],\n\t\t\tgreenBright: [92, 39],\n\t\t\tyellowBright: [93, 39],\n\t\t\tblueBright: [94, 39],\n\t\t\tmagentaBright: [95, 39],\n\t\t\tcyanBright: [96, 39],\n\t\t\twhiteBright: [97, 39]\n\t\t},\n\t\tbgColor: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49],\n\n\t\t\t// Bright color\n\t\t\tbgBlackBright: [100, 49],\n\t\t\tbgRedBright: [101, 49],\n\t\t\tbgGreenBright: [102, 49],\n\t\t\tbgYellowBright: [103, 49],\n\t\t\tbgBlueBright: [104, 49],\n\t\t\tbgMagentaBright: [105, 49],\n\t\t\tbgCyanBright: [106, 49],\n\t\t\tbgWhiteBright: [107, 49]\n\t\t}\n\t};\n\n\t// Alias bright black as gray (and grey)\n\tstyles.color.gray = styles.color.blackBright;\n\tstyles.bgColor.bgGray = styles.bgColor.bgBlackBright;\n\tstyles.color.grey = styles.color.blackBright;\n\tstyles.bgColor.bgGrey = styles.bgColor.bgBlackBright;\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tsetLazyProperty(styles.color, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, false));\n\tsetLazyProperty(styles.bgColor, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, true));\n\n\treturn styles;\n}\n\n// Make the export immutable\nObject.defineProperty(module, 'exports', {\n\tenumerable: true,\n\tget: assembleStyles\n});\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 24972, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 24976, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/chalk@3.0.0/node_modules/chalk/source/util.js"],"sourcesContent":["'use strict';\n\nconst stringReplaceAll = (string, substring, replacer) => {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.substr(endIndex, index - endIndex) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nconst stringEncaseCRLFWithFirstIndex = (string, prefix, postfix, index) => {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.substr(endIndex, (gotCR ? index - 1 : index) - endIndex) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nmodule.exports = {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n};\n"],"names":[],"mappings":"AAAA;AAEA,MAAM,mBAAmB,CAAC,QAAQ,WAAW;IAC5C,IAAI,QAAQ,OAAO,OAAO,CAAC;IAC3B,IAAI,UAAU,CAAC,GAAG;QACjB,OAAO;IACR;IAEA,MAAM,kBAAkB,UAAU,MAAM;IACxC,IAAI,WAAW;IACf,IAAI,cAAc;IAClB,GAAG;QACF,eAAe,OAAO,MAAM,CAAC,UAAU,QAAQ,YAAY,YAAY;QACvE,WAAW,QAAQ;QACnB,QAAQ,OAAO,OAAO,CAAC,WAAW;IACnC,QAAS,UAAU,CAAC,EAAG;IAEvB,eAAe,OAAO,MAAM,CAAC;IAC7B,OAAO;AACR;AAEA,MAAM,iCAAiC,CAAC,QAAQ,QAAQ,SAAS;IAChE,IAAI,WAAW;IACf,IAAI,cAAc;IAClB,GAAG;QACF,MAAM,QAAQ,MAAM,CAAC,QAAQ,EAAE,KAAK;QACpC,eAAe,OAAO,MAAM,CAAC,UAAU,CAAC,QAAQ,QAAQ,IAAI,KAAK,IAAI,YAAY,SAAS,CAAC,QAAQ,SAAS,IAAI,IAAI;QACpH,WAAW,QAAQ;QACnB,QAAQ,OAAO,OAAO,CAAC,MAAM;IAC9B,QAAS,UAAU,CAAC,EAAG;IAEvB,eAAe,OAAO,MAAM,CAAC;IAC7B,OAAO;AACR;AAEA,OAAO,OAAO,GAAG;IAChB;IACA;AACD"}},
    {"offset": {"line": 25009, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25013, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/chalk@3.0.0/node_modules/chalk/source/templates.js"],"sourcesContent":["'use strict';\nconst TEMPLATE_REGEX = /(?:\\\\(u(?:[a-f\\d]{4}|\\{[a-f\\d]{1,6}\\})|x[a-f\\d]{2}|.))|(?:\\{(~)?(\\w+(?:\\([^)]*\\))?(?:\\.\\w+(?:\\([^)]*\\))?)*)(?:[ \\t]|(?=\\r?\\n)))|(\\})|((?:.|[\\r\\n\\f])+?)/gi;\nconst STYLE_REGEX = /(?:^|\\.)(\\w+)(?:\\(([^)]*)\\))?/g;\nconst STRING_REGEX = /^(['\"])((?:\\\\.|(?!\\1)[^\\\\])*)\\1$/;\nconst ESCAPE_REGEX = /\\\\(u(?:[a-f\\d]{4}|\\{[a-f\\d]{1,6}\\})|x[a-f\\d]{2}|.)|([^\\\\])/gi;\n\nconst ESCAPES = new Map([\n\t['n', '\\n'],\n\t['r', '\\r'],\n\t['t', '\\t'],\n\t['b', '\\b'],\n\t['f', '\\f'],\n\t['v', '\\v'],\n\t['0', '\\0'],\n\t['\\\\', '\\\\'],\n\t['e', '\\u001B'],\n\t['a', '\\u0007']\n]);\n\nfunction unescape(c) {\n\tconst u = c[0] === 'u';\n\tconst bracket = c[1] === '{';\n\n\tif ((u && !bracket && c.length === 5) || (c[0] === 'x' && c.length === 3)) {\n\t\treturn String.fromCharCode(parseInt(c.slice(1), 16));\n\t}\n\n\tif (u && bracket) {\n\t\treturn String.fromCodePoint(parseInt(c.slice(2, -1), 16));\n\t}\n\n\treturn ESCAPES.get(c) || c;\n}\n\nfunction parseArguments(name, arguments_) {\n\tconst results = [];\n\tconst chunks = arguments_.trim().split(/\\s*,\\s*/g);\n\tlet matches;\n\n\tfor (const chunk of chunks) {\n\t\tconst number = Number(chunk);\n\t\tif (!Number.isNaN(number)) {\n\t\t\tresults.push(number);\n\t\t} else if ((matches = chunk.match(STRING_REGEX))) {\n\t\t\tresults.push(matches[2].replace(ESCAPE_REGEX, (m, escape, character) => escape ? unescape(escape) : character));\n\t\t} else {\n\t\t\tthrow new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction parseStyle(style) {\n\tSTYLE_REGEX.lastIndex = 0;\n\n\tconst results = [];\n\tlet matches;\n\n\twhile ((matches = STYLE_REGEX.exec(style)) !== null) {\n\t\tconst name = matches[1];\n\n\t\tif (matches[2]) {\n\t\t\tconst args = parseArguments(name, matches[2]);\n\t\t\tresults.push([name].concat(args));\n\t\t} else {\n\t\t\tresults.push([name]);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction buildStyle(chalk, styles) {\n\tconst enabled = {};\n\n\tfor (const layer of styles) {\n\t\tfor (const style of layer.styles) {\n\t\t\tenabled[style[0]] = layer.inverse ? null : style.slice(1);\n\t\t}\n\t}\n\n\tlet current = chalk;\n\tfor (const [styleName, styles] of Object.entries(enabled)) {\n\t\tif (!Array.isArray(styles)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!(styleName in current)) {\n\t\t\tthrow new Error(`Unknown Chalk style: ${styleName}`);\n\t\t}\n\n\t\tcurrent = styles.length > 0 ? current[styleName](...styles) : current[styleName];\n\t}\n\n\treturn current;\n}\n\nmodule.exports = (chalk, temporary) => {\n\tconst styles = [];\n\tconst chunks = [];\n\tlet chunk = [];\n\n\t// eslint-disable-next-line max-params\n\ttemporary.replace(TEMPLATE_REGEX, (m, escapeCharacter, inverse, style, close, character) => {\n\t\tif (escapeCharacter) {\n\t\t\tchunk.push(unescape(escapeCharacter));\n\t\t} else if (style) {\n\t\t\tconst string = chunk.join('');\n\t\t\tchunk = [];\n\t\t\tchunks.push(styles.length === 0 ? string : buildStyle(chalk, styles)(string));\n\t\t\tstyles.push({inverse, styles: parseStyle(style)});\n\t\t} else if (close) {\n\t\t\tif (styles.length === 0) {\n\t\t\t\tthrow new Error('Found extraneous } in Chalk template literal');\n\t\t\t}\n\n\t\t\tchunks.push(buildStyle(chalk, styles)(chunk.join('')));\n\t\t\tchunk = [];\n\t\t\tstyles.pop();\n\t\t} else {\n\t\t\tchunk.push(character);\n\t\t}\n\t});\n\n\tchunks.push(chunk.join(''));\n\n\tif (styles.length > 0) {\n\t\tconst errMsg = `Chalk template literal is missing ${styles.length} closing bracket${styles.length === 1 ? '' : 's'} (\\`}\\`)`;\n\t\tthrow new Error(errMsg);\n\t}\n\n\treturn chunks.join('');\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 25159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25163, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/chalk@3.0.0/node_modules/chalk/source/index.js"],"sourcesContent":["'use strict';\nconst ansiStyles = require('ansi-styles');\nconst {stdout: stdoutColor, stderr: stderrColor} = require('supports-color');\nconst {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n} = require('./util');\n\n// `supportsColor.level` → `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m'\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level > 3 || options.level < 0) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nclass ChalkClass {\n\tconstructor(options) {\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = {};\n\tapplyOptions(chalk, options);\n\n\tchalk.template = (...arguments_) => chalkTag(chalk.template, ...arguments_);\n\n\tObject.setPrototypeOf(chalk, Chalk.prototype);\n\tObject.setPrototypeOf(chalk.template, chalk);\n\n\tchalk.template.constructor = () => {\n\t\tthrow new Error('`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.');\n\t};\n\n\tchalk.template.Instance = ChalkClass;\n\n\treturn chalk.template;\n};\n\nfunction Chalk(options) {\n\treturn chalkFactory(options);\n}\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this._styler), this._isEmpty);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t}\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this._styler, true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t}\n};\n\nconst usedModels = ['rgb', 'hex', 'keyword', 'hsl', 'hsv', 'hwb', 'ansi', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.color[levelMapping[level]][model](...arguments_), ansiStyles.color.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nfor (const model of usedModels) {\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.bgColor[levelMapping[level]][model](...arguments_), ansiStyles.bgColor.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this._generator.level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis._generator.level = level;\n\t\t}\n\t}\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\tconst builder = (...arguments_) => {\n\t\t// Single argument is hot path, implicit coercion is faster than anything\n\t\t// eslint-disable-next-line no-implicit-coercion\n\t\treturn applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\t};\n\n\t// `__proto__` is used because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tbuilder.__proto__ = proto; // eslint-disable-line no-proto\n\n\tbuilder._generator = self;\n\tbuilder._styler = _styler;\n\tbuilder._isEmpty = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self._isEmpty ? '' : string;\n\t}\n\n\tlet styler = self._styler;\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.indexOf('\\u001B') !== -1) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nlet template;\nconst chalkTag = (chalk, ...strings) => {\n\tconst [firstString] = strings;\n\n\tif (!Array.isArray(firstString)) {\n\t\t// If chalk() was called by itself or with a string,\n\t\t// return the string itself as a string.\n\t\treturn strings.join(' ');\n\t}\n\n\tconst arguments_ = strings.slice(1);\n\tconst parts = [firstString.raw[0]];\n\n\tfor (let i = 1; i < firstString.length; i++) {\n\t\tparts.push(\n\t\t\tString(arguments_[i - 1]).replace(/[{}\\\\]/g, '\\\\$&'),\n\t\t\tString(firstString.raw[i])\n\t\t);\n\t}\n\n\tif (template === undefined) {\n\t\ttemplate = require('./templates');\n\t}\n\n\treturn template(chalk, parts.join(''));\n};\n\nObject.defineProperties(Chalk.prototype, styles);\n\nconst chalk = Chalk(); // eslint-disable-line new-cap\nchalk.supportsColor = stdoutColor;\nchalk.stderr = Chalk({level: stderrColor ? stderrColor.level : 0}); // eslint-disable-line new-cap\nchalk.stderr.supportsColor = stderrColor;\n\n// For TypeScript\nchalk.Level = {\n\tNone: 0,\n\tBasic: 1,\n\tAnsi256: 2,\n\tTrueColor: 3,\n\t0: 'None',\n\t1: 'Basic',\n\t2: 'Ansi256',\n\t3: 'TrueColor'\n};\n\nmodule.exports = chalk;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 25366, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25371, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/stacktrace-parser@0.1.11/node_modules/stacktrace-parser/dist/stack-trace-parser.esm.js"],"sourcesContent":["var UNKNOWN_FUNCTION = '<unknown>';\n/**\n * This parses the different stack traces and puts them into one format\n * This borrows heavily from TraceKit (https://github.com/csnover/TraceKit)\n */\n\nfunction parse(stackString) {\n  var lines = stackString.split('\\n');\n  return lines.reduce(function (stack, line) {\n    var parseResult = parseChrome(line) || parseWinjs(line) || parseGecko(line) || parseNode(line) || parseJSC(line);\n\n    if (parseResult) {\n      stack.push(parseResult);\n    }\n\n    return stack;\n  }, []);\n}\nvar chromeRe = /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\\/|[a-z]:\\\\|\\\\\\\\).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nvar chromeEvalRe = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nfunction parseChrome(line) {\n  var parts = chromeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n\n  var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n  var submatch = chromeEvalRe.exec(parts[2]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line/column number\n    parts[2] = submatch[1]; // url\n\n    parts[3] = submatch[2]; // line\n\n    parts[4] = submatch[3]; // column\n  }\n\n  return {\n    file: !isNative ? parts[2] : null,\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: isNative ? [parts[2]] : [],\n    lineNumber: parts[3] ? +parts[3] : null,\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar winjsRe = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseWinjs(line) {\n  var parts = winjsRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar geckoRe = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar geckoEvalRe = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nfunction parseGecko(line) {\n  var parts = geckoRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n  var submatch = geckoEvalRe.exec(parts[3]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line number\n    parts[3] = submatch[1];\n    parts[4] = submatch[2];\n    parts[5] = null; // no column when eval\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: parts[2] ? parts[2].split(',') : [],\n    lineNumber: parts[4] ? +parts[4] : null,\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar javaScriptCoreRe = /^\\s*(?:([^@]*)(?:\\((.*?)\\))?@)?(\\S.*?):(\\d+)(?::(\\d+))?\\s*$/i;\n\nfunction parseJSC(line) {\n  var parts = javaScriptCoreRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[4],\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar nodeRe = /^\\s*at (?:((?:\\[object object\\])?[^\\\\/]+(?: \\[as \\S+\\])?) )?\\(?(.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseNode(line) {\n  var parts = nodeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nexport { parse };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 25480, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25484, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@swc+helpers@0.5.5/node_modules/@swc/helpers/cjs/_interop_require_default.cjs"],"sourcesContent":["\"use strict\";\n\nexports._ = exports._interop_require_default = _interop_require_default;\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n"],"names":[],"mappings":"AAAA;AAEA,QAAQ,CAAC,GAAG,QAAQ,wBAAwB,GAAG;AAC/C,SAAS,yBAAyB,GAAG;IACjC,OAAO,OAAO,IAAI,UAAU,GAAG,MAAM;QAAE,SAAS;IAAI;AACxD"}},
    {"offset": {"line": 25491, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25496, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@swc+helpers@0.5.5/node_modules/@swc/helpers/esm/_class_private_field_loose_base.js"],"sourcesContent":["export function _class_private_field_loose_base(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n        throw new TypeError(\"attempted to use private field on non-instance\");\n    }\n\n    return receiver;\n}\nexport { _class_private_field_loose_base as _ };\n"],"names":[],"mappings":";;;;AAAO,SAAS,gCAAgC,QAAQ,EAAE,UAAU;IAChE,IAAI,CAAC,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,aAAa;QAC7D,MAAM,IAAI,UAAU;IACxB;IAEA,OAAO;AACX"}},
    {"offset": {"line": 25507, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25512, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@swc+helpers@0.5.5/node_modules/@swc/helpers/esm/_class_private_field_loose_key.js"],"sourcesContent":["var id = 0;\n\nexport function _class_private_field_loose_key(name) {\n    return \"__private_\" + id++ + \"_\" + name;\n}\nexport { _class_private_field_loose_key as _ };\n"],"names":[],"mappings":";;;;AAAA,IAAI,KAAK;AAEF,SAAS,+BAA+B,IAAI;IAC/C,OAAO,eAAe,OAAO,MAAM;AACvC"}},
    {"offset": {"line": 25521, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25526, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/.pnpm/@swc+helpers@0.5.5/node_modules/@swc/helpers/esm/_tagged_template_literal_loose.js"],"sourcesContent":["export function _tagged_template_literal_loose(strings, raw) {\n    if (!raw) raw = strings.slice(0);\n\n    strings.raw = raw;\n\n    return strings;\n}\nexport { _tagged_template_literal_loose as _ };\n"],"names":[],"mappings":";;;;AAAO,SAAS,+BAA+B,OAAO,EAAE,GAAG;IACvD,IAAI,CAAC,KAAK,MAAM,QAAQ,KAAK,CAAC;IAE9B,QAAQ,GAAG,GAAG;IAEd,OAAO;AACX"}},
    {"offset": {"line": 25536, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}